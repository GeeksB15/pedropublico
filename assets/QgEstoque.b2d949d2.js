import{_ as w,bz as z,ba as k,r as v,o as c,n as _,B as o,G as V,bb as P,f as i,aV as C,w as l,N as u,k as m,d as f,t as h,e as g,y as b,be as N}from"./index.f2a220da.js";const G={data(){return{dados:{},opcoes:{}}},methods:{atualizar({dados:e,opcoes:t}){}}},S={components:{GraficoPizza:G},computed:{tipos(){return{graficoPizza:{type:"pie",labels:this.dados.estoque[1].filter(e=>e.estoque).map(e=>e.tipo),datasets:[{label:"Valor de Custo",backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],data:this.dados.estoque[1].filter(e=>e.estoque).map(e=>e.estoque)}],cfg:{responsive:!0}}}},grupos(){return{graficoPizza:{type:"pie",labels:this.dados.estoque[4].filter(e=>e.estoque).map(e=>e.grupo),datasets:[{label:"Valor de Custo",backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],data:this.dados.estoque[4].filter(e=>e.estoque).map(e=>e.estoque)}],cfg:{responsive:!0}}}},marcas(){return{graficoPizza:{type:"pie",labels:this.dados.estoque[2].filter(e=>e.estoque).map(e=>e.marca),datasets:[{label:"Valor de Custo",backgroundColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],data:this.dados.estoque[2].filter(e=>e.estoque).map(e=>e.estoque)}],cfg:{responsive:!0}}}},giro(){let e=z(this.dados.estoque[3]),t=e,a=e,x=[];t=t.sort((d,s)=>{const r=(d.faixaVenda||"").match(/\d+/gi),n=(s.faixaVenda||"").match(/\d+/gi);return Number(r[0])>Number(n[0])?r[1]&&n[1]&&Number(r[1])<Number(n[1])?-1:1:-1}),t=new Set(t.map(d=>d.faixaVenda)),t=["",...t],t=t.map((d,s)=>({name:"faixa"+s,label:d,field:"faixa"+s,align:"left"})),a=a.sort((d,s)=>{const r=(d.faixaGiro||"").match(/\d+/gi),n=(s.faixaGiro||"").match(/\d+/gi);return Number(r[0])>Number(n[0])?r[1]&&n[1]&&Number(r[1])<Number(n[1])?-1:1:-1}),a=new Set(a.map(d=>d.faixaGiro));for(const d of a){let s=0,r={faixa0:d};for(const n of t.filter(q=>q.label)){const q=e.reduce((p,y)=>y.faixaVenda===n.label&&y.faixaGiro===d?p+y.custoTotal:p,0);s+=q,r[n.name]=this.$filters.numero(q,2)}r.totais=this.$filters.numero(s,2),x.push(r)}return{columns:t,tableData:x}}},data(){return{sistemaPai:""}},props:{carregando:{default:!0,required:!0,type:Boolean},dados:{default:()=>({}),required:!0,type:Object}},created(){this.sistemaPai=k()}},T={class:"row q-col-gutter-sm q-mt-sm q-pb-md"},B={class:"col-12",style:{float:"right"}},D={style:{"font-size":"70%"}},Q={class:"col-12 q-mt-sm"},j={class:"row justify-around"},E={class:"text-h5 text-weight-bold text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},M={class:"text-primary"},O={class:"text-h5 text-weight-bold text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},U={class:"text-primary"},A={class:"text-h5 text-weight-bold text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},F={class:"text-primary"},H={class:"text-h5 text-weight-bold text-center q-mt-sm q-pb-none",style:{"line-height":"22px"}},I={class:"text-primary"},J={key:0,class:"col-6"},K={key:1,class:"col-6"},L={class:"col-6"},R={class:"col-12"};function W(e,t,a,x,d,s){const r=v("grafico-pizza");return c(),_("div",T,[o("div",B,[o("span",D,[V(i(C,{color:"primary",size:20},null,512),[[P,a.carregando]])])]),o("div",Q,[i(b,{inline:"",color:"white",class:"fit no-shadow"},{default:l(()=>[i(u,{class:"text-tertiary q-title q-pb-sm"},{default:l(()=>t[0]||(t[0]=[m("Estoque")])),_:1}),!a.carregando&&a.dados.estoque&&a.dados.estoque[0]&&a.dados.estoque[0][0]?(c(),f(u,{key:0},{default:l(()=>[o("div",j,[o("div",E,[o("div",M,h(e.$filters.numero(a.dados.estoque[0][0].estoqueCusto,2)),1),t[1]||(t[1]=o("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Custo Total ",-1))]),o("div",O,[o("div",U,h(e.$filters.numero(a.dados.estoque[0][0].qtdeSku,0)),1),t[2]||(t[2]=o("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Unidades ",-1))]),o("div",A,[o("div",F,h(e.$filters.numero(a.dados.estoque[0][0].estoqueVenda,2)),1),t[3]||(t[3]=o("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Valor Venda ",-1))]),o("div",H,[o("div",I,h(e.$filters.numero(a.dados.estoque[0][0].margem,0))+"% ",1),t[4]||(t[4]=o("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Margem ",-1))])])]),_:1})):g("",!0)]),_:1})]),d.sistemaPai==="optisoul"?(c(),_("div",J,[i(b,{inline:"",color:"white",class:"fit no-shadow"},{default:l(()=>[i(u,{class:"text-tertiary q-title q-pb-sm"},{default:l(()=>t[5]||(t[5]=[m("Tipos")])),_:1}),!a.carregando&&a.dados.estoque&&a.dados.estoque[1]?(c(),f(u,{key:0},{default:l(()=>[i(r,{class:"col-12",dados:s.tipos.graficoPizza,opcoes:s.tipos.graficoPizza.cfg},null,8,["dados","opcoes"])]),_:1})):g("",!0)]),_:1})])):(c(),_("div",K,[i(b,{inline:"",color:"white",class:"fit no-shadow"},{default:l(()=>[i(u,{class:"text-tertiary q-title q-pb-sm"},{default:l(()=>t[6]||(t[6]=[m("Grupos")])),_:1}),!a.carregando&&a.dados.estoque&&a.dados.estoque[1]?(c(),f(u,{key:0},{default:l(()=>[i(r,{class:"col-12",dados:s.grupos.graficoPizza,opcoes:s.grupos.graficoPizza.cfg},null,8,["dados","opcoes"])]),_:1})):g("",!0)]),_:1})])),o("div",L,[i(b,{inline:"",color:"white",class:"fit no-shadow"},{default:l(()=>[i(u,{class:"text-tertiary q-title q-pb-sm"},{default:l(()=>t[7]||(t[7]=[m("Marcas")])),_:1}),!a.carregando&&a.dados.estoque&&a.dados.estoque[2]?(c(),f(u,{key:0},{default:l(()=>[i(r,{class:"col-12",dados:s.marcas.graficoPizza,opcoes:s.marcas.graficoPizza.cfg},null,8,["dados","opcoes"])]),_:1})):g("",!0)]),_:1})]),o("div",R,[i(b,{inline:"",color:"white",class:"fit no-shadow"},{default:l(()=>[i(u,{class:"text-tertiary q-title q-pb-sm"},{default:l(()=>t[8]||(t[8]=[m("Giro")])),_:1}),!a.carregando&&a.dados.estoque&&a.dados.estoque[3]?(c(),f(u,{key:0},{default:l(()=>[i(N,{rows:s.giro.tableData,columns:s.giro.columns,class:"no-shadow text-left col-12","hide-bottom":""},null,8,["rows","columns"])]),_:1})):g("",!0)]),_:1})])])}var Y=w(S,[["render",W]]);export{Y as default};
