import{_ as f,o as c,i as I,w as l,f as t,B as C,D as u,x as r,d as h,l as k,bm as w,t as d,n as g,A as p,W as x,X as y,p as o,C as m,b0 as _,G as P}from"./index.e0611938.js";import{P as $}from"./Plataforma15.0d9dd1ba.js";import{_ as q}from"./b15-white.58ad6516.js";import{_ as B}from"./optidados-white.e4237b1d.js";const E={computed:{piscarContador(){return this.contador==="00:00"}},data(){return{dbUsuario:$db.usuario,sistemaPai:"",horario:null,contador:null,actualFullScreenIcon:"fullscreen"}},methods:{IsFullScreenCurrently(){var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||null;return e===null?(this.actualFullScreenIcon="fullscreen_exit",!1):(this.actualFullScreenIcon="fullscreen",!0)},GoInFullscreen(e){console.log("GoInFullscreen"),e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},GoOutFullscreen(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},abrirFullscreen(){this.IsFullScreenCurrently()?this.GoOutFullscreen():this.GoInFullscreen(document.getElementById("dashboards"))},alternarMenu(){$db.app.menuVisivel.value=!$db.app.menuVisivel.value},iniciarContador(){let e=6e4;this.contador=new Date(e).toISOString().substring(14,19),this.horario=new Date().toLocaleTimeString(),this.contadorInterval=setInterval(async()=>{e-=1e3,this.contador=new Date(e).toISOString().substring(14,19),e>0||(clearInterval(this.contadorInterval),await new Promise((n,i)=>{$utils.emitter.emit("atualizarDashboards",n)}),this.iniciarContador())},1e3)}},async mounted(){this.sistemaPai=$utils.sistemaPai(),this.iniciarContador()},beforeUnmount(){clearInterval(this.contadorInterval)}},D=e=>(x("data-v-183bdac6"),e=e(),y(),e),z={style:{height:"30px"}},O=D(()=>r("img",{src:q,alt:"B15",style:{height:"30px"},class:"q-mr-md"},null,-1)),G={key:0,src:B,alt:"Optidados",style:{height:"30px"},class:"q-mr-md"},R={class:"flex justify-between items-center"},N={class:"q-mr-md"};function Q(e,n,i,F,s,a){return c(),I(p,{unelevated:""},{default:l(()=>[t(C,{class:"bg-azul q-px-sm"},{default:l(()=>[t(u,{onClick:a.alternarMenu,icon:"menu",flat:"",round:"",dense:"",color:"white",class:"q-mr-sm"},null,8,["onClick"]),r("div",z,[O,s.sistemaPai==="optisoul"?(c(),h("img",G)):k("",!0)]),t(w),r("div",R,[r("div",N,[r("span",null,d(s.horario)+" | ",1),r("span",{class:g(a.piscarContador?"blink":"")},d(s.contador),3)]),t(u,{onClick:a.abrirFullscreen,icon:s.actualFullScreenIcon,flat:"",round:"",dense:"",color:"white"},null,8,["onClick","icon"])])]),_:1})]),_:1})}var T=f(E,[["render",Q],["__scopeId","data-v-183bdac6"]]);const V={components:{Plataforma15:$,BarraTopo:T},data(){return{rota:"",start:!1}},methods:{async menu_click(e){this.$refs.Plataforma15.menu_click(e)}},mounted(){this.$route.name==="Plataforma15"&&!this.$route.redirectedFrom&&this.$refs.Plataforma15.menu_click(JSON.parse(JSON.stringify(this.$route.params)))}},M={ref:"dashboards",id:"dashboards"};function j(e,n,i,F,s,a){const b=o("barra-topo"),v=o("Plataforma15"),S=o("router-view");return c(),h("div",M,[t(p,null,{default:l(()=>[t(b,{onMenuClick:a.menu_click},null,8,["onMenuClick"])]),_:1}),t(P,null,{default:l(()=>[m(t(v,{ref:"Plataforma15"},null,512),[[_,e.$route.name==="Plataforma15"]]),m(t(S,null,null,512),[[_,e.$route.name!=="Plataforma15"]])]),_:1})],512)}var H=f(V,[["render",j]]);export{H as default};
