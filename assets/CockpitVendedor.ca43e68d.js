import{_ as F,o as k,n as A,f as i,bs as Y,B as a,K as y,A as J,e as _,X as $,r as P,w as r,aq as G,p as L,j as R,R as I,at as B,bf as q,S as M,T as W,U as K,d as S,Q as x,ax as X,G as p,k as l,M as Z,y as C,t as c,bb as g,aV as ee,u as T,N as h,m as V,be as E,dj as N,dk as b,dW as z,F as H}from"./index.188ab8e6.js";import{I as te}from"./Icone.661bcb94.js";import{o as oe}from"./open-url.325bfeba.js";import{J as ie}from"./JsonViewer.3dbbef92.js";const re={name:"Gauge",data(){return{load:!1,width:300,height:150,widthBefore:210,heightBefore:105}},props:{target:{default:0,type:Number},current:{default:0,type:Number},dg1:{default:"#c0392b",type:String},dg2:{default:"#f1c40f",type:String},dg3:{default:"#1abc9c",type:String},color:{default:"#f2f2f2",type:String},colorCenter:{default:"#fff",type:String}},methods:{scale(){this.width=Number(window.getComputedStyle(this.$refs.gaugeContent).width.replace("px","")),this.height=this.width/2,this.widthBefore=this.width-this.width*(30/100),this.heightBefore=this.height-this.height*(30/100),this.angle(this.current,this.target)},angle(o,e){if(this.$refs.gaugeCircleMask){const u=Number(o),t=Number(e);let s=0;u===0||t===0?s=0:u>t||u===t?s=180:u<t&&(s=u*180/t),this.$refs.gaugeCircleMask.style.transform=`rotate(${s}deg)`,this.$refs.gaugeCircleMask.style["-webkit-transform"]=`rotate(${s}deg)`,this.$refs.gaugeCircleMask.style["-moz-transform"]=`rotate(${s}deg)`}}},mounted(){this.scale(),setTimeout(()=>{this.load=!0},260)},watch:{current:{handler(o){this.angle(o,this.target)},immediate:!0},target:{handler(o){this.angle(this.current,o)},immediate:!0}}},ae={ref:"gaugeContent",class:"gaugeContent"};function ne(o,e,d,u,t,s){return k(),A("div",ae,[i(Y,{onResize:s.scale},null,8,["onResize"]),a("div",{class:"gaugeMask",style:y(`width:${t.width}px; height:${t.height}px;`)},[a("div",{class:"gaugeCircle",style:y(`width:${t.width}px; height:${t.height}px; background:linear-gradient(to right, ${d.dg1} 0%, ${d.dg2} 50%, ${d.dg3} 100%);`)},[a("div",{class:"gaugeCircle-before",style:y(`width:${t.widthBefore}px; height:${t.heightBefore}px; margin-left:-${t.heightBefore}px; background: ${d.colorCenter};`)},[a("div",{class:"gaugeContentText",style:y(`width:${t.widthBefore}px; height:${t.heightBefore}px; margin-left:-${t.heightBefore}px; background: ${d.colorCenter};`)},[J(o.$slots,"default",{},void 0,!0)],4)],4)],4),a("div",{ref:"gaugeCircleMask",class:"gaugeCircleMask",style:y(`width:${t.width}px; height:${t.width}px;`)},[t.load?(k(),A("div",{key:0,class:"gaugeCircleMask-before",style:y(`width: ${t.width}px; height: ${t.height}px; background:${d.color};`)},null,4)):_("",!0)],4)],4)],512)}var se=F(re,[["render",ne],["__scopeId","data-v-69a1f783"]]);const le={components:{Avatar:$,Icone:te,JsonViewer:ie,Gauge:se},computed:{faturamentoProgressBar(){let o,e,d,u,t,s={};return e=this.cockpit.faturamento.periodo||0,d=this.cockpit.faturamento.hoje||0,u=this.cockpit.faturamento.projecao||0,o=$utils.arredondar(u),t=$utils.arredondar((e-d)*100/o),s.periodo="width:"+t+"%",t=$utils.arredondar(d*100/o),s.hoje="width:"+t+"%",t=$utils.arredondar((u-e)*100/o),s.projecao="width:"+t+"%",s},colunas(){return{aniversariantes:[{name:"imagem",label:"",field:"imagem",align:"left"},{name:"nome",label:"Nome",field:"nome",sortable:!0,align:"left"},{name:"telefone",label:"Telefone",field:"telefone",align:"left"},{name:"aniversario",label:"Data",field:"aniversario",align:"left"}],posVenda:[{name:"imagem",label:"",field:"imagem",align:"left"},{name:"nome",label:"Cliente",field:"nome",sortable:!0,align:"left"},{name:"telefone",label:"Telefone",field:"telefone",align:"left"},{name:"nroVenda",label:"Venda",field:"numero",align:"left"},...this.sistemaPai==="optisoul"?[{name:"nroEnvelope",label:"Envelope",field:"numero",align:"left"}]:[],{name:"valor",label:"Valor",field:"valor",align:"left"}]}}},data(){return{sistemaPai:"",metasPermissao:!1,carregando:!0,cockpit:{faturamento:{periodo:0,hoje:0,projecao:0},ticketMedio:{ticketMedioPeriodo:0,ticketMedioPeriodoAnoAnterior:0,percentualTicketPeriodoRelAnterior:0,ticketMedioYeartoDate:0,ticketMedioYeartoDateAnoAnterior:0,percentualTicketMedioYeartoDateRelAnterior:0,maiorVendaPeriodo:0,maiorVendaPeriodoNumeroFatura:0,maiorVendaPeriodoNomeCliente:"",maiorVendaHistoria:0},conversao:{conversoesHoje:0,atendimentosHoje:0,conversoesPeriodo:0,atendimentosPeriodo:0},pendencias:{orcamentos:0,envelopesAtrasados:0,envelopesHoje:0,envelopesAEntregar:0,tarefas:0},parametros:{periodoIni:0,periodoFim:0,periodoIniAnoAnterior:0,periodoFimAnoAnterior:0,ytDDia1:0,ytDHoje:0,ytDAnoAnteriorDia1:0,ytDAnoAnteriorHoje:0},posVenda:[],aniversariantes:[],metas:[]},contato:{},empresas:[],nomesEmpresasSelecionadas:[],filtro:{codigoClienteSistema:"",codigoContatoUsuario:"",empresas:[],periodo:{ini:"",fim:""}}}},props:{usuario:Object},methods:{irParaCockpitVendas(){this.$router.push({name:"CockpitVendas",params:{id:this.$route.params.id,periodo:{ini:this.cockpit.pendencias.orcamentosPeriodoIni,fim:this.cockpit.pendencias.orcamentosPeriodoFim}}})},irParaCockpitEnvelopes(){this.$router.push({name:"CockpitEnvelopes",params:{id:this.$route.params.id,filtroT:JSON.stringify(this.filtro)}})},irParaAtendimentoContato(o){this.$router.push({name:"AtendimentoContato",params:{id:o}})},irParaAtendimentoVenda(o){this.$router.push({name:"AtendimentoVenda",params:{id:o}})},abrirURL:oe,async abrirTelefone(o){var u,t,s,v,D,m;if(!(o!=null&&o.telefone))return;let e;o.aniversario&&(e=await $db.configuracoes.le({nome:"cockpit.msg.aniversario"}),e=e.length?e[0].valor:`Parab\xE9ns, ${o.apelido}`,e=e.replace("[Nome]",o.nome),e=e.replace("[Apelido]",o.apelido),e=e.replace("[PrimeiroNome]",(s=(t=(u=o.nome)==null?void 0:u.split(" "))==null?void 0:t[0])!=null?s:""),e=e.replace("[PrimeiroApelido]",(m=(D=(v=o.apelido)==null?void 0:v.split(" "))==null?void 0:D[0])!=null?m:""));const d=o.tipoTelefone==="WhatsApp"?"https://api.whatsapp.com/send?"+(o.aniversario?`text=${e}`:"")+"&phone=":"tel:+";this.abrirURL(d+await $utils.formatarTelefone(o))},telefoneIcone(o){return{Celular:{color:"dark",name:"phone_iphone",size:"18px"},Comercial:{color:"dark",name:"phone",size:"18px"},Fixo:{color:"dark",name:"phone",size:"18px"},Principal:{color:"orange",name:"star",size:"18px"},WhatsApp:{cor:"whatsapp",nome:"whatsapp",tamanho:18}}[o]||{color:"dark",name:"phone",size:"18px"}},async obterContatos(o){let e={};for(const d of o)if(d.idContato&&!e[d.idContato]){const u=await $erp().contato.get(d.idContato);u&&u.id&&(e[d.idContato]={imagem:u.imagem||""})}this.contato=e},async obterConsultaRecente(){await this.criarObjStoreIDB();const o=String(this.codigoClienteSistema)+"_"+String(this.codigoContatoUsuario)+"/vendedor";let e=await this.obterObjIDb(o);if(e){this.filtro={codigoClienteSistema:this.codigoClienteSistema,codigoContatoUsuario:this.codigoContatoUsuario,empresas:e.empresas,dataConsulta:new Date(e.dataConsulta),periodo:e.periodo},this.nomesEmpresasSelecionadas=[];for(const u of this.filtro.empresas){const t=this.empresas.find(s=>s.codigoContato===u);t&&this.nomesEmpresasSelecionadas.push(t.nome)}const d=e.dados;return await this.obterContatos([...d.posVenda,...d.aniversariantes]),this.acertarDatas(d),this.cockpit=d,!0}return!1},async salvarConsultaRecente(){await this.criarObjStoreIDB(),this.salvarObjIDb({id:String(this.filtro.codigoClienteSistema)+"_"+String(this.filtro.codigoContatoUsuario)+"/vendedor",periodo:this.filtro.periodo,dataConsulta:this.filtro.dataConsulta.toISOString(),empresas:this.filtro.empresas,dados:this.cockpit})},async criarObjStoreIDB(){if(!("indexedDB"in window)){console.log("Navegador sem suporte ao IndexedDB");return}let o=indexedDB.open("cockpit",1);return o.onupgradeneeded=function(e){e.target.result.createObjectStore("consultasRecentes",{keyPath:"id"}).createIndex("id","id",{unique:!0})},new Promise((e,d)=>{o.onsuccess=function(u){e()},o.onerror=function(u){e()}})},salvarObjIDb(o){if(!("indexedDB"in window))return;let e,d,u;return e=new Promise((t,s)=>{u=t}),d=indexedDB.open("cockpit",1),d.onsuccess=function(){d=d.result.transaction(["consultasRecentes"],"readwrite").objectStore("consultasRecentes").put($utils.clonarV2(o)),d.onsuccess=function(v){u()},d.onerror=function(v){u()}},e},obterObjIDb(o){if(!("indexedDB"in window))return;let e,d,u;return e=new Promise((t,s)=>{u=t}),d=indexedDB.open("cockpit",1),d.onsuccess=function(){d=d.result.transaction(["consultasRecentes"],"readwrite").objectStore("consultasRecentes").get(o),d.onsuccess=function(v){u(v.target.result)},d.onerror=function(v){u()}},e},async filtrar(){this.carregando=!0,this.contato={},this.filtro.periodo.ini=new Date(this.filtro.periodo.ini).toISOString(),this.filtro.periodo.fim=new Date(this.filtro.periodo.fim).toISOString(),this.filtro.dataConsulta=new Date;let o=await this.$utils.geeksApi({"cockpit-vendedor":{funcao:"2E4C5B9C-11FC-49BF-A3FD-C4696ABC4879",codigoClienteSistema:this.filtro.codigoClienteSistema,codigoContatoUsuario:this.filtro.codigoContatoUsuario,codigoUsuario:$db.usuario.logado.codigoUsuario,empresas:$utils.clonarV2(this.filtro.empresas).map(e=>e.codigoContato),periodo:this.filtro.periodo}});o=o.data["cockpit-vendedor"],await this.obterContatos([...o.posVenda,...o.aniversariantes]),this.acertarDatas(o),this.cockpit=o,this.salvarConsultaRecente(),this.carregando=!1},acertarDatas(o){const e=new Date(new Date().setHours(0,0,0,0)).toISOString().replace(/\d{4}-\d{2}-\d{2}/g,"");o.parametros.periodoIni=(o.parametros.periodoIni||"").replace(/T.+$/g,e),o.parametros.periodoFim=(o.parametros.periodoFim||"").replace(/T.+$/g,e),o.parametros.periodoIniAnoAnterior=(o.parametros.periodoIniAnoAnterior||"").replace(/T.+$/g,e),o.parametros.periodoFimAnoAnterior=(o.parametros.periodoFimAnoAnterior||"").replace(/T.+$/g,e),o.parametros.ytDDia1=(o.parametros.ytDDia1||"").replace(/T.+$/g,e),o.parametros.ytDHoje=(o.parametros.ytDHoje||"").replace(/T.+$/g,e),o.parametros.ytDAnoAnteriorDia1=(o.parametros.ytDAnoAnteriorDia1||"").replace(/T.+$/g,e),o.parametros.ytDAnoAnteriorHoje=(o.parametros.ytDAnoAnteriorHoje||"").replace(/T.+$/g,e)},async atualizar(o=!0){try{let e,d,u;u=(await $erp().contato.get(this.usuario.id)||{}).codigoContato,e=JSON.parse(localStorage.getItem("clienteSistema"))||{},d=e.codigoClienteSistema,this.codigoClienteSistema=d,this.codigoContatoUsuario=u;const v=(await $db.contato.ler({filtros:{ativo:!0,empresas:!0}})).data.map(f=>f.id);let D=(await $erp().empresa.toArray()).filter(f=>~v.indexOf(f.idContato));this.empresas=D.map(f=>({codigoContato:f.codigoContato,nome:f!=null&&f.sigla?f==null?void 0:f.sigla:f.apelido+" - "+f.numeroDocumentoNacional,apelido:f.apelido,numeroDocumentoNacional:f.numeroDocumentoNacional}));let m,j;if(m=new Date(new Date(new Date().setDate(1)).setHours(0,0,0,0)),j=new Date(new Date(new Date(m).setMonth(m.getMonth()+1)).setDate(0)),this.nomesEmpresasSelecionadas=[],this.filtro={codigoClienteSistema:this.codigoClienteSistema,codigoContatoUsuario:this.codigoContatoUsuario,empresas:[],dataConsulta:new Date,periodo:{ini:m,fim:j}},o&&await this.obterConsultaRecente()&&(this.carregando=!1,!(new Date-new Date(this.filtro.dataConsulta)>5*6e4)))return;this.filtrar()}catch(e){$q.notifyError("N\xE3o foi poss\xEDvel carregar os dados do cockpit",e)}},async mostrarJsonViewer(){await this.$refs.jsonViewer.show(this)}},watch:{"$route.params.id"(){!~this.$route.name.indexOf("CockpitVendedor")||this.atualizar()},"filtro.periodo.ini"(){console.log("filtro.periodo.ini",this.filtro.periodo.ini)}},async created(){this.sistemaPai=$utils.sistemaPai(),this.metasPermissao=await $db.permissao.objeto("configuracoes/metas"),this.atualizar()}},de={id:"cockipitvendedor"},ce={class:"col-12 col-md-6"},ue={class:"col"},me={class:"col"},fe={class:"row q-col-gutter-md q-mb-md"},pe={class:"col-12 flex items-center justify-between"},ge={style:{"font-size":"70%"}},he={class:"progress"},ve={class:"row justify-between"},we={class:"text-left text-blue-8 q-mt-sm q-pb-none",style:{"line-height":"22px"}},ke={class:"text-h5 text-weight-bold"},Ce={class:"text-center text-blue-8 q-mt-sm q-pb-none",style:{"line-height":"22px"}},be={class:"text-h5 text-weight-bold"},ye={class:"text-right text-positive q-mt-sm q-pb-none",style:{"line-height":"22px"}},xe={class:"text-h5 text-weight-bold"},_e={key:0,class:"col-12 col-md-4"},Ae={class:"row justify-center"},De={class:"col-11 col-sm-10 col-md-11 col-lg-10"},Pe={class:"text-h4 text-weight-bold text-center text-blue-8 q-px-none"},Se={class:"text-body1 text-tertiary text-weight-regular text-center q-px-none"},Ve={class:"col-6 col-md-3"},je={class:"row justify-around items-center"},Me={class:"col"},Te={class:"col"},Be={class:"col-6 col-md-3"},qe={class:"col-6 col-md-3"},Re={class:"text-tertiary"},Ie={class:"col-6 col-md-3"},Ee={class:"text-tertiary"},Ne={key:1,class:"col-12"},ze={class:"row justify-around items-center"},He={class:"col-4 col-md-auto"},Fe={class:"col-4 col-md-auto"},Oe={class:"col-4 col-md-auto"},Ue={class:"col-12 col-md-6"},Qe={class:"row items-center justify-between"},Ye={class:"row items-center no-wrap"},Je={class:"row items-center"},$e={class:"col-12 col-md-6"},Ge={class:"row items-center no-wrap"};function Le(o,e,d,u,t,s){const v=P("campo"),D=P("row"),m=P("g-label"),j=P("Gauge"),f=P("avatar"),O=P("JsonViewer");return k(),A("div",de,[i(C,{class:"q-pa-sm no-shadow"},{default:r(()=>[i(D,{class:"q-col-gutter-md items-center"},{default:r(()=>[a("div",ce,[i(G,{modelValue:t.filtro.empresas,"onUpdate:modelValue":[e[0]||(e[0]=n=>t.filtro.empresas=n),s.filtrar],options:t.empresas,"option-value":"codigoContato",label:"Filtre por Empresa","option-label":"nome",dense:"",outlined:"","use-chips":"",multiple:""},L({prepend:r(()=>[i(R,{name:"mdi-filter"})]),_:2},[t.empresas.length>1?{name:"option",fn:r(({itemProps:n,opt:w,selected:U,toggleOption:Q})=>[i(I,B(q(n)),{default:r(()=>[i(M,null,{default:r(()=>[i(W,{innerHTML:w.nome},null,8,["innerHTML"])]),_:2},1024),i(M,{side:""},{default:r(()=>[i(K,{"model-value":U,"onUpdate:modelValue":We=>Q(w)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","options"])]),a("div",ue,[i(v,{modelValue:t.filtro.periodo.ini,"onUpdate:modelValue":e[1]||(e[1]=n=>t.filtro.periodo.ini=n),tipo:"data",onBlur:s.filtrar,outlined:""},null,8,["modelValue","onBlur"])]),e[9]||(e[9]=a("div",{class:"col-auto",style:{"align-items":"center",display:"flex"}},[a("label",null,"at\xE9")],-1)),a("div",me,[i(v,{modelValue:t.filtro.periodo.fim,"onUpdate:modelValue":e[2]||(e[2]=n=>t.filtro.periodo.fim=n),tipo:"data",onBlur:s.filtrar,outlined:""},null,8,["modelValue","onBlur"])]),a("div",null,[o.$db.usuario.desenvolvedor()?(k(),S(x,{key:0,icon:"more_vert",round:"",flat:""},{default:r(()=>[i(X,null,{default:r(()=>[p((k(),S(I,{clickable:"",onClick:e[3]||(e[3]=n=>s.mostrarJsonViewer())},{default:r(()=>[i(M,{avatar:""},{default:r(()=>[i(R,{name:"mdi-file-replace",size:"sm"})]),_:1}),i(M,null,{default:r(()=>e[8]||(e[8]=[l("Ver Objeto")])),_:1})]),_:1})),[[Z]])]),_:1})]),_:1})):_("",!0)])]),_:1})]),_:1}),a("div",fe,[a("div",pe,[a("span",ge,[l(" Atualizado em: "+c(o.$filters.dataHora(this.filtro.dataConsulta))+" ",1),p(i(ee,{color:"primary",size:20},null,512),[[g,t.carregando]])]),i(x,{onClick:e[4]||(e[4]=n=>s.atualizar(!1)),round:"",flat:"",color:"primary",size:"sm",icon:"refresh"})]),a("div",{class:T(["col-12",t.metasPermissao?"col-md-2":"col-md-3"])},[i(C,{color:"white",inline:"",class:"text-tertiary fit no-shadow"},{default:r(()=>[i(h,{class:"d-flex fit column justify-between"},{default:r(()=>[i(m,{text:"h6",class:"q-pb-md"},{default:r(()=>e[10]||(e[10]=[l(" Pend\xEAncias ")])),_:1}),p(a("div",null,[i(m,{onClick:s.irParaCockpitVendas,text:"h3 bold center",color:"text-negative",class:"cursor-pointer"},{default:r(()=>[l(c(o.$filters.numero(t.cockpit.pendencias.orcamentos)),1)]),_:1},8,["onClick"]),i(m,{text:"center"},{default:r(()=>e[11]||(e[11]=[l("Or\xE7amentos")])),_:1})],512),[[g,!t.carregando]]),e[12]||(e[12]=a("div",null,null,-1))]),_:1})]),_:1})],2),a("div",{class:T(["col-12",t.metasPermissao?"col-md-6":"col-md-9"])},[i(C,{color:"white",inline:"",class:"text-tertiary fit no-shadow"},{default:r(()=>[i(h,{class:"d-flex fit column justify-between"},{default:r(()=>[i(m,{text:"h6",class:"q-pb-md"},{default:r(()=>e[13]||(e[13]=[l(" Faturamento ")])),_:1}),p(a("div",null,[a("div",he,[a("div",{class:"progress-bar bg-primary",style:y(s.faturamentoProgressBar.periodo)},null,4),a("div",{class:"progress-bar progress-bar-striped bg-info",style:y(s.faturamentoProgressBar.hoje)},null,4),a("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-success",style:y(s.faturamentoProgressBar.projecao)},null,4)]),a("div",ve,[a("div",we,[a("span",ke," R$ "+c(o.$filters.numero(t.cockpit.faturamento.periodo,2)),1),i(m,{text:"body1 regular",color:"text-tertiary"},{default:r(()=>e[14]||(e[14]=[l("Per\xEDodo")])),_:1})]),a("div",Ce,[a("span",be," R$ "+c(o.$filters.numero(t.cockpit.faturamento.hoje,2)),1),i(m,{text:"body1 regular",color:"text-tertiary"},{default:r(()=>e[15]||(e[15]=[l("sendo Hoje")])),_:1})]),a("div",ye,[a("span",xe," R$ "+c(o.$filters.numero(t.cockpit.faturamento.projecao,2)),1),i(m,{text:"body1 regular",color:"text-tertiary"},{default:r(()=>e[16]||(e[16]=[l("Proje\xE7\xE3o Final")])),_:1})])])],512),[[g,!t.carregando]])]),_:1})]),_:1})],2),t.metasPermissao?(k(),A("div",_e,[i(C,{color:"white",inline:"",class:"fit no-shadow"},{default:r(()=>[i(h,null,{default:r(()=>[i(m,{text:"h6",style:{position:"absolute",top:"15px",left:"16px"}},{default:r(()=>e[17]||(e[17]=[l("Meta")])),_:1}),a("div",Ae,[a("div",De,[i(j,{current:t.cockpit.metas.metaFaturamentoPeriodo,target:t.cockpit.metas.metaTotal,dg1:"#ef5350",dg2:"#ffb74d",dg3:"#8bc34a",color:"#f2f2f2",colorCenter:"#ffffff"},{default:r(()=>[a("div",Pe,c(o.$filters.numero(t.cockpit.metas.metaPercentual,1))+"% ",1),a("div",Se," R$ "+c(o.$filters.numero(t.cockpit.metas.metaTotal,2)),1)]),_:1},8,["current","target"])])])]),_:1}),i(V,{anchor:"bottom middle",self:"center middle"},{default:r(()=>[l(" R$ "+c(o.$filters.numero(t.cockpit.faturamento.periodo,2)),1)]),_:1})]),_:1})])):_("",!0),a("div",Ve,[i(C,{color:"white",inline:"",class:"text-tertiary fit no-shadow"},{default:r(()=>[i(h,{class:"d-flex fit column justify-between"},{default:r(()=>[i(m,{text:"h6",class:"q-pb-md"},{default:r(()=>e[18]||(e[18]=[l(" Atendimento c/ vendas ")])),_:1}),p(a("div",je,[a("div",Me,[i(m,{text:"h4 bold center",color:"text-blue-8"},{default:r(()=>[l(c(o.$filters.numero(t.cockpit.conversao.conversoesHoje))+"/"+c(o.$filters.numero(t.cockpit.conversao.atendimentosHoje)),1)]),_:1}),i(m,{text:"center"},{default:r(()=>e[19]||(e[19]=[l("Hoje")])),_:1})]),a("div",Te,[i(m,{text:"h4 bold center",color:"text-blue-8"},{default:r(()=>[l(c(o.$filters.numero(t.cockpit.conversao.conversoesPeriodo))+"/"+c(o.$filters.numero(t.cockpit.conversao.atendimentosPeriodo)),1)]),_:1}),i(m,{text:"center"},{default:r(()=>e[20]||(e[20]=[l("Per\xEDodo")])),_:1})]),i(V,{anchor:"bottom middle",self:"center middle",offset:[0,40],class:"text-center"},{default:r(()=>e[21]||(e[21]=[l(" Quantidade de faturamento "),a("br",null,null,-1),a("strong",null,"/",-1),a("br",null,null,-1),l(" Quantidade de documentos realizados "),a("br",null,null,-1),l(" (Vendas, Or\xE7amentos, Cancelados e Outros) ")])),_:1})],512),[[g,!t.carregando]]),e[22]||(e[22]=a("div",null,null,-1))]),_:1})]),_:1})]),a("div",Be,[i(C,{color:"white",inline:"",class:"text-tertiary fit no-shadow"},{default:r(()=>[i(h,{class:"d-flex fit column justify-between"},{default:r(()=>[i(m,{text:"h6",class:"q-pb-md"},{default:r(()=>e[23]||(e[23]=[l(" Maior Venda Per\xEDodo ")])),_:1}),p(i(m,{text:"h4 bold left",color:"text-blue-8"},{default:r(()=>[l(c(o.$filters.numero(t.cockpit.ticketMedio.maiorVendaPeriodo,2))+" ",1),i(x,{icon:"mdi-trophy",color:"amber-7",round:"",unelevated:"",dense:"",class:"float-right"})]),_:1},512),[[g,!t.carregando]]),p(a("small",null,[e[24]||(e[24]=l(" Recorde Hist\xF3rico ")),a("strong",null,c(o.$filters.numero(t.cockpit.ticketMedio.maiorVendaHistoria,2)),1)],512),[[g,!t.carregando]]),i(V,{anchor:"bottom middle",self:"center middle"},{default:r(()=>[l(" Fatura N\xB0. "+c(t.cockpit.ticketMedio.maiorVendaPeriodoNumeroFatura),1),e[25]||(e[25]=a("br",null,null,-1)),l(" Cliente: "+c(t.cockpit.ticketMedio.maiorVendaPeriodoNomeCliente),1)]),_:1})]),_:1})]),_:1})]),a("div",qe,[i(C,{color:"white",inline:"",class:"text-tertiary fit no-shadow"},{default:r(()=>[i(h,{class:"d-flex fit column justify-between"},{default:r(()=>[i(m,{text:"h6",class:"q-pb-md"},{default:r(()=>e[26]||(e[26]=[l(" Ticket M\xE9dio Per\xEDodo ")])),_:1}),p(i(m,{text:"h4 bold left",color:"text-blue-8"},{default:r(()=>[l(c(o.$filters.numero(t.cockpit.ticketMedio.ticketMedioPeriodo,2))+" ",1),i(x,{icon:"mdi-bell",round:"",dense:"",unelevated:"",class:"float-right",color:t.cockpit.ticketMedio.percentualTicketMedioYeartoDateRelAnterior>=0?"positive":"negative"},null,8,["color"])]),_:1},512),[[g,!t.carregando]]),p(a("small",{class:T(t.cockpit.ticketMedio.percentualTicketPeriodoRelAnterior>=0?"text-positive":"text-negative")},[a("span",Re,c(o.$filters.numero(t.cockpit.ticketMedio.ticketMedioPeriodoAnoAnterior,2)),1),l(" (\u0394 "+c(o.$filters.numero(t.cockpit.ticketMedio.percentualTicketPeriodoRelAnterior,2))+"%) ",1)],2),[[g,!t.carregando]]),i(V,{anchor:"bottom middle",self:"center middle"},{default:r(()=>[l(c(o.$filters.data(t.cockpit.parametros.periodoIniAnoAnterior))+" "+c(o.$filters.data(t.cockpit.parametros.periodoFimAnoAnterior))+" do ano anterior ",1)]),_:1})]),_:1})]),_:1})]),a("div",Ie,[i(C,{inline:"",color:"white",class:"text-tertiary fit no-shadow"},{default:r(()=>[i(h,{class:"d-flex fit column justify-between"},{default:r(()=>[i(m,{text:"h6",class:"q-pb-md"},{default:r(()=>e[27]||(e[27]=[l(" M\xE9dio YtD ")])),_:1}),p(i(m,{text:"h4 bold left",color:"text-blue-8"},{default:r(()=>[l(c(o.$filters.numero(t.cockpit.ticketMedio.ticketMedioYeartoDate,2))+" ",1),i(x,{icon:"mdi-bell",round:"",unelevated:"",dense:"",class:"float-right",color:t.cockpit.ticketMedio.percentualTicketMedioYeartoDateRelAnterior>=0?"positive":"negative"},null,8,["color"])]),_:1},512),[[g,!t.carregando]]),p(a("small",{class:T(t.cockpit.ticketMedio.percentualTicketMedioYeartoDateRelAnterior>=0?"text-positive":"text-negative")},[a("span",Ee,c(o.$filters.numero(t.cockpit.ticketMedio.ticketMedioYeartoDateAnoAnterior,2)),1),l(" (\u0394 "+c(o.$filters.numero(t.cockpit.ticketMedio.percentualTicketMedioYeartoDateRelAnterior,2))+"%) ",1)],2),[[g,!t.carregando]]),i(V,{anchor:"bottom middle",self:"center middle"},{default:r(()=>[l(c(o.$filters.data(t.cockpit.parametros.ytDAnoAnteriorDia1))+" "+c(o.$filters.data(t.cockpit.parametros.ytDAnoAnteriorHoje))+" do ano anterior ",1)]),_:1})]),_:1})]),_:1})]),t.sistemaPai==="optisoul"?(k(),A("div",Ne,[i(C,{inline:"",color:"white",class:"text-tertiary fit no-shadow"},{default:r(()=>[i(h,{class:"d-flex fit column justify-between"},{default:r(()=>[i(m,{text:"h6",class:"q-pb-md"},{default:r(()=>e[28]||(e[28]=[l(" Envelopes ")])),_:1}),p(a("div",ze,[a("div",He,[a("div",{onClick:e[5]||(e[5]=(...n)=>s.irParaCockpitEnvelopes&&s.irParaCockpitEnvelopes(...n)),class:"text-h4 text-weight-bold text-center text-negative cursor-pointer"},c(o.$filters.numero(t.cockpit.pendencias.envelopesAtrasados)),1),i(h,{class:"q-pa-none text-tertiary text-center"},{default:r(()=>e[29]||(e[29]=[l(" Atrasados ")])),_:1})]),a("div",Fe,[a("div",{onClick:e[6]||(e[6]=(...n)=>s.irParaCockpitEnvelopes&&s.irParaCockpitEnvelopes(...n)),class:"text-h4 text-weight-bold text-center text-negative cursor-pointer"},c(o.$filters.numero(t.cockpit.pendencias.envelopesHoje)),1),i(h,{class:"q-pa-none text-tertiary text-center"},{default:r(()=>e[30]||(e[30]=[l(" Para hoje ")])),_:1})]),a("div",Oe,[a("div",{onClick:e[7]||(e[7]=(...n)=>s.irParaCockpitEnvelopes&&s.irParaCockpitEnvelopes(...n)),class:"text-h4 text-weight-bold text-center text-negative cursor-pointer"},c(o.$filters.numero(t.cockpit.pendencias.envelopesAEntregar)),1),i(h,{class:"q-pa-none text-tertiary text-center"},{default:r(()=>e[31]||(e[31]=[l(" A Entregar ")])),_:1})])],512),[[g,!t.carregando]])]),_:1})]),_:1})])):_("",!0),a("div",Ue,[i(C,{inline:"",color:"white",class:"text-tertiary fit no-shadow"},{default:r(()=>[i(h,{class:"d-flex fit"},{default:r(()=>[i(m,{text:"h6",class:"q-pb-md"},{default:r(()=>e[32]||(e[32]=[l(" P\xF3s-venda ")])),_:1}),p(i(E,{rows:t.cockpit.posVenda,columns:s.colunas.posVenda,class:"no-shadow text-left"},{body:r(n=>[i(N,{props:n,style:{cursor:"pointer"}},{default:r(()=>[i(b,{key:"imagem",props:n,onClick:w=>s.irParaAtendimentoVenda(n.row.idContato)},{default:r(()=>[a("div",Qe,[i(f,{imagem:(t.contato[n.row.idContato]||{}).imagem,rotulo:n.row.nome,tamanho:"40",class:"q-mr-sm"},null,8,["imagem","rotulo"])])]),_:2},1032,["props","onClick"]),i(b,{key:"nome",props:n,onClick:w=>s.irParaAtendimentoVenda(n.row.idContato)},{default:r(()=>[l(c(n.row.nome),1)]),_:2},1032,["props","onClick"]),i(b,{key:"telefone",props:n,onClick:w=>s.abrirTelefone({...n.row}),class:"text-no-wrap"},{default:r(()=>[a("div",Ye,[i(x,{color:"none",dense:"",flat:"",round:""},{default:r(()=>[(k(),S(z(n.row.tipoTelefone==="WhatsApp"?"icone":"q-icon"),B(q(s.telefoneIcone(n.row.tipoTelefone))),null,16))]),_:2},1024),l(" "+c(n.row.telefone),1)])]),_:2},1032,["props","onClick"]),i(b,{key:"nroVenda",props:n,onClick:w=>s.irParaAtendimentoVenda(n.row.idContato)},{default:r(()=>[n.row.nroVenda?(k(),A(H,{key:0},[l("#"+c(n.row.nroVenda),1)],64)):_("",!0)]),_:2},1032,["props","onClick"]),t.sistemaPai==="optisoul"?(k(),S(b,{key:"nroEnvelope",props:n,onClick:w=>s.irParaAtendimentoVenda(n.row.idContato)},{default:r(()=>[n.row.nroEnvelope?(k(),A(H,{key:0},[l("#"+c(n.row.nroEnvelope),1)],64)):_("",!0)]),_:2},1032,["props","onClick"])):_("",!0),i(b,{key:"valor",props:n,onClick:w=>s.irParaAtendimentoVenda(n.row.idContato)},{default:r(()=>[a("div",Je,[i(x,{color:"none",class:"q-mx-xs",dense:"",flat:"",round:"",icon:"shopping_cart"}),l(" "+c(o.$filters.numero(n.row.valor||0,2)),1)])]),_:2},1032,["props","onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]),[[g,!t.carregando]])]),_:1})]),_:1})]),a("div",$e,[i(C,{inline:"",color:"white",class:"text-tertiary fit no-shadow"},{default:r(()=>[i(h,{class:"d-flex fit"},{default:r(()=>[i(m,{text:"h6",class:"q-pb-md"},{default:r(()=>e[33]||(e[33]=[l(" Aniversariantes ")])),_:1}),p(i(E,{rows:t.cockpit.aniversariantes,columns:s.colunas.aniversariantes,class:"no-shadow text-left"},{body:r(n=>[i(N,{props:n,style:{cursor:"pointer"}},{default:r(()=>[i(b,{key:"imagem",props:n,onClick:w=>s.irParaAtendimentoContato(n.row.idContato)},{default:r(()=>[i(f,{imagem:(t.contato[n.row.idContato]||{}).imagem,rotulo:n.row.nome,tamanho:"40"},null,8,["imagem","rotulo"])]),_:2},1032,["props","onClick"]),i(b,{key:"nome",props:n,onClick:w=>s.irParaAtendimentoContato(n.row.idContato)},{default:r(()=>[l(c(n.row.nome),1)]),_:2},1032,["props","onClick"]),i(b,{key:"telefone",props:n,onClick:w=>s.abrirTelefone({...n.row,aniversario:!0})},{default:r(()=>[a("div",Ge,[i(x,{color:"none",dense:"",flat:"",round:""},{default:r(()=>[(k(),S(z(n.row.tipoTelefone==="WhatsApp"?"icone":"q-icon"),B(q(s.telefoneIcone(n.row.tipoTelefone))),null,16))]),_:2},1024),l(" "+c(n.row.telefone),1)])]),_:2},1032,["props","onClick"]),i(b,{key:"aniversario",props:n,onClick:w=>s.irParaAtendimentoContato(n.row.idContato)},{default:r(()=>[l(c(n.row.aniversario),1)]),_:2},1032,["props","onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]),[[g,!t.carregando]])]),_:1})]),_:1})])]),i(O,{ref:"jsonViewer"},null,512)])}var tt=F(le,[["render",Le]]);export{tt as default};
