import{_ as Ie,p as W,o as w,i as V,w as x,f as _,K as ut,A as ft,B as ht,E as gt,j as ue,e as H,D as $e,k as We,C as Ve,L as pt,G as mt,Q as Ce,x as A,t as fe,bb as vt,a7 as yt,y as Ct,aM as pe,an as me,ao as U,aL as be,ap as Je,aq as $t,au as Be,d as O,v as L,F as G,r as he,J as ie,l as ge,n as Ne,N as bt,a4 as Nt,P as xt,R as Qe,az as Tt,bs as Pt,dR as Lt,dS as At,b2 as Ft,b3 as It,b0 as Vt,W as jt,X as Bt}from"./index.094a6fb0.js";import{Q as qt}from"./QBtnDropdown.26bd157e.js";import{Q as _t}from"./QSplitter.b7b5357a.js";import{e as Kt,M as Mt}from"./MonacoEditor.e828038e.js";import{_ as Xe}from"./typeof.d92a5d4e.js";import"./QBtnGroup.13529f03.js";function Rt(e,t){if(Xe(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(Xe(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ut(e){var t=Rt(e,"string");return Xe(t)=="symbol"?t:String(t)}function xe(e,t,n){return t=Ut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e,t){const n=t-e;return n<1e3?n.toFixed(0)+" ms":n<6e4?(n/1e3).toFixed(2)+" seg":(n/6e4).toFixed(2)+" min"}function Ht(e){return e<1024?e.toFixed(0)+" byte(s)":e<1024**2?(e/1024).toFixed(2)+" Kb":e<1024**3?(e/1024**2).toFixed(2)+" Mb":(e/1024**3).toFixed(2)+" Gb"}const Wt={components:{Editor:Kt},props:{modal:{required:!0,type:Object}},data(){return{jsonResposta:"{}",splitter:50,tamanhoJson:"",tempoExecucao:"",usaMonaco:!1}},computed:{editorOptionsJson(){return{automaticLayout:!0,tabSize:2}}},watch:{"modal.visivel"(){this.jsonResposta="{}"}},methods:{async executar(){let e={};try{e=JSON.parse(this.modal.jsonParametros)}catch(t){this.$q.notifyError("Erro no parser do json",t);return}try{this.$q.loading.show(),this.jsonResposta="",this.tempoExecucao="",this.tamanhoJson="";const t=new Date,n=await this.$utils.geeksApi(e,{debug:!0,bancoDeDados:this.modal.banco}),a=new Date;this.tempoExecucao=zt(t,a);const s=JSON.stringify(n,0,2);this.tamanhoJson=Ht((s||"").length),this.jsonResposta=s.substr(0,5e4)}catch(t){if(t.data){const n=this._.get(t,"data[0].originalError.stack")||"";n&&delete t.data[0].originalError.stack;const a=this._.get(t,"data[0].originalError.query")||"";a&&delete t.data[0].originalError.query,this.jsonResposta=JSON.stringify(t.data,0,2)+`

`+n+`
`+a}this.$q.notifyError("Erro na opera\xE7\xE3o",t)}finally{this.$q.loading.hide()}}}},Jt={class:"row"},Qt={class:"col-6"},Xt=A("span",{class:"text-caption"},"Tamanho: ",-1),Yt={class:"col-6"},Gt=A("span",{class:"text-caption"},"Tempo: ",-1);function Zt(e,t,n,a,s,r){const o=W("Editor"),i=W("editor");return w(),V(Ct,{modelValue:n.modal.visivel,"onUpdate:modelValue":t[7]||(t[7]=c=>n.modal.visivel=c),maximized:"",onKeydown:vt(yt(r.executar,["ctrl"]),["enter"]),onHide:t[8]||(t[8]=c=>e.$emit("fechou"))},{default:x(()=>[_(ut,null,{default:x(()=>[_(ft,{elevated:""},{default:x(()=>[_(ht,{class:"bg-blue-grey-10"},{default:x(()=>[_(gt,null,{default:x(()=>[_(ue,{name:"install_desktop",size:"sm",class:"q-mr-sm"}),H(" Executor ")]),_:1}),_($e,{icon:"play_arrow",flat:"",round:"",onClick:r.executar},{default:x(()=>[_(We,null,{default:x(()=>[H("Executar")]),_:1})]),_:1},8,["onClick"]),Ve(_($e,{icon:"close",flat:"",round:""},null,512),[[pt]])]),_:1})]),_:1}),_(mt,{style:{height:"100vh"}},{default:x(()=>[_(_t,{modelValue:s.splitter,"onUpdate:modelValue":t[5]||(t[5]=c=>s.splitter=c),class:"bg-blue-grey-9 full-height text-white",onInput:t[6]||(t[6]=c=>e.$root.$emit("splitter:resize"))},{before:x(()=>[_(Ce,{modelValue:n.modal.banco,"onUpdate:modelValue":t[0]||(t[0]=c=>n.modal.banco=c),class:"q-px-sm",label:"Banco de dados",dark:""},null,8,["modelValue"]),s.usaMonaco?(w(),V(o,{key:0,ref:"editorJsonParametros",modelValue:n.modal.jsonParametros,"onUpdate:modelValue":t[1]||(t[1]=c=>n.modal.jsonParametros=c),class:"full-height",language:"json",theme:"vs-dark"},null,8,["modelValue"])):(w(),V(Ce,{key:1,modelValue:n.modal.jsonParametros,"onUpdate:modelValue":t[2]||(t[2]=c=>n.modal.jsonParametros=c),"input-class":"editor2",label:"Par\xE2metros",dark:"",type:"textarea"},null,8,["modelValue"]))]),after:x(()=>[A("div",Jt,[A("div",Qt,[Xt,H(fe(s.tamanhoJson),1)]),A("div",Yt,[Gt,H(fe(s.tempoExecucao),1)])]),s.usaMonaco?(w(),V(i,{key:0,ref:"editorJsonResposta",modelValue:s.jsonResposta,"onUpdate:modelValue":t[3]||(t[3]=c=>s.jsonResposta=c),class:"full-height",language:"json",theme:"vs-dark"},null,8,["modelValue"])):(w(),V(Ce,{key:1,modelValue:s.jsonResposta,"onUpdate:modelValue":t[4]||(t[4]=c=>s.jsonResposta=c),"input-class":"editor2",label:"Resposta",readonly:"",dark:"",type:"textarea"},null,8,["modelValue"]))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeydown"])}var en=Ie(Wt,[["render",Zt]]),tn=!1,nn=!0;/*!
 * helper-js v3.1.5
 * Author: phphe <phphe@outlook.com> (https://github.com/phphe)
 * Homepage: null
 * Released under the MIT License.
 */function Te(e){return Object.prototype.toString.call(e)==="[object Array]"}function et(e){return Object.prototype.toString.call(e)==="[object Object]"}function rn(e){return typeof e=="function"}function an(e,t){return e<t?e:t}function wt(e,t){let n,a=0;for(;(n=e.indexOf(t))>-1;)e.splice(n,1),a++;return a}function St(e){return e[e.length-1]}function on(e){return Te(e)?e:[e]}function sn(e,t){let n=new Set(t);const a={};return n.forEach(s=>{a[s]=e[s]}),a}function*ln(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t.reverse)if(e.length!=null)for(let n=e.length-1;n>=0;n--){const a={value:e[n],index:n};(!t.exclude||!t.exclude(a))&&(yield a)}else if(et(e)){const n=Object.keys(e);n.reverse();for(const a of n){const s={value:e[a],key:a};(!t.exclude||!t.exclude(s))&&(yield s)}}else throw"Unsupported type";else if(e.length!=null)for(let n=0;n<e.length;n++){const a={value:e[n],index:n};(!t.exclude||!t.exclude(a))&&(yield a)}else if(et(e))for(const n of Object.keys(e)){const a={value:e[n],key:n};(!t.exclude||!t.exclude(a))&&(yield a)}else throw"Unsupported type"}function dn(e,t,n){e.hasOwnProperty(t)||(e[t]=n)}function Dt(e,t){return Object.keys(t).forEach(n=>{dn(e,n,t[n])}),e}function cn(e){const t={};return Object.keys(e).forEach(n=>{e[n]!==void 0&&(t[n]=e[n])}),t}function Q(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n=Dt({...n},{childrenKey:"children"});const{childrenKey:a}=n,s=Te(e)?e:[e];class r{}const o=(i,c,l)=>{n.reverse&&(i=i.slice(),i.reverse());const d=i.length;for(let u=0;u<d;u++){const f=i[u],h=n.reverse?d-u-1:u,p=l?[...l,h]:[];n.childFirst&&f[a]!=null&&o(f[a],f,p);const b=t(f,h,c,p);if(b===!1)throw new r;if(b==="skip children")continue;if(b==="skip siblings")break;n.childFirst||f[a]!=null&&o(f[a],f,p)}};try{o(s,null,Te(e)?[]:null)}catch(i){if(!(i instanceof r))throw i}}function un(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a;return Q(e,function(){if(t(...arguments))return a={node:arguments.length<=0?void 0:arguments[0],index:arguments.length<=1?void 0:arguments[1],parent:arguments.length<=2?void 0:arguments[2],path:arguments.length<=3?void 0:arguments[3]},!1},n),a}function fn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=un(e,t,n);return a==null?void 0:a.node}function kt(e,t){const n={childrenKey:"children"};t&&Object.assign(n,t);const{childrenKey:a,nodeHandler:s}=n,r=new Ye;return r.childrenKey=a,Q(e,(o,i,c,l)=>{let d=Object.assign({},o);d[a]&&(d[a]=[]),s&&(d=s(d,{oldNode:o,index:i,parent:c,path:l})),r.set(l,d)},{childrenKey:a}),r.data}class Ye{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];xe(this,"data",void 0),xe(this,"childrenKey","children"),this.data=t}get rootChildren(){const{childrenKey:t}=this,{data:n}=this;return Te(n)?n:n[t]}*iteratePath(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{childrenKey:a,rootChildren:s}=this;if(n.reverse){const r=[...this.iteratePath(t,{...n,reverse:!1})];r.reverse();for(const{path:o,node:i}of r)yield{path:o,node:i}}else{let r=[],o=s;for(const i of t){const c=[...r,i],l=o[i];yield{path:c,node:l},r=c,o=l[a]}}}getFamily(t){const n=[];for(const{node:a}of this.iteratePath(t))n.push(a);return n}get(t){return St(this.getFamily(t))}getParentAndIndex(t){const n=t.slice(),a=n.pop();return{parent:this.get(n),index:a,parentPath:n}}getParent(t){return this.getParentAndIndex(t).parent}set(t,n){if(t==null||t.length===0)this.data=n;else{const{childrenKey:a}=this;let{rootChildren:s}=this;const{parent:r,index:o}=this.getParentAndIndex(t);let i;t.length===1?(s||(this.data?this.data[a]=[]:this.data=[]),i=s):(r[a]||(r[a]=[]),i=r[a]),i[o]=n}}delete(t){const{childrenKey:n,rootChildren:a}=this,{parent:s,index:r}=this.getParentAndIndex(t),o=t.length===1?a:s[n],i=o[r];return o.splice(r,1),i}walk(t,n){const{childrenKey:a,data:s}=this;return Q(s,t,a,n)}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return kt(this.data),cn({childrenKey:this.childrenKey,nodeHandler:t.nodeHandler||void 0})}}function tt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return rn(e)?e(...t):e}function hn(e,t){return function(){let a,s;try{a=e(...arguments)}catch(r){s=r}finally{t()}if(s)throw s;return a}}function ve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[];let a;const s={};let r=s;return{action:function(){for(var c=arguments.length,l=new Array(c),d=0;d<c;d++)l[d]=arguments[d];if(l.length===0)return r===s&&(r=e()),r;if(a||(a=new vn),!a.has(l)&&(a.set(l,e(...l)),t.capacity!=null)){n.push(l);const u=n.splice(0,n.length-t.capacity);for(const f of u)a.delete(f)}return a.get(l)},clearCache:()=>{a=null,n.splice(0,n.length)}}}function gn(){let e,t;return{promise:new Promise((a,s)=>{e=a,t=s}),resolve:e,reject:t}}function pn(e,t){for(;;){if(e.parentNode==null)return!1;if(e.parentNode===t)return!0;e=e.parentNode}}function qe(e){let t=e.getBoundingClientRect();if(document.documentElement.clientTop>0){const n=t.top-document.documentElement.clientTop,a=t.bottom,s=t.left-document.documentElement.clientLeft,r=t.right,o=t.width||r-s,i=t.height||a-n,d={top:n,right:r,bottom:a,left:s,width:o,height:i,x:s,y:n};t={...d,toJSON:()=>d}}return t}function nt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n&&n.withSelf?e:e.parentElement;for(;a;){const s=n.until&&a===n.until;if(s&&!n.withUntil)return;const r=t(a);if(r==="break")return;if(r)return a;if(s)return;a=a.parentElement}}function Pe(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function rt(e,t){for(const n of t)if(Pe(e,n))return!0;return!1}function X(e,t,n,a){e.addEventListener?e.addEventListener(t,n,a):e.attachEvent&&e.attachEvent("on".concat(t),n,a)}function Y(e,t,n,a){e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent&&e.detachEvent("on".concat(t),n,a)}function mn(e){let t=[];const n=()=>{if(!s.listening){for(const r of e){X.apply(this,r);const o=()=>Y.apply(this,r);t.push(o)}s.listening=!0}},s={listening:!1,stop:()=>{if(!!s.listening){for(const r of t)r();t=[],s.listening=!1}},resume:n,start:n};return s.start(),s}function Le(e,t){return getComputedStyle(e)[t]}function Ge(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n={start:0,end:e.length-1,maxTimes:1e3,...n};let{start:a,end:s}=n;const{returnNearestIfNoHit:r,maxTimes:o}=n;let i,c;a==null&&(a=0,s=e.length-1);let l=0,d;for(;a>=0&&a<=s;){if(l>=o)throw Error("binarySearch: loop times is over ".concat(o,", you can increase the limit."));i=Math.floor((s-a)/2+a),c=e[i];const u=l+1;if(d=t(c,i,u),d>0)s=i-1;else if(d<0)a=i+1;else return{index:i,value:c,count:u,hit:!0};l++}return r?{index:i,value:c,count:l+1,hit:!1,greater:d>0}:null}class vn{constructor(){xe(this,"_map",new Map),xe(this,"_values",{}),xe(this,"_objCount",0)}_keysToString(t){const{_map:n}=this;let a=[];for(const s of t){if(!n.has(s))return null;a.push(n.get(s)[0])}return a.toString()}has(t){return this._keysToString(t)!=null}get(t){const{_values:n}=this,a=this._keysToString(t);if(a==null)throw"Value not found by specified keys";return n[a][1]}set(t,n){const{_map:a,_values:s}=this;let r=[];for(const o of t){let i,c=1;a.has(o)?([i,c]=a.get(o),c++):(this._objCount++,i=this._objCount.toString()),a.set(o,[i,c]),r.push(i)}s[r.toString()]=[t.slice(),n]}delete(t){const{_values:n,_map:a}=this,s=this._keysToString(t);if(s==null)throw"Value not found by specified keys";delete n[s];for(const r of t){let[o,i]=a.get(r);i--,i===0?a.delete(r):a.set(r,[o,i])}}clear(){this._map.clear(),this._values={}}*entries(){const{_values:t}=this;for(const n in t){const[a,s]=t[n];yield[a,s]}}count(){return[...this.entries()].length}}/*!
 * @virtual-list/vue
 * Author: phphe <phphe@outlook.com> (https://github.com/phphe)
 * Homepage: https://virtual-list.phphe.com
 * Released under the MIT License.
 */var Et=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n};const yn=pe({props:{table:Boolean}}),bn={key:0},xn={key:1};function _n(e,t,n,a,s,r){return e.table?(w(),O("table",bn,[L(e.$slots,"prepend"),A("tbody",null,[L(e.$slots,"default")]),L(e.$slots,"append")])):(w(),O("div",xn,[L(e.$slots,"prepend"),L(e.$slots,"default"),L(e.$slots,"append")]))}var wn=Et(yn,[["render",_n]]);const Sn=pe({components:{VirtualListTable:wn},props:{items:Array,disabled:Boolean,horizontal:Boolean,firstRender:{type:Number,default:10},buffer:{type:Number,default:100},itemKey:{type:[String,Function]},itemSize:{type:Function},table:Boolean},setup(e){const t=me(0),n=me(e.firstRender-1),a=U(()=>{var y;return an(n.value,(((y=e.items)==null?void 0:y.length)||1)-1)}),s=me(0),r=U(()=>f.value[t.value]?de(t.value):0),o=U(()=>f.value.length>0?de(f.value.length-1)+St(u.value):0),i=U(()=>f.value[a.value]?o.value-de(a.value)-u.value[a.value]:0),c=U(()=>e.disabled?{}:{overflow:"auto"}),l=U(()=>{const y={display:"flex"};return e.disabled||(e.horizontal?Object.assign(y,{"margin-left":r.value+"px","margin-right":i.value+"px",width:o.value-i.value-r.value+"px"}):Object.assign(y,{"margin-top":r.value+"px","margin-bottom":i.value+"px"})),y["flex-direction"]=e.horizontal?"row":"column",e.table&&(delete y.display,delete y["flex-direction"]),y}),d=U(()=>be((e.items||[]).map(()=>null))),u=U(()=>(e.items||[]).map((y,m)=>{var k;if(d[m]!=null)return d[m];let S=(k=e.itemSize)==null?void 0:k.call(e,y,m);return S==null&&(S=s.value),S})),f=U(()=>{const y=[];return u.value.reduce((m,k)=>(y.push(m),m+k),0),y});Je(()=>e.items,C);const h=U(()=>{if(!e.items||e.disabled)return;const y=[];for(let m=t.value;m<=a.value;m++){const k=e.items[m];if(!k)break;y.push({item:k,index:m})}return y}),p=me(),b=me();$t(async()=>{C();try{je()}catch{await Be(),C()}});let D;function P(){const y=p.value;if(!y)return;const m=te(y);D!=null&&e.buffer-Math.abs(m-D)>=10||(D=m,C())}let E=!1,z=!1;async function C(){var y;if(E){z=!0;return}if(!e.items||e.disabled)return;E=!0;const m=p.value,k=(y=b.value)==null?void 0:y.$el;if(!m||!k)return;s.value||(s.value=Se()),t.value=ne(),n.value=re(),await Be();let S,F=0;const B={},Z=e.table?k.querySelector("tbody").children:k.children;for(let q=0;q<Z.length;q++){const N=Z[q],$=Le(N,"position");if($&&["absolute","fixed"].includes($))continue;const T=Le(N,"display")!=="none"?le(N):0,I=N.getAttribute("vt-index"),ae=I?parseInt(I):t.value+F;B[ae]=(B[ae]||0)+T,F++}for(const q of Object.keys(B)){const N=parseInt(q);d.value[N]!==B[N]&&(d.value[N]=B[N],S=!0)}S&&await Be(),E=!1,z&&(z=!1,C());function ne(){const q=te(m)-j(m)-e.buffer;return Ge(f.value,$=>$-q,{returnNearestIfNoHit:!0}).index}function re(){const q=te(m)-j(m)+J(m)+e.buffer;return Ge(f.value,$=>$-q,{returnNearestIfNoHit:!0}).index}function Se(){const N=[],$=e.table?k.querySelector("tbody").children:k.children;for(let T=0;T<$.length;T++){const I=$[T],ae=getComputedStyle(I);if(["absolute","fixed"].includes(ae.position))continue;const De=le(I);if(N.push(De),N.length>=10)break}return N.length===0?0:N.reduce((T,I)=>T+I,0)/N.length}}function J(y){const m=getComputedStyle(y);let k=parseFloat(e.horizontal?m.width:m.height);return m.boxSizing==="border-box"&&(e.horizontal?k=k-parseFloat(m.borderLeftWidth)-parseFloat(m.borderRightWidth):k=k-parseFloat(m.borderTopWidth)-parseFloat(m.borderBottomWidth)),k}function le(y){let m=J(y);const k=getComputedStyle(y);return e.horizontal?m+=parseFloat(k.borderLeftWidth)+parseFloat(k.borderRightWidth)+parseFloat(k.marginLeft)+parseFloat(k.marginRight):m+=parseFloat(k.borderTopWidth)+parseFloat(k.borderBottomWidth)+parseFloat(k.marginTop)+parseFloat(k.marginBottom),m=Number.isNaN(m)?0:m,m}function te(y){return e.horizontal?y.scrollLeft:y.scrollTop}function j(y){const m=getComputedStyle(y);return e.horizontal?parseFloat(m.paddingLeft):parseFloat(m.paddingTop)}function de(y){return f.value[y]}function je(){const y=p.value;new ResizeObserver(k=>{for(let S of k)if(Pe(S.target,"vtlist")){C();break}}).observe(y)}function we(y,m){if(e.itemKey){if(typeof e.itemKey=="string"&&e.itemKey==="index")return m;if(typeof e.itemKey=="function")return e.itemKey(y,m)}}return{listElRef:p,listInnerRef:b,onscroll:P,listStyle:c,listInnerStyle:l,visibleItemsInfo:h,getItemKey:we,update:C,sizes:u,positions:f,runtimeSizes:d}}}),Dn=Sn;function kn(e,t,n,a,s,r){const o=W("VirtualListTable");return w(),O("div",{class:"vtlist",ref:"listElRef",style:ie(e.listStyle),onScrollPassive:t[0]||(t[0]=(...i)=>e.onscroll&&e.onscroll(...i))},[_(o,{class:"vtlist-inner",ref:"listInnerRef",style:ie(e.listInnerStyle),table:e.table},{prepend:x(()=>[L(e.$slots,"prepend")]),append:x(()=>[L(e.$slots,"append")]),default:x(()=>[e.disabled?(w(!0),O(G,{key:0},he(e.items,(i,c)=>L(e.$slots,"default",{key:e.getItemKey(i,c),item:i,index:c})),128)):(w(!0),O(G,{key:1},he(e.visibleItemsInfo,({item:i,index:c})=>L(e.$slots,"default",{key:e.getItemKey(i,c),item:i,index:c})),128))]),_:3},8,["style","table"])],36)}var En=Et(Dn,[["render",kn]]);/*!
 * @he-tree/tree-utils v0.1.0-alpha.4
 * Author: phphe <phphe@outlook.com> (https://github.com/phphe)
 * Homepage: null
 * Released under the MIT License.
 */const se="children";function On(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={...Cn,...n,data:e,stats:null,statsFlat:null,_statsMap:null,initialized:!1,init(){const{data:r,childrenKey:o}=this,i=new Ye([]);this._statsMap=new Map,Q(r,(l,d,u,f)=>{const h=this.statHandler({...at(),data:l,open:Boolean(this.defaultOpen),parent:i.getParent(f),children:[],level:f.length});this._statsMap.set(l,h),i.set(f,h)},{childrenKey:o});const c=[];i.walk(l=>{c.push(l)}),this.stats=this.statsHandler(i.rootChildren),this.statsFlat=this.statsFlatHandler(c),this.initialized=!0},getStat(r){let o=this._statsMap.get(r);if(!o)throw new ot("Stat not found");return o},has(r){if(r.isStat)return this.statsFlat.indexOf(r)>-1;try{let o=this.getStat(r);return Boolean(o)}catch(o){if(o instanceof ot)return!1;throw o}},_getPathByStat(r){if(r==null)return[];const i=this.getSiblings(r).indexOf(r);return[...r.parent?this._getPathByStat(r.parent):[],i]},afterOneCheckChanged(r){const{checked:o}=r;if(r._ignoreCheckedOnce)return delete r._ignoreCheckedOnce,!1;const i=c=>{const{parent:l}=c;if(l){let d,u;for(const h of l.children)if(h.checked||h.checked===0)d=!0;else if(u=!0,d&&u)break;const f=u?d?0:!1:!0;l.checked!==f&&(this._ignoreCheckedOnce(l),l.checked=f),i(l)}};return i(r),Q(r.children,c=>{c.checked!==o&&(this._ignoreCheckedOnce(c),c.checked=o)},{childrenKey:se}),!0},_ignoreCheckedOnce(r){r._ignoreCheckedOnce=!0,setTimeout(()=>{r._ignoreCheckedOnce&&(r._ignoreCheckedOnce=!1)},100)},isVisible(r){const o=r.isStat?r:this.getStat(r),i=c=>!c||!c.hidden&&c.open&&i(c.parent);return Boolean(!o.hidden&&i(o.parent))},updateCheck(){Q(this.stats,r=>{if(r.children&&r.children.length>0){const o=r.children.every(i=>i.checked);r.checked!==o&&(this._ignoreCheckedOnce(r),r.checked=o)}},{childFirst:!0,childrenKey:se})},getChecked(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.statsFlat.filter(o=>o.checked||r&&o.checked===0)},getUnchecked(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.statsFlat.filter(o=>r?!o.checked:o.checked===!1)},openAll(){for(const r of this.statsFlat)r.open=!0},closeAll(){for(const r of this.statsFlat)r.open=!1},openNodeAndParents(r){const o=r.isStat?r:this.getStat(r);for(const i of this.iterateParent(o,{withSelf:!0}))i.open=!0},_calcFlatIndex(r,o){let i=r?this.statsFlat.indexOf(r)+1:0;const c=r?r.children:this.stats;for(let l=0;l<o;l++)i+=this._count(c[l]);return i},add(r,o,i){if(this.has(r))throw"Can't add because data exists in tree";const c=o?o.children:this.stats;i==null&&(i=c.length);const l=this.statHandler({...at(),open:Boolean(this.defaultOpen),data:r,parent:o||null,children:[],level:o?o.level+1:1});this._setPosition(l,o||null,i);const d=r[this.childrenKey];if(d){const u=d.slice();for(const f of u)this.add(f,l)}},remove(r){const o=this.getSiblings(r);if(o.includes(r)){wt(o,r);const i=this._flat(r);this.statsFlat.splice(this.statsFlat.indexOf(r),i.length);for(const c of i)this._statsMap.delete(c.data);return this.afterRemoveStat(r),!0}return!1},getSiblings(r){const{parent:o}=r;return o?o.children:this.stats},_setPosition(r,o,i){(o?o.children:this.stats).splice(i,0,r),r.parent=o,r.level=o?o.level+1:1;const l=this._calcFlatIndex(o,i),d=this._flat(r);this.statsFlat.splice(l,0,...d);for(const u of d)this._statsMap.has(u.data)||this._statsMap.set(u.data,u);Q(r,(u,f,h)=>{h&&(u.level=h.level+1)},{childrenKey:se}),this.afterSetStat(r,o,i)},*iterateParent(r,o){let i=o!=null&&o.withSelf?r:r.parent;for(;i;)yield i,i=i.parent},move(r,o,i){if(this.has(r)){if(r.parent===o&&this.getSiblings(r).indexOf(r)===i)return!1;if(r===o)throw new Error("Can't move node to it self");if(o&&r.level<o.level){let c;for(const l of this.iterateParent(o))if(l.level===r.level){c=l;break}if(r===c)throw new Error("Can't move node to its descendant")}this.remove(r)}return this._setPosition(r,o,i),!0},_flat(r){const o=[];return Q(r,i=>{o.push(i)},{childrenKey:se}),o},_count(r){return this._flat(r).length},getData(r,o){const{childrenKey:i}=this,c=new Ye([]);return c.childrenKey=i,Q(o||this.stats,(l,d,u,f)=>{let h={...l.data,[i]:[]};r&&(h=r(h)),c.set(f,h)},{childrenKey:se}),c.data}},s=a;return a.noInitialization||s.init(),s}const Cn={childrenKey:"children",defaultOpen:!1,statsHandler(e){return e},statsFlatHandler(e){return e},afterSetStat(e,t,n){},afterRemoveStat(e){},statHandler(e){return e}};function at(){return{isStat:!0,hidden:!1,checked:!1,style:null,class:null,draggable:null,droppable:null}}class ot extends Error{constructor(t){super(t),this.name="StatNotFoundError"}}/*!
 * drag-event-service v2.0.0
 * Author: phphe <phphe@outlook.com> (https://github.com/phphe)
 * Homepage: null
 * Released under the MIT License.
 */const ke={start:["mousedown","touchstart"],move:["mousemove","touchmove"],end:["mouseup","touchend"]},Ke={isTouch(e){return e.type&&e.type.startsWith("touch")},_getStore(e){return e._wrapperStore||(e._wrapperStore=[]),e._wrapperStore},on(e,t,n,a){const{args:s,mouseArgs:r,touchArgs:o}=st(a),i=this._getStore(e),c=this,l=function(d){let u;if(c.isTouch(d))u={x:d.changedTouches[0].pageX,y:d.changedTouches[0].pageY,pageX:d.changedTouches[0].pageX,pageY:d.changedTouches[0].pageY,clientX:d.changedTouches[0].clientX,clientY:d.changedTouches[0].clientY,screenX:d.changedTouches[0].screenX,screenY:d.changedTouches[0].screenY};else if(u={x:d.pageX,y:d.pageY,pageX:d.pageX,pageY:d.pageY,clientX:d.clientX,clientY:d.clientY,screenX:d.screenX,screenY:d.screenY},t==="start"&&d.which!==1)return;return n.call(this,d,u)};i.push({handler:n,wrapper:l}),X.call(null,e,ke[t][0],l,...s,...r),X.call(null,e,ke[t][1],l,...s,...o)},off(e,t,n,a){const{args:s,mouseArgs:r,touchArgs:o}=st(a),i=this._getStore(e);for(let c=i.length-1;c>=0;c--){const{handler:l,wrapper:d}=i[c];n===l&&(Y.call(null,e,ke[t][0],d,...s,...r),Y.call(null,e,ke[t][1],d,...s,...r),i.splice(c,1))}}};function st(e){e||(e={});const t=e.args||[],n=e.mouseArgs||[],a=e.touchArgs||[];return{args:t,mouseArgs:n,touchArgs:a}}/*!
 * @he-tree/dnd-utils v0.1.0-alpha.4
 * Author: phphe <phphe@outlook.com> (https://github.com/phphe)
 * Homepage: null
 * Released under the MIT License.
 */const Me=new Map,ee={triggerElement:null,dragElement:null,internal:!1,dropEffect:"none",preventDefault:!1},R=ee;function ye(e){e.dataTransfer&&(e.dataTransfer.dropEffect=R.dropEffect)}function $n(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Me.has(e))throw"Already registered on specified element";const n={...t},a=n;Dt(n,Nn),Ke.on(e,"start",s,{touchArgs:[{passive:!0}]}),Ke.on(e,"end",r);function s(u){var f;const h=u.target;h.nodeType===Node.ELEMENT_NODE&&(R.triggerElement=h);const p=h;if(n.ingoreHTMLTags&&p.tagName&&n.ingoreHTMLTags.find(D=>D.toUpperCase()===p.tagName))return;const b=(f=n.beforeDragStart)===null||f===void 0?void 0:f.call(n,u);b&&(b.setAttribute("draggable","true"),R.dragElement=b)}function r(u){R.dragElement&&R.dragElement.removeAttribute("draggable")}function o(u){var f;R.internal=!0,(f=n.onDragStart)===null||f===void 0||f.call(n,u),ye(u)}function i(u){var f;(f=n.onDrag)===null||f===void 0||f.call(n,u),ye(u)}function c(u){var f;(f=n.onDragEnd)===null||f===void 0||f.call(n,u),R.internal=!1,R.dragElement&&R.dragElement.removeAttribute("draggable"),R.triggerElement=null,R.dragElement=null,R.dropEffect="none"}const l=Pn(e,{onDragLeave(u){var f;(f=n.onDragLeave)===null||f===void 0||f.call(n,u),ye(u)},onDragEnter(u){var f;a.ifPreventDefault(u)&&u.preventDefault(),(f=n.onDragEnter)===null||f===void 0||f.call(n,u),ye(u)},onDragOver(u){var f;a.ifPreventDefault(u)&&u.preventDefault(),(f=n.onDragOver)===null||f===void 0||f.call(n,u),ye(u)},onDrop(u){var f;a.ifPreventDefault(u)&&u.preventDefault(),(f=n.onDrop)===null||f===void 0||f.call(n,u)},onEnter(u){var f;(f=n.onEnter)===null||f===void 0||f.call(n,u)},onLeave(u){var f;(f=n.onLeave)===null||f===void 0||f.call(n,u)}});return X(e,"dragstart",o),X(e,"drag",i),X(e,"dragend",c),Object.assign(n,{root:e,destroy:()=>{Ke.off(e,"start",s,{touchArgs:[{passive:!0}]}),Y(e,"dragstart",o),Y(e,"drag",i),Y(e,"dragend",c),l(),Me.delete(e)}}),Me.set(e,a),a}const Nn={ingoreHTMLTags:["INPUT","TEXTAREA","SELECT","OPTGROUP","OPTION"],ifPreventDefault(e){return ee.dragElement?!0:R.preventDefault},beforeDragStart(e){},onDragStart(e){},onDrag(e){},onDragEnter(e){},onDragLeave(e){},onDragOver(e){},onDragEnd(e){},onDrop(e){}};let Ae=null;const Tn=e=>{Ae=e,setTimeout(()=>{Ae=null},20)};function Pn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e;let a=!1;const s=h=>{var p;a=!0,(p=t.onEnter)===null||p===void 0||p.call(t,h),d.resume()},r=h=>{var p;Tn(h.target),(p=t.onDragEnter)===null||p===void 0||p.call(t,h),a||s(h)},o=h=>{var p;a||s(h),(p=t.onDragOver)===null||p===void 0||p.call(t,h)},i=h=>{var p;(p=t.onDragLeave)===null||p===void 0||p.call(t,h);const b=function(){var P;let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h;a=!1,(P=t.onLeave)===null||P===void 0||P.call(t,E),d.stop()},D=Ae;Ae=null,D&&pn(D,n)||b()},c=h=>{var p;(p=t.onDrop)===null||p===void 0||p.call(t,h)},l=h=>{var p;h instanceof KeyboardEvent&&h.key!=="Escape"||(a=!1,d.stop(),(p=t.onEndBeforeLeave)===null||p===void 0||p.call(t,h))},d=mn([[e,"drop",l],[window,"mouseup",l],[window,"touchend",l],[window,"keydown",l]]);d.stop();const u=()=>{X(e,"dragenter",r),X(e,"dragover",o),X(e,"dragleave",i),X(e,"drop",c)},f=()=>{Y(e,"dragenter",r),Y(e,"dragover",o),Y(e,"dragleave",i),Y(e,"drop",c),d.stop()};return u(),f}var Ln=Object.defineProperty,An=Object.defineProperties,Fn=Object.getOwnPropertyDescriptors,it=Object.getOwnPropertySymbols,In=Object.prototype.hasOwnProperty,Vn=Object.prototype.propertyIsEnumerable,lt=(e,t,n)=>t in e?Ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ot=(e,t)=>{for(var n in t||(t={}))In.call(t,n)&&lt(e,n,t[n]);if(it)for(var n of it(t))Vn.call(t,n)&&lt(e,n,t[n]);return e},jn=(e,t)=>An(e,Fn(t)),Ze=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n};let Fe=!1;const Bn=()=>{Fe=!0,setTimeout(()=>{Fe=!1},100)},qn=pe({props:["stat","rtl","btt","indent","table","treeLine","treeLineOffset","processor"],emits:["open","close","check"],setup(e,{emit:t}){const n=U(()=>({[e.rtl?"paddingRight":"paddingLeft"]:e.indent*(e.stat.level-1)+"px"}));Je(()=>e.stat.checked,r=>{Fe||e.processor.afterOneCheckChanged(e.stat)&&t("check",e.stat)}),Je(()=>e.stat.open,r=>{Fe||(t(r?"open":"close",e.stat),Bn())});const a=U(()=>{const r=[],o=d=>{var u;if(d.parent){let f=(u=d.parent)==null?void 0:u.children.indexOf(d);do{f++;let h=d.parent.children[f];if(h){if(!h.hidden)return!0}else break}while(!0)}return!1},i=e.rtl?"right":"left",c=e.btt?"top":"bottom";let l=e.stat;for(;l;){let d=(l.level-2)*e.indent+e.treeLineOffset;const u=o(l),f=()=>{r.push({style:{[i]:d+"px",[c]:u?0:"50%"}})};l===e.stat?l.level>1&&f():u&&f(),l=l.parent}return r}),s=U(()=>{let r=(e.stat.level-2)*e.indent+e.treeLineOffset;return{[e.rtl?"right":"left"]:r+"px"}});return{indentStyle:n,vLines:a,hLineStyle:s}}}),Kn=qn,Mn={class:"tree-node-inner"},Rn={key:1,class:"tree-node",ref:"el"};function Un(e,t,n,a,s,r){return e.table?(w(),O("tr",Rn,[L(e.$slots,"default",{indentStyle:e.indentStyle})],512)):(w(),O("div",{key:0,class:Ne(["tree-node",{"tree-node--with-tree-line":e.treeLine}]),style:ie(e.indentStyle),ref:"el"},[e.treeLine?(w(),O(G,{key:0},[(w(!0),O(G,null,he(e.vLines,o=>(w(),O("div",{class:"tree-line tree-vline",style:ie(o.style)},null,4))),256)),e.stat.level>1?(w(),O("div",{key:0,class:"tree-line tree-hline",style:ie(e.hLineStyle)},null,4)):ge("",!0)],64)):ge("",!0),A("div",Mn,[L(e.$slots,"default",{indentStyle:e.indentStyle})])],6))}var zn=Ze(Kn,[["render",Un]]);function Hn(e,t={}){const n=jn(Ot({},t),{statHandler(a){return this._statHandler2&&(a=this._statHandler2(a)),Re(t.statHandler,be(a))},statsHandler(a){return Re(t.statsHandler,be(a))},statsFlatHandler(a){return Re(t.statsFlatHandler,be(a))}});return On(e,n)}function Re(e,t){return e?e(t):t}const Wn=pe({components:{VirtualList:En,TreeNode:zn},props:{value:{required:tn,type:Array},modelValue:{required:nn,type:Array},updateBehavior:{type:String,default:"modify"},processor:{type:Object,default:()=>Hn([],{noInitialization:!0})},childrenKey:{type:String,default:"children"},textKey:{type:String,default:"text"},indent:{type:Number,default:20},virtualization:{type:Boolean,default:!1},virtualizationPrerenderCount:{type:Number,default:20},defaultOpen:{type:Boolean,default:!0},statHandler:{type:Function},rtl:{type:Boolean,default:!1},btt:{type:Boolean,default:!1},table:{type:Boolean,default:!1},watermark:{type:Boolean,default:!1},nodeKey:{type:[String,Function],default:"index"},treeLine:{type:Boolean,default:!1},treeLineOffset:{type:Number,default:8}},emits:["update:modelValue","click:node","open:node","close:node","check:node","beforeDragStart","before-drag-start","after-drop","change","enter","leave"],data(){return{stats:[],statsFlat:[],dragNode:null,dragOvering:!1,placeholderData:{},placeholderColspan:1,batchUpdateWaiting:!1,self:this,_ignoreValueChangeOnce:!1}},computed:{valueComputed(){return this.modelValue||[]},visibleStats(){const{statsFlat:e,isVisible:t}=this;let n=e;return this.btt&&(n=n.slice(),n.reverse()),n.filter(a=>t(a))},rootChildren(){return this.stats}},methods:{_emitValue(e){this.$emit("update:modelValue",e)},_updateValue(e){return this.updateBehavior==="disabled"?!1:(e!==this.valueComputed&&(this._ignoreValueChangeOnce=!0),this._emitValue(e),!0)},getStat:Ue(K("getStat")),has:Ue(K("has")),updateCheck:K("updateCheck"),getChecked:K("getChecked"),getUnchecked:K("getUnchecked"),openAll:K("openAll"),closeAll:K("closeAll"),openNodeAndParents:K("openNodeAndParents"),isVisible:K("isVisible"),move:dt("move"),add:Ue(dt("add")),addMulti(e,t,n){this.batchUpdate(()=>{let a=n;for(const s of e)this.add(s,t,a),a!=null&&a++})},remove:K("remove"),removeMulti(e){this.batchUpdate(()=>{for(const t of e)this.remove(t)})},iterateParent:K("iterateParent"),getSiblings:K("getSiblings"),getData:K("getData"),getRootEl(){return this.$refs.vtlist.listElRef},batchUpdate(e){const t=this.ignoreUpdate(e);return this.batchUpdateWaiting||this._updateValue(this.updateBehavior==="new"?this.getData():this.valueComputed),t},ignoreUpdate(e){const t=this.batchUpdateWaiting;this.batchUpdateWaiting=!0;const n=e();return this.batchUpdateWaiting=t,n}},watch:{processor:{immediate:!0,handler(e){if(e){const t=n=>{if(n){const{childrenKey:a}=this;return n[a]||(n[a]=[]),n[a]}else return this.valueComputed};e._statHandler2=this.statHandler?n=>n.data===this.placeholderData?n:this.statHandler(n):null,e.afterSetStat=(n,a,s)=>{const{childrenKey:r,updateBehavior:o}=this;let i=this.valueComputed;if(o==="new"){if(this.batchUpdateWaiting)return;i=this.getData()}else if(o==="modify"){const c=t(a==null?void 0:a.data);c.includes(n.data)||c.splice(s,0,n.data)}this.batchUpdateWaiting||this._updateValue(i)},e.afterRemoveStat=n=>{var a;const{childrenKey:s,updateBehavior:r}=this;let o=this.valueComputed;if(r==="new"){if(this.batchUpdateWaiting)return;o=this.getData()}else if(r==="modify"){const i=t((a=n.parent)==null?void 0:a.data);wt(i,n.data)}this.batchUpdateWaiting||this._updateValue(o)}}e.initialized||(e.data=this.valueComputed,Object.assign(e,sn(this,["childrenKey","defaultOpen"])),e.init(),e.updateCheck()),this.stats=e.stats,this.statsFlat=e.statsFlat,e.data!==this.valueComputed&&this._updateValue(e.data)}},valueComputed:{handler(e){if(this.dragOvering||this.dragNode||this._ignoreValueChangeOnce)this._ignoreValueChangeOnce=!1;else{const{processor:n}=this;n.data=e,n.init(),this.stats=n.stats,this.statsFlat=n.statsFlat}}}},created(){},mounted(){this.watermark===!1&&(window._heTreeWatermarkDisabled=!0),this.watermark&&!window._heTreeWatermarkDisabled&&(window._heTreeWatermark||(window._heTreeWatermark=!0,console.log("%c[he-tree] Vue tree component:  https://hetree.phphe.com","color:#0075ff; font-size:14px;")))}}),Jn=Wn;function K(e){return function(...t){return this.processor[e](...t)}}function dt(e){return function(...t){return this.batchUpdate(()=>this.processor[e](...t))}}function Ue(e){return function(t,...n){return t&&(t=be(t)),e.call(this,t,...n)}}const Qn={key:0,class:"drag-placeholder he-tree-drag-placeholder"},Xn=["colspan"],Yn={class:"drag-placeholder he-tree-drag-placeholder"};function Gn(e,t,n,a,s,r){const o=W("TreeNode"),i=W("VirtualList");return w(),V(i,{class:Ne(["he-tree",{"he-tree--rtl rtl":e.rtl,"he-tree--drag-overing drag-overing":e.dragOvering}]),ref:"vtlist",items:e.visibleStats,disabled:!e.virtualization,table:e.table,itemKey:e.nodeKey},{prepend:x(()=>[L(e.$slots,"prepend",{tree:e.self})]),default:x(({item:c,index:l})=>[_(o,{"vt-index":l,class:Ne([c.class,{"drag-placeholder-wrapper":c.data===e.placeholderData,"dragging-node":c===e.dragNode}]),style:ie(c.style),stat:c,rtl:e.rtl,btt:e.btt,indent:e.indent,table:e.table,treeLine:e.treeLine,treeLineOffset:e.treeLineOffset,processor:e.processor,onClick:d=>e.$emit("click:node",c),onOpen:t[0]||(t[0]=d=>e.$emit("open:node",d)),onClose:t[1]||(t[1]=d=>e.$emit("close:node",d)),onCheck:t[2]||(t[2]=d=>e.$emit("check:node",d))},{default:x(({indentStyle:d})=>[c.data===e.placeholderData?(w(),O(G,{key:0},[e.table?(w(),O("td",{key:1,style:ie(d),colspan:e.placeholderColspan},[A("div",Yn,[L(e.$slots,"placeholder",{tree:e.self})])],12,Xn)):(w(),O("div",Qn,[L(e.$slots,"placeholder",{tree:e.self})]))],64)):L(e.$slots,"default",{key:1,node:c.data,stat:c,indentStyle:d,tree:e.self},()=>[H(fe(c.data[e.textKey]),1)])]),_:2},1032,["vt-index","class","style","stat","rtl","btt","indent","table","treeLine","treeLineOffset","processor","onClick"])]),append:x(()=>[L(e.$slots,"append",{tree:e.self})]),_:3},8,["class","items","disabled","table","itemKey"])}var Zn=Ze(Jn,[["render",Gn]]);let v=null,g=null,ze,Ee,oe,Oe,He,M;const er=pe({extends:Zn,props:{triggerClass:{type:[String,Array]},disableDrag:Boolean,disableDrop:Boolean,eachDraggable:{type:Function},eachDroppable:{type:Function},rootDroppable:{type:[Boolean,Function],default:!0},dragOpen:{type:Boolean,default:!0},dragOpenDelay:{type:Number,default:0},beforeDragOpen:{type:Function},resolveStartMovePoint:{type:[String,Function]},keepPlaceholder:{type:Boolean},maxLevel:{type:Number},dragCopy:{type:Boolean},dragCopyDataHandler:{type:Function},onExternalDragOver:{type:Function},externalDataHandler:{type:Function},ondragstart:{type:Function}},data(){return{treeDraggableInstance:null}},computed:{},methods:{getNodeByElement(e){const t=e.getAttribute("vt-index");return t==null?null:this.visibleStats[t]},isDraggable(e){if(this.disableDrag)return!1;if(e.draggable!=null)return e.draggable;if(this.eachDraggable){const n=this.eachDraggable(e);if(n!=null)return n}const{parent:t}=e;return t?this.isDraggable(t):!0},isDroppable(e){if(this.disableDrop)return!1;if(!e)return tt(this.rootDroppable,[this,v]);if(e.droppable!=null)return e.droppable;if(this.eachDroppable){const n=this.eachDroppable(e);if(n!=null)return n}const{parent:t}=e;return t?this.isDroppable(t):!0},_eachDroppable(){var e;return tt((e=this._isDragCopy)==null?void 0:e.call(this),[this])}},mounted(){const e=(l,d)=>{let u=!0;return v&&v!==this&&(u=u&&this._isMoved),this.table&&!this._isDragCopy&&(u=u&&this._isDragCopy),u&&(l.x!==d.x||l.y!==d.y)},t=(l,d)=>{g.ignoreUpdate(()=>{if(!g.has(g.placeholderData)){if(g.table){let f=0;const h=g.getRootEl().querySelector("tr");if(h)for(const{value:p}of ln(h.children))Le(p,"display")!=="none"&&(f+=p.colSpan||1);f<1&&(f=1),g.placeholderColspan=f}g.add(g.placeholderData)}const u=g.getStat(g.placeholderData);g.move(u,l,d)})},n=()=>{const l=this;if(l.has(l.placeholderData))return l.remove(l.getStat(l.placeholderData)),!0},a=l=>{l?ee.dropEffect=v!=null&&v.dragCopy?"copy":"move":ee.dropEffect="none"},s=l=>{const d=this;l?a(!0):d.keepPlaceholder?d.has(d.placeholderData)||a(!1):(n(),a(!1))};let r={x:0,y:0};const o=this.getRootEl();let i=null;const c=()=>{g!=null&&g.has(g.placeholderData)&&g.ignoreUpdate(()=>{g.remove(g.getStat(g.placeholderData)),v&&(v.dragNode.hidden=!1,v.dragOvering=!1)})};this.treeDraggableInstance=$n(o,{beforeDragStart:l=>{if(!ee.triggerElement)return;let d=this.triggerClass;(!d||d.length===0)&&(d="tree-node");let u=on(d),f=nt(ee.triggerElement,h=>{if(rt(h,u))return!0;if(Pe(h,"tree-node"))return"break"},{withSelf:!0,until:o});if(i=nt(f,h=>{if(Pe(h,"tree-node"))return!0},{withSelf:!0,until:o}),!!i){if(M=this.getNodeByElement(i),!M)throw"Can't find drag node";if(!!this.isDraggable(M))return this.$emit("before-drag-start",M),this.$emit("beforeDragStart",M),o}},onDragStart:l=>{var d,u,f;if(!i||!M)return;{const{x:D,y:P}=i.getBoundingClientRect(),{clientX:E,clientY:z}=l;(d=l.dataTransfer)==null||d.setDragImage(i,E-D,z-P)}He={x:l.clientX,y:l.clientY},v=this,v.dragNode=M,Oe=(()=>{if(this.resolveStartMovePoint==="mouse")return{x:l.clientX,y:l.clientY};if(typeof this.resolveStartMovePoint=="function")return this.resolveStartMovePoint(i);{let D,P=0;if(this.table){let E=i.getBoundingClientRect();D={x:E.x,y:E.y},this.rtl&&(D.x=E.right),P=E.height}else if(!this.rtl)D=i.children[0].getBoundingClientRect().toJSON(),P=D.height;else{const E=i.children[0].getBoundingClientRect();D={x:E.right,y:E.y},P=E.height}return this.btt&&(D.y+=P),D}})(),this.dragOvering=!0;const p=v.getSiblings(v.dragNode),b=p.indexOf(M);ze={tree:v,dragNode:M,parent:M.parent,siblings:p,indexBeforeDrop:b},g=this,(u=l.dataTransfer)==null||u.setData("text",`he-tree drag start at ${new Date().toISOString()}`),v._eachDroppable()||setTimeout(()=>{M.hidden=!0,t(M.parent,b+1)},0),(f=this.ondragstart)==null||f.call(this,l)},onEnter:l=>{this.$emit("enter",l)},onLeave:l=>{oe=null,this.dragOvering=!1,ee.preventDefault=!1,n(),this.$emit("leave",l)},onDragOver:hn(l=>{if(!v){if(!this.onExternalDragOver||this.onExternalDragOver(l)===!1)return;ee.preventDefault=!0}const d={x:l.clientX,y:l.clientY},u=e(d,r);if(r=d,!u)return;this.dragOvering=!0,g=this;const f=Oe?{x:Oe.x+(d.x-He.x),y:Oe.y+(d.y-He.y)}:Ot({},d),{btt:h,rtl:p}=g;if(g.disableDrop){ee.dropEffect="none";return}let b,D;const P=g.getRootEl().querySelectorAll(".tree-node"),E=[];P.forEach(S=>{!rt(S,["drag-placeholder-wrapper","dragging-node"])&&Le(S,"display")!=="none"&&E.push(S)});const z=Ge(E,S=>qe(S)[h?"bottom":"top"]-f.y,{returnNearestIfNoHit:!0});let C=null,J,le;z.hit||(z.greater?h||(C=z.index-1,E[C]||C++):h&&(C=z.index+1,E[C]||C--)),C==null&&(C=z.index),J=E[C],le=h?E[C-1]:E[C+1],b=J&&g.getNodeByElement(J),D=le&&g.getNodeByElement(le);const{indent:te}=g,j=ve(()=>{if(g.table){let S=qe(J).toJSON();const F=te*(b.level-1);return p?(S.width-=F,S.right-=F):S.x+=F,S}else return qe(J.firstElementChild)}).action,de=ve(()=>h?f.y>j().y+j().height/2:f.y<j().y+j().height/2).action,je=ve(()=>h?!J||C===E.length-1&&de():!J||C===0&&de()).action,we=ve(()=>p?f.x-(j().x+j().width):j().x-f.x).action,y=ve(()=>p?f.x<j().x+j().width-te:f.x>j().x+te).action;let m;if(je())m=1,b=null;else if(b)we()>0?m=b.level-Math.ceil(we()/te):y()?m=b.level+1:m=b.level;else return;D&&m<D.level&&(m=D.level),(async()=>{let S,F,B=!1,Z=null;const ne=async $=>{if($.open)return!0;if(g.dragOpen)if(g.dragOpenDelay)if(Z=$,oe===$)B=!0;else{let T=gn();oe=$;const I=$;return setTimeout(async()=>{I!==oe?(B=!0,T.resolve(!0)):(g.beforeDragOpen&&await g.beforeDragOpen($),I!==oe?(B=!0,T.resolve(!0)):($.open=!0,Z=null,T.resolve(!0)))},g.dragOpenDelay),await T.promise}else return $.open=!0,!0;else return!1},re=async()=>{if(g.isDroppable(b)&&await ne(b)){if(B)return;S=b,F=null}else return!1},Se=($=m)=>{let T=b,I=[];for(;T&&T.level>=$;)T=T.parent||null,I.unshift(T);let ae=0;for(const De of I){if(g.isDroppable(De))return S=De,F=I[ae+1]||b,!0;ae++}return!1};b?m>b.level?await re()===!1&&Se(b.level):Se()===!1&&await re():g.isDroppable(null)&&(S=null),oe=Z;const q=Boolean(!B&&(S||S===null));return{cancelled:B,success:q,parent:S,index:q?(()=>F?(S?S.children:g.stats).filter($=>$.data!==g.placeholderData).indexOf(F)+1:0)():-1}})().then(S=>{if(!S.cancelled){if(!S.success){s(!1);return}if(g.maxLevel!=null&&g.maxLevel>0){let F=1;if(v){const Z=v.dragNode;let ne=0;Q(Z,re=>{re.level>ne&&(ne=re.level)},{childrenKey:se}),F=ne-Z.level+1}if(F+(S.parent?S.parent.level:0)>g.maxLevel){s(!1);return}}s(!0),t(S.parent,S.index)}})},()=>{}),onDrop:l=>{g=this;const d=!v;if(!g)return;const u=v==null?void 0:v.dragNode;let f,h=(()=>{var p;let b=!0;if(!g.has(g.placeholderData))b=!1;else if(d)f=(p=this.externalDataHandler)==null?void 0:p.call(this,l),b=f!=null;else if(!v.dragCopy){const D=g.getStat(g.placeholderData);v===g&&D.parent===u.parent&&fn(u,P=>P===D)}return b})();if(h){const p=g.getStat(g.placeholderData),b=g.getSiblings(p);Ee={tree:g,dragNode:u,parent:p.parent,siblings:b,indexBeforeDrop:b.indexOf(p)}}(()=>{if(c(),h){let p=Ee.indexBeforeDrop;v&&!v.dragCopy&&v===g&&ze.parent==Ee.parent&&ze.indexBeforeDrop<p&&p--,v&&v!==g&&!v._eachDroppable()&&v.batchUpdate(()=>{v.remove(u),v.updateCheck()}),g.batchUpdate(()=>{let b=v==null?void 0:v.dragNode,D;f?D=f:v._eachDroppable()&&(D=kt(v.dragNode.data,{childrenKey:v.childrenKey}),v.dragCopyDataHandler&&(D=v.dragCopyDataHandler(D))),D&&(g.add(D),b=g.getStat(D)),g.move(b,Ee.parent,p),g.updateCheck()})}g.$emit("after-drop"),h&&(v&&(v.dragCopy||v.$emit("change")),g!==v&&g.$emit("change"))})()},onDragEnd:l=>{c(),v&&(v.dragNode&&(v.dragNode.hidden=!1),v.dragNode=null,v.dragOvering=!1,v=null),g=null,oe=null,M=null}})},unmounted(){var e;(e=this.treeDraggableInstance)==null||e.destroy()}}),tr=pe({props:{open:{type:Boolean}}}),nr=A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[A("title",null,"chevron-right"),A("path",{d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"})],-1),rr=[nr];function ar(e,t,n,a,s,r){return w(),O("a",{class:Ne(["he-tree__open-icon",{open:e.open}])},rr,2)}var or=Ze(tr,[["render",ar]]);const _e={};_e.file=[{label:"Abrir arquivo",icon:"description",handler:"openFile"},"---",{label:"Renomear",icon:"edit",handler:"rename"},{label:"Deletar",icon:"delete",handler:"remove"}];_e.dir=[{label:"Novo arquivo",icon:"insert_drive_file",handler:"addFile"},{label:"Nova pasta",icon:"folder",handler:"addFolder"},"---",{label:"Renomear",icon:"edit",handler:"rename"},{label:"Deletar",icon:"delete",handler:"remove"}];_e.root=[{label:"Novo arquivo",icon:"insert_drive_file",handler:"addFile"},{label:"Nova pasta",icon:"folder",handler:"addFolder"}];const sr={props:{type:{default:"file",type:String}},computed:{contextMenu(){return _e[this.type]||_e.file}}};function ir(e,t,n,a,s,r){return w(),V(Tt,{"context-menu":"","touch-position":""},{default:x(()=>[_(bt,{dense:""},{default:x(()=>[(w(!0),O(G,null,he(r.contextMenu,(o,i)=>(w(),O(G,{key:i},[["---"].includes(o)?(w(),V(Nt,{key:0})):Ve((w(),V(xt,{key:1,clickable:"",onClick:c=>e.$emit(o.handler)},{default:x(()=>[o.icon?(w(),V(Qe,{key:0,side:""},{default:x(()=>[_(ue,{name:o.icon,color:"blue-grey-4",size:"18px"},null,8,["name"])]),_:2},1024)):ge("",!0),_(Qe,null,{default:x(()=>[H(fe(o.label),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[pt]])],64))),128))]),_:1})]),_:1})}var lr=Ie(sr,[["render",ir]]);const ce="https://api2.b15.com.br/geeks-api",dr={components:{ExplorerContextMenu:lr,Draggable:er,OpenIcon:or},data(){return{text:"",arquivoUpload:null,modalUpload:!1,nodes:[],nodesOriginal:[],termoBusca:"",uploaderFields:[]}},emits:["abrir","fecharAba"],methods:{beforeDragStart(e){this.dragNode=e},async afterDrop(){try{$q.loading.show();const e=this.dragNode.data.dirname+"/"+this.dragNode.data.text;let t="/"+this.dragNode.data.text;this.dragNode.parent&&(t=this.dragNode.parent.data.dirname+"/"+this.dragNode.parent.data.text+t);const n=new Headers;n.append("Content-Type","application/json; charset=utf-8");const s=await(await fetch(`${ce}/renomear`,{method:"POST",headers:n,body:JSON.stringify({origem:e,destino:t})})).json();if(s.erro){$q.notify({message:s.erro,type:"negative"}),await this.obterArvore();return}this.dragNode.parent?this.dragNode.data.dirname=this.dragNode.parent.data.dirname+"/"+this.dragNode.parent.data.text:this.dragNode.data.dirname="."}catch(e){console.error(e),$q.notify({message:"N\xE3o foi poss\xEDvel mover o item.",type:"negative"})}finally{$q.loading.hide()}},async obterArvore(){try{$q.loading.show();const e=await fetch(`${ce}/obterArvore`);this.nodesOriginal=await e.json(),this.nodes=$utils.clonar(this.nodesOriginal)}catch(e){console.error(e),$q.notify({message:"N\xE3o foi poss\xEDvel ler as fun\xE7\xF5es.",type:"negative"})}finally{$q.loading.hide()}},async busca(){var n;const e=a=>{var r;const s=[];for(let o of a)if((o==null?void 0:o.type)==="file"&&$utils.tratamentoCompletoString(o==null?void 0:o.text).includes(t)&&s.push(o),(r=o==null?void 0:o.idFuncao)!=null&&r.includes(t.toUpperCase())&&s.push(o),o!=null&&o.children){const i=e(o.children);i.length&&(o.children=i,s.push(o))}return s},t=$utils.tratamentoCompletoString((n=this.termoBusca)!=null?n:"");t.length>0&&(await this.obterArvore(),this.nodes=e(this.nodes))},async abrir(e){if(e.type==="file")try{$q.loading.show();const t=new Headers;t.append("Content-Type","application/json; charset=utf-8");const a=await(await fetch(`${ce}/abrir`,{method:"POST",headers:t,body:JSON.stringify({filepath:e.dirname+"/"+e.text})})).json();if(a.erro){$q.notify({message:a.erro,type:"negative"});return}this.$emit("abrir",{idFuncao:a.idFuncao,filename:e.text,conteudo:a.conteudo})}catch(t){console.error(t),$q.notify({message:"N\xE3o foi poss\xEDvel abrir o arquivo.",type:"negative"})}finally{$q.loading.hide()}},async adicionar(e,t,n){try{$q.loading.show();let a;e&&(a=$utils.clonar(e));const s=new Headers;s.append("Content-Type","application/json; charset=utf-8");const o=await(await fetch(`${ce}/adicionar`,{method:"POST",headers:s,body:JSON.stringify({parent:a,type:n})})).json();if(o.erro){$q.notify({message:o.erro,type:"negative"});return}this.$refs.tree.add(o,t)}catch(a){console.error(a),$q.notify({message:"N\xE3o foi poss\xEDvel adicionar o item.",type:"negative"})}finally{$q.loading.hide()}},async remover(e,t){this.$q.dialog({title:"Deletar",message:"Deseja realmente deletar?",cancel:!0}).onOk(async()=>{try{$q.loading.show();const n=new Headers;n.append("Content-Type","application/json; charset=utf-8");const s=await(await fetch(`${ce}/remover`,{method:"POST",headers:n,body:JSON.stringify({...$utils.clonar(e)})})).json();if(s.erro){$q.notify({message:s.erro,type:"negative"});return}this.$refs.tree.remove(t),this.$emit("fecharAba",e.idFuncao)}catch(n){console.error(n),$q.notify({message:"N\xE3o foi poss\xEDvel deletar o item.",type:"negative"})}finally{$q.loading.hide()}})},async renomear(e){if(e.editing=!1,!!this.text.trim()&&this.text!==e.text)try{$q.loading.show();const t=e.dirname+"/"+e.text,n=e.dirname+"/"+this.text,a=new Headers;a.append("Content-Type","application/json; charset=utf-8");const r=await(await fetch(`${ce}/renomear`,{method:"POST",headers:a,body:JSON.stringify({origem:t,destino:n})})).json();if(r.erro){$q.notify({message:r.erro,type:"negative"});return}e.text=this.text}catch(t){console.error(t),$q.notify({message:"N\xE3o foi poss\xEDvel renomear o item.",type:"negative"})}finally{$q.loading.hide()}},async mostrarInput(e,t){this.text=e.text,e.editing=!0,setTimeout(()=>{document.getElementById("renameFile").focus()},100)}},async mounted(){await this.obterArvore()}},cr={id:"explorer",class:"column full-height bg-blue-grey-10"},ur={class:"col-auto bg-blue-grey-10"},fr=["onClick"],hr=["onBlur"],gr={class:"col bg-blue-grey-10"};function pr(e,t,n,a,s,r){const o=W("OpenIcon"),i=W("explorer-context-menu"),c=W("Draggable");return w(),O("div",cr,[A("div",ur,[_(Ce,{modelValue:s.termoBusca,"onUpdate:modelValue":[t[0]||(t[0]=l=>s.termoBusca=l),t[1]||(t[1]=l=>r.busca())],onClear:r.obterArvore,debounce:500,clearable:"",placeholder:"Buscar",type:"search",color:"white",dark:"",dense:"",filled:"",class:"exSearch bg-blue-grey-10"},{prepend:x(()=>[_(ue,{name:"search"})]),_:1},8,["modelValue","onClear"]),_(c,{modelValue:s.nodes,"onUpdate:modelValue":t[4]||(t[4]=l=>s.nodes=l),onBeforeDragStart:r.beforeDragStart,onAfterDrop:r.afterDrop,defaultOpen:!1,ref:"tree",class:"mtl-tree",treeLine:""},{default:x(({node:l,stat:d})=>[d.children.length?(w(),V(o,{key:0,onClick:u=>d.open=!d.open,open:d.open,class:"exIcon"},null,8,["onClick","open"])):ge("",!0),l.editing?Ve((w(),O("input",{key:2,"onUpdate:modelValue":t[2]||(t[2]=u=>s.text=u),onBlur:u=>r.renomear(l),onKeyup:t[3]||(t[3]=vt(u=>u.target.blur(),["enter"])),id:"renameFile",class:"exInput"},null,40,hr)),[[Pt,s.text]]):(w(),O("span",{key:1,onClick:u=>r.abrir(l),class:"exText",style:{cursor:"pointer!important"}},fe(l.text),9,fr)),_(i,{onRemove:u=>r.remover(l,d),onAddFile:u=>r.adicionar(l,d,"file"),onAddFolder:u=>r.adicionar(l,d,"dir"),onRename:u=>r.mostrarInput(l),onOpenFile:u=>r.abrir(l),type:l.type},null,8,["onRemove","onAddFile","onAddFolder","onRename","onOpenFile","type"])]),_:1},8,["modelValue","onBeforeDragStart","onAfterDrop"])]),A("div",gr,[_(i,{type:"root",onAddFile:t[5]||(t[5]=l=>r.adicionar(null,null,"file")),onAddFolder:t[6]||(t[6]=l=>r.adicionar(null,null,"dir"))})])])}var mr=Ie(dr,[["render",pr]]);const vr={title:"SQL",extensions:["sql"]},yr={title:"CSS",extensions:["css"]},br={title:"HTML",extensions:["html"]},xr={title:"JavaScript",extensions:["js"]},_r={title:"Less",extensions:["less"]},wr={title:"Markdown",extensions:["markdown","md"]},Sr={title:"SCSS",extensions:["sass","scss"]},Dr={title:"TypeScript",extensions:["ts"]};var ct={sql:vr,css:yr,html:br,javascript:xr,less:_r,markdown:wr,scss:Sr,typescript:Dr};function kr(e){const t=document.createElement("textarea");t.value=e,t.contentEditable="true",t.style.position="fixed";const n=()=>{};Lt(n),document.body.appendChild(t),t.focus(),t.select();const a=document.execCommand("copy");return t.remove(),At(n),a}function Er(e){return navigator.clipboard!==void 0?navigator.clipboard.writeText(e):new Promise((t,n)=>{const a=kr(e);a?t(!0):n(a)})}const Or="https://api2.b15.com.br/geeks-api",Cr={components:{MonacoEditor:Mt,ExecutarApi:en,Explorer:mr},data(){return{editorConteudo:"",editorTheme:"vs-dark",modalExecutar:{visivel:!1,banco:""},preview:!1,previewSplitter:50,splitter:20,tab:"",tabs:[],contexto:{}}},computed:{editorOptions(){return{language:"javascript",autoIndent:!0,automaticLayout:!0,formatOnPaste:!0,formatOnType:!0,tabSize:2}},extensions(){const e={};for(const t in ct){const a=ct[t].extensions;for(const s of a)e[s]=t}return e},fileName(){var e,t;return(t=(e=this.contexto[this.tab])==null?void 0:e.text)!=null?t:""},hasTabs(){return this.tabs.length>0},language(){const e=this.fileName.split(".").pop();return this.extensions[e]}},methods:{copiarUID(e){Er(e).then(()=>{this.$q.notify({message:"UID copiado para a \xE1rea de transfer\xEAncia.",type:"info"})}).catch(()=>{this.$q.notify("Erro ao copiar.")})},async abrirExecutar(){this.executar||(this.executar={}),this.executar[this.tab]||(this.executar[this.tab]={banco:this.modalExecutar.banco||localStorage.getItem("bancoDeDados"),jsonParametros:JSON.stringify({[this.contexto[this.tab].filename]:{funcao:this.tab}},0,2)}),this.modalExecutar={...this.executar[this.tab],visivel:!0}},executarFechou(){this.executar||(this.executar={}),this.executar[this.tab]={banco:this.modalExecutar.banco||localStorage.getItem("bancoDeDados"),jsonParametros:this.modalExecutar.jsonParametros}},aoIniciarEditor(e){e.onKeyDown(t=>{const n=t.browserEvent||{};if(n.ctrlKey||n.metaKey)switch(n.which){case 13:n.stopPropagation(),this.abrirExecutar();break;case 83:n.preventDefault(),this.salvar();break}})},abrir({idFuncao:e,filename:t,conteudo:n}){this.contexto[e]={filename:t,conteudoOriginal:n,conteudo:n},this.tabs.includes(e)||this.tabs.push(e),this.tab=e},async salvar(){try{this.$q.loading.show();const e=this.tab,t=this.contexto[e].filename,n=this.contexto[e].conteudoOriginal,a=this.contexto[e].conteudo;if(a===n){this.$q.notify("N\xE3o h\xE1 dados alterados.");return}const s=new Headers;s.append("Content-Type","application/json; charset=utf-8");const o=await(await fetch(`${Or}/salvar`,{method:"POST",headers:s,body:JSON.stringify({idFuncao:e,conteudo:a})})).json();if(o.erro){$q.notify({message:o.erro,type:"negative"});return}this.contexto[e].conteudoOriginal=a,this.$q.notify(`O arquivo '${t}' foi salvo com sucesso!`)}catch(e){this.$q.notifyError("Erro ao salvar",e)}finally{this.$q.loading.hide()}},async fecharAba(e,t=!1){var r,o;this.tab=e;const n=(r=this.contexto[e])==null?void 0:r.conteudoOriginal,a=(o=this.contexto[e])==null?void 0:o.conteudo,s=()=>{const i=this.tabs.indexOf(e);this.tabs[i+1]?this.tab=this.tabs[i+1]:this.tab=this.tabs[i-1],this.tabs.splice(i,1),delete this.contexto[e]};if(t&&a!==n){await new Promise(i=>{$q.dialog({message:"Deseja descartar as altera\xE7\xF5es?",title:"Aten\xE7\xE3o",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{s(),i()}).onCancel(()=>{i()})});return}s()}},mounted(){},unmounted(){}},$r=e=>(jt("data-v-faf8367c"),e=e(),Bt(),e),Nr={key:0},Tr={key:1,class:"column full-height items-center justify-center text-blue-grey-10"},Pr=$r(()=>A("div",{class:"text-h4 text-weight-bold"},"GeeksApi",-1));function Lr(e,t,n,a,s,r){const o=W("explorer"),i=W("MonacoEditor"),c=W("ExecutarApi");return w(),V(ut,{id:"editorApi"},{default:x(()=>[_(ft,{unelevated:""},{default:x(()=>[_(ht,{class:"bg-blue-grey-10"},{default:x(()=>[_(gt,{style:{display:"flex","flex-direction":"row"}},{default:x(()=>[_(ue,{name:"code",size:"sm",class:"q-pr-md"}),H(" Editor de API Geeks ")]),_:1}),s.tab?(w(),O(G,{key:0},[_($e,{onClick:r.abrirExecutar,icon:"play_arrow",flat:"",round:""},{default:x(()=>[_(We,null,{default:x(()=>[H("Executar")]),_:1})]),_:1},8,["onClick"]),_($e,{onClick:r.salvar,icon:"save",flat:"",round:""},{default:x(()=>[_(We,null,{default:x(()=>[H("Salvar")]),_:1})]),_:1},8,["onClick"])],64)):ge("",!0)]),_:1})]),_:1}),_(mt,{style:{height:"100vh"}},{default:x(()=>[_(_t,{modelValue:s.splitter,"onUpdate:modelValue":t[1]||(t[1]=l=>s.splitter=l),class:"bg-blue-grey-9 full-height text-white"},{before:x(()=>[_(o,{onAbrir:r.abrir,onFecharAba:r.fecharAba},null,8,["onAbrir","onFecharAba"])]),after:x(()=>[_(Ft,{modelValue:s.tab,"onUpdate:modelValue":t[0]||(t[0]=l=>s.tab=l),align:"left",class:"bg-blue-grey-8 text-white",dense:"","no-caps":""},{default:x(()=>[(w(!0),O(G,null,he(s.tabs,l=>(w(),V(It,{key:l,name:l},{default:x(()=>[A("span",null,[H(fe(s.contexto[l].filename)+" ",1),_(qt,{"auto-close":"",stretch:"",flat:"",unelevated:!1},{default:x(()=>[_(bt,null,{default:x(()=>[_(xt,{clickable:"",onClick:d=>r.copiarUID(l)},{default:x(()=>[_(Qe,null,{default:x(()=>[H("ID")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),_(ue,{class:"q-ml-sm",name:"close",size:"1em",onClick:yt(d=>r.fecharAba(l,!0),["stop"])},null,8,["onClick"])])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),r.hasTabs?(w(),O("div",Nr,[(w(!0),O(G,null,he(s.tabs,l=>(w(),O("div",{key:l},[s.contexto[l]?Ve((w(),V(i,{key:0,modelValue:s.contexto[l].conteudo,"onUpdate:modelValue":d=>s.contexto[l].conteudo=d,class:"editor",language:"javascript",options:r.editorOptions,theme:s.editorTheme,onEditorDidMount:r.aoIniciarEditor,ref_for:!0,ref:"editor"},null,8,["modelValue","onUpdate:modelValue","options","theme","onEditorDidMount"])),[[Vt,l===s.tab]]):ge("",!0)]))),128))])):(w(),O("div",Tr,[_(ue,{color:"blue-grey-10",name:"code",size:"256px"}),Pr]))]),_:1},8,["modelValue"])]),_:1}),_(c,{modal:s.modalExecutar,onFechou:r.executarFechou},null,8,["modal","onFechou"])]),_:1})}var qr=Ie(Cr,[["render",Lr],["__scopeId","data-v-faf8367c"]]);export{qr as default};
