import{_ as _e,bh as he,r as Y,o as n,n as E,F as I,d as u,w as e,f as o,B as p,h as we,i as xe,T as k,k as d,t as m,c$ as de,j as g,G as z,d0 as ke,e as v,m as K,l as oe,O as te,s as T,R as _,S as s,Q,ax as le,M,y as qe,bs as Fe,bb as ye}from"./index.c8ffb049.js";import{e as Ce}from"./emitirNFe.35117289.js";import{D as De}from"./DocumentosFiscais.446ad1ef.js";import{M as Ee}from"./ModalHistoricoStatus.07449841.js";var Se={methods:{async emitirNFSe(i){console.log("Mixin EMITIR NFSE!",i);const t=await $db.documento.le({id:i.idVenda}),y=(await $erp().empresa.toArray()).find(L=>L.numeroDocumentoNacional.replace(/\D/g,"")===t.numeroDocumentoEmpresa.replace(/\D/g,""));let r,a;y!=null&&y.idContato&&(r=(await $db.empresa.le({idContato:y.idContato}))[0],r!=null&&r.nfseCodigoServico&&(a=JSON.parse(r==null?void 0:r.nfseItensListaDeServico).find(L=>L.codigo===(r==null?void 0:r.nfseCodigoServico))));const c=(await $db.contato.le()).find(L=>L.numeroDocumentoNacional===t.numeroDocumentoContato),h=await $db.contatoEndereco.leEnderecoPrincipal(c.id),F=$utils.uuid(),j={numero:null,numeroLote:"",inscricaoMunicipal:"",quantidadeRps:1,identificacaoRps:{},servico:{itemListaServico:a.codigo,codigoCnae:a.codigoCNAE,codigoTributacaoMunicipio:a.codigoTributacao,discriminacao:a.descricao,municipioPrestacaoServico:"",valores:{valorServicos:t.valorDocumento,valorPis:0,valorInss:0,valorCsll:0,issRetido:"2",valorIss:0,baseCalculo:0,aliquota:0,valorLiquidoNfse:t.valorDocumento,descontoIncondicionado:0,descontoCondicionado:0}},prestador:{documento:t.numeroDocumentoEmpresa.replace(/\D/g,""),razaoSocial:t.descricaoEmpresa,inscricaoMunicipal:""},tomador:{documento:t.numeroDocumentoContato.replace(/\D/g,""),razaoSocial:t.descricaoContato,endereco:{rua:h.logradouro,numero:h.numero,bairro:h.bairro,cidade:h.municipio,estado:h.uf,cep:h.cep}},id:F},B={id:F,tipo:"NFSe",situacao:"Rascunho",tpAmb:2,dataHoraCriacao:new Date,cpfCnpjEmitente:t.numeroDocumentoEmpresa.replace(/\D/g,""),xNomeEmitente:t.descricaoEmpresa,cpfCnpjDestinatario:t.numeroDocumentoContato.replace(/\D/g,""),xNomeDestinatario:t.descricaoContato,json:j};console.log(B)}}};const Ve={components:{DocumentosFiscais:De,ModalHistoricoStatus:Ee,VendaModal:he},computed:{config(){return $db.configuracoes.valores},podeMigrarFatura(){return!~["Aguardando Estoque","Aguardando Financeiro","Aguardando Aprova\xE7\xE3o","Aguardando Pagamento","Cancelado","N\xE3o Aprovado","Or\xE7amento","Faturado"].indexOf(this.dados.venda.status)}},data(){return{dbUsuario:$db.usuario,width:0,dados:{venda:{}},fatura:{},status:{"Aguardando Confer\xEAncia":"orange","Aguardando Embalagem":"orange","Aguardando Entrega":"orange","Aguardando Libera\xE7\xE3o":"orange","Aguardando Separa\xE7\xE3o":"orange","Aguardando Estoque":"orange","Aguardando Financeiro":"orange","Aguardando Aprova\xE7\xE3o":"orange","Aguardando Pagamento":"tertiary","Aguardando Faturamento":"tertiary","Em Confer\xEAncia":"orange","Em Separa\xE7\xE3o":"orange",Faturado:"positive",Entregue:"positive",Cancelado:"red","N\xE3o Aprovado":"amber",Or\u00E7amento:"orange"},contatos:{},faturasAbertas:[],detalhesVisivel:!1,visibilidade:{botao:{editar:!1,remover:!1}},modalDevolucaoGarantia:{visivel:!1,item:{},orcamento:{}},sistemaPai:"",configImpressaoOrcamento:[],configImpressosWhatsapp:[],documentoItemKit:{},quantidadeProdutos:0}},emits:["executar","carregou","verificarListaLayout"],mixins:[Ce],props:{id:{type:String,required:!0},dadosVenda:{type:Object,required:!1},vendasCompletas:{type:Object,required:!1},resetarEnvio:{type:Function,required:!1},layout:{type:String,default:"card"}},methods:{async duplicarVenda(){try{await new Promise((i,t)=>{this.$q.dialog({message:"Duplicar este pedido?",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(()=>{i()}).onCancel(()=>{t()})})}catch{return}try{const i=await $db.venda.duplicarVenda(this.id);this.$refs.vendaModal.mostrar({id:i}),this.$q.notify({type:"positive",message:"Pedido duplicado"})}catch(i){let t="N\xE3o foi poss\xEDvel realizar a opera\xE7\xE3o";/^GError:.+/.test(i.message)&&(t=i.message.slice(7)),this.$q.notify({type:"negative",message:t}),console.error(i)}},irParaAtendimentoFatura(i){this.$router.push({name:"AtendimentoFatura",params:{id:i}})},async migrarFatura(i){try{await new Promise((t,y)=>{this.$q.dialog({message:"Esta a\xE7\xE3o ir\xE1 migrar esta venda para outra fatura.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(()=>{t()}).onCancel(()=>{y()})})}catch{return}i||(i=$db.fatura.criar(this.dados.venda),await $db.fatura.grava({fatura:i})),i.id?(await $db.documento.grava({atual:{id:this.dados.venda.id,idFatura:i.id},original:{id:this.dados.venda.id}}),localStorage.setItem("idFatura",i.id),this.dados.venda.idContato&&(this.$emit("executar","atualizar"),this.irParaAtendimentoFatura(this.dados.venda.idContato))):this.$q.notify("N\xE3o foi poss\xEDvel realizar a opera\xE7\xE3o")},alternarDetalhes(i){this.detalhesVisivel=!this.detalhesVisivel,this.layout==="lista"&&this.$emit("verificarListaLayout",{id:i,acao:"detalhes",estado:this.detalhesVisivel})},async atualizar(){var y;const i=await $db.venda.leCompleto(this.id);i.carrinho.sort((r,a)=>new Date(r.dataHoraEmissao)<new Date(a.dataHoraEmissao)?-1:1),i.oss.sort((r,a)=>new Date(r.documento.dataHoraEmissao)<new Date(a.documento.dataHoraEmissao)?-1:1),i.customs.sort((r,a)=>new Date(r.documento.dataHoraEmissao)<new Date(a.documento.dataHoraEmissao)?-1:1),i.kits.sort((r,a)=>new Date(r.documento.dataHoraEmissao)<new Date(a.documento.dataHoraEmissao)?-1:1),(y=i.venda)!=null&&y.idFatura&&(this.fatura=await $db.hibrido.le({table:"documento",id:i.venda.idFatura}));for(const r of i.kits){const a=r.documentosItem.find(c=>c.operacaoFator===-1&&c.operacao!=="Manipula\xE7\xE3o");this.documentoItemKit[r.documento.id]=a}if((i.venda||{}).idContato&&(i.venda||{}).idEmpresa){let r=[];r=await $db.fatura.obterAbertas(i.venda.idContato,i.venda.idEmpresa),this.faturasAbertas=r.sort((a,c)=>!a.numero||a.numero<c.numero?-1:1)}const t={};if(i.venda.idContato){const r=i.venda.idContato;t[r]||(t[r]=await $db.contato.le({id:r}))}if(i.venda.idContatoVendedor){const r=i.venda.idContatoVendedor;t[r]||(t[r]=await $db.contato.le({id:r}))}i.venda.permiteNFSe=await this.exibirEmitirNFSe(i.venda.id),this.configuraImpressaoOrcamento(i.venda.idEmpresa),this.configuraImpressosWhatsapp(i.venda),this.contatos=t,this.dados=i,await this.$nextTick(),i.venda.id===localStorage.getItem("idVenda")&&(this.$refs.vendaModal.mostrar({id:i.venda.id}),localStorage.removeItem("idVenda"))},async atualizarComDados(){var t,y,r,a;const i=await $db.venda.preparaDados(this.dadosVenda);i.carrinho.sort((c,h)=>new Date(c.dataHoraEmissao)<new Date(h.dataHoraEmissao)?-1:1),i.oss.sort((c,h)=>new Date(c.documento.dataHoraEmissao)<new Date(h.documento.dataHoraEmissao)?-1:1),i.customs.sort((c,h)=>new Date(c.documento.dataHoraEmissao)<new Date(h.documento.dataHoraEmissao)?-1:1),i.kits.sort((c,h)=>new Date(c.documento.dataHoraEmissao)<new Date(h.documento.dataHoraEmissao)?-1:1),(t=i.venda)!=null&&t.idFatura&&(this.fatura=await $db.hibrido.le({table:"documento",id:i.venda.idFatura}));for(const c of i.kits){const h=c.documentosItem.find(F=>F.operacaoFator===-1&&F.operacao!=="Manipula\xE7\xE3o");this.documentoItemKit[c.documento.id]=h}this.faturasAbertas=((r=(y=this.vendasCompletas)==null?void 0:y.faturasAbertas)==null?void 0:r.filter(c=>c.idEmpresa===i.venda.idEmpresa))||[],i.venda.permiteNFSe=await this.exibirEmitirNFSe(i.venda.id),this.configuraImpressaoOrcamento(i.venda.idEmpresa),this.configuraImpressosWhatsapp(i.venda),this.contatos=((a=this.vendasCompletas)==null?void 0:a.dadosContatos)||{},this.dados=i,await this.$nextTick(),i.venda.id===localStorage.getItem("idVenda")&&(this.$refs.vendaModal.mostrar({id:i.venda.id}),localStorage.removeItem("idVenda"))},async configuraImpressaoOrcamento(i){const t=await $db.configuracoes.porNome("impressao.venda",i),y=[{valor:"invoice",texto:"Or\xE7amento/Venda (Invoice)"}];this.sistemaPai==="optisoul"&&y.push({valor:"orcamento",texto:"Or\xE7amento (Antigo)"},{valor:"termoGarantia",texto:"Termo de Garantia"}),this.configImpressaoOrcamento=[...t.length?t.map(r=>({texto:"Imprimir Or\xE7amento",...r})):y]},async configuraImpressosWhatsapp(i){const t=await $db.configuracoes.le({prefixoNome:"venda.whatsapp.enviar.",idEmpresa:i.idEmpresa});this.configImpressosWhatsapp=t.map(y=>({...y,idVenda:i.id}))},async dialogEnviar(i){var t,y;try{const r=await $db.hibrido.le({table:"documento",id:i.idVenda});$utils.verificarErro(!(r!=null&&r.id),"Erro ao obter dados");const a=await $db.contato.leCompleto(r.idContato),c=(((t=a==null?void 0:a.telefone)==null?void 0:t.find(h=>h.tipoTelefone==="WhatsApp"))||((y=a==null?void 0:a.telefone)==null?void 0:y.find(h=>h.tipoTelefone==="Principal"))||(a==null?void 0:a.telefone[0])||{}).telefone.trim()||"";$q.dialog({title:"Enviar impresso pelo Whatsapp?",preventClose:!0,prompt:{label:"Enviar para este n\xFAmero:",model:c||"",hint:"Ou adicione um novo n\xFAmero, ex: 19988776655",isValid:h=>h.length>0,type:"text"},cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async h=>{var j;r.telefoneContato=h.replace(/\D/g,"");const F=await $db.venda.enviaImpressaoPdfwhatsapp({documento:r,nomeImpresso:i.nome.replace("venda.whatsapp.enviar.",""),mensagem:(j=i.texto)!=null?j:`Voc\xEA est\xE1 recebendo o ${i.valor} da empresa ${r.descricaoEmpresa} (${r.numeroDocumentoEmpresa}).`})})}catch{$q.notifyError("Erro ao enviar.",erro)}},copiarUid(){const i=this.$refs.uid;i.type="text";try{i.select(),document.execCommand("copy"),this.$q.notify({message:"UID copiado para a \xE1rea de transfer\xEAncia.",type:"info"})}catch{this.$q.notify("Erro ao copiar.")}i.type="hidden",window.getSelection().removeAllRanges()},async devolucaoGarantia(i){let t=await $db.hibrido.lista({table:"documento",where:{idContato:$db.contato.selecionado.id,tipo:"Venda",status:"Or\xE7amento"}});if(t=$lodash.orderBy(t,"dataHoraEmissao","desc"),!t.length){this.$q.notify({message:"Crie um or\xE7amento para inclus\xE3o de devolu\xE7\xE3o/garantia.",type:"info"});return}this.modalDevolucaoGarantia={visivel:!0,item:i,orcamento:t[0]}},editar(){this.$refs.vendaModal.mostrar({id:this.dados.venda.id})},executar(i){switch(i){case"atualizar":this.atualizar();break;case"cancelar":case"finalizar":case"reprovar":this.$emit("executar","atualizar");break;case"retornarOrcamento":this.$emit("executar",i);break}},async finalizaDevolucaoGarantia(i,t,y){const r=$utils.clonar(i);t==="devolucao"&&(r.operacao="Devolu\xE7\xE3o de Venda"),t==="garantia"&&(r.operacao="Garantia de Venda",r.motivo=y),r.idDocumentoItemVenda=r.id,r.idDocumentoVenda=r.idDocumento,r.id=$utils.uuid(),r.idDocumento=this.modalDevolucaoGarantia.orcamento.id,r.status="Or\xE7amento",r.operacaoFator=1,r.codigoCfop=20,r.idCfop=(await $db.cfop.le({codigoCfop:20}))[0].id,r.dataHoraEmissao=$utils.dataAtual(),r.dataHoraFinalizado="",r.subTotal=r.subTotal*-1,r.total=r.total*-1,r.valorItem=r.valorItem*-1,r.descontoSubTotal=0,delete r.codigoCfop,delete r.codigoDocumento,delete r.codigoDocumentoItem,delete r.codigoItem,delete r.codigoPlanoContaDestino,delete r.codigoPlanoContaEstoque,await $db.documentoItem.grava({atual:r}),this.$q.notify({message:"Item adicionado ao or\xE7amento.",type:"positive"}),localStorage.setItem("idVenda",this.modalDevolucaoGarantia.orcamento.id),this.$emit("executar","atualizar")},async remover(){this.$q.dialog({message:"Esta a\xE7\xE3o ir\xE1 remover esta venda da fatura",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{await $db.venda.checarConflitoStatus({id:this.dados.venda.id,status:this.dados.venda.status})}catch(i){return $q.notifyError(i.message),!1}await $db.documento.grava({atual:{id:this.dados.venda.id,idFatura:""},original:{id:this.dados.venda.id}}),this.$emit("executar","remover")})},onResize(){this.width=window.innerWidth},async exibirEmitirNFSe(i){try{const t=(await $db.hibrido.lista({table:"documentoItem",where:{idDocumento:i}})).some(y=>y.tipoItem==="Servi\xE7o");return console.log(t),t}catch(t){console.log(t.message)}},async emitirNFSe(i){var y,r,a,c,h,F,j,B,L;const t=await this.verificaNFSeJaEmitida(i.idVenda);if(!t){const w=await $db.hibrido.le({table:"documento",id:i.idVenda}),S=(await $erp().empresa.toArray()).find(W=>W.numeroDocumentoNacional.replace(/\D/g,"")===w.numeroDocumentoEmpresa.replace(/\D/g,""));let x,ie,J,se;S!=null&&S.idContato&&(se=await $db.contato.le({id:S.idContato}),x=(await $db.empresa.le({idContato:S.idContato}))[0],ie=await $db.contatoEndereco.leEnderecoPrincipal(S.idContato),x!=null&&x.nfseCodigoServico&&(J=JSON.parse(x==null?void 0:x.nfseItensListaDeServico).find(W=>W.codigo==="01.07")));const pe=(await $db.contato.le()).find(W=>W.numeroDocumentoNacional===w.numeroDocumentoContato),Z=await $db.contatoEndereco.leEnderecoPrincipal(pe.id),re=$utils.uuid(),ae=await this.obterNFSeRPSMaisRecente(),$={numero:null,numeroLote:"",inscricaoMunicipal:(y=se.numeroDocumentoMunicipal)!=null?y:"",quantidadeRps:1,identificacaoRps:{},dataEmissao:new Date,dataHoraCriacao:new Date,optanteSimplesNacional:(x==null?void 0:x.nfseOptanteSimples)||"",incentivadorCultural:(x==null?void 0:x.nfseIncentivadorCultural)||"",naturezaOperacao:(x==null?void 0:x.nfseNaturezaOperacao)||"",regimeEspecialTributacao:(x==null?void 0:x.nfseRegimeTributario)||"",status:1,servico:{itemListaServico:J==null?void 0:J.codigo,codigoCnae:J==null?void 0:J.codigoCNAE,codigoTributacaoMunicipio:J==null?void 0:J.codigoTributacao,discriminacao:J==null?void 0:J.descricao,municipioPrestacaoServico:(r=ie==null?void 0:ie.ibgeCod)!=null?r:"",valores:{valorServicos:w.totalDocumento,valorPis:0,valorInss:0,valorCsll:0,issRetido:"2",valorIss:0,baseCalculo:w.totalDocumento,aliquota:(a=x==null?void 0:x.nfseAliquotaIss)!=null?a:0,valorLiquidoNfse:w.totalDocumento,descontoIncondicionado:0,descontoCondicionado:0}},prestador:{documento:w.numeroDocumentoEmpresa.replace(/\D/g,""),razaoSocial:w.descricaoEmpresa,inscricaoMunicipal:(c=se.numeroDocumentoMunicipal)!=null?c:""},tomador:{documento:w.numeroDocumentoContato.replace(/\D/g,""),razaoSocial:w.descricaoContato,endereco:{rua:Z.logradouro,numero:Z.numero,bairro:Z.bairro,cidade:Z.ibgeCod,estado:Z.uf,cep:Z.cep}},id:re};if(ae){const W=(F=JSON.parse((h=ae==null?void 0:ae.json)!=null?h:null))==null?void 0:F.rps,ue=(Number((j=W==null?void 0:W.identificacaoRps)==null?void 0:j.numero)||0)+1;$.identificacaoRps.numero=ue.toString(),$.identificacaoRps.serie=(B=W==null?void 0:W.identificacaoRps)==null?void 0:B.serie,$.numeroLote=$.numeroLote||ue.toString()}const ne={id:re,tipo:"NFSe",situacao:"Rascunho",tpAmb:2,dataHoraCriacao:new Date,dataHoraEmissao:new Date,dahEmi:new Date,cpfCnpjEmitente:w.numeroDocumentoEmpresa.replace(/\D/g,""),xNomeEmitente:w.descricaoEmpresa,cpfCnpjDestinatario:w.numeroDocumentoContato.replace(/\D/g,""),xNomeDestinatario:w.descricaoContato,json:JSON.stringify({rps:$}),idDocumento:w.id,vNF:w.totalDocumento};console.log(ne),await $db.documentoFiscalEletronico.grava({atual:ne,original:{}}),this.$router.push({name:"NFSe",params:{id:(L=ne.id)!=null?L:null}})}t&&$q.dialog({title:"NFS-e j\xE1 emitida",message:"Uma NFse j\xE1 foi emitida para esta venda ou para uma fatura relacionada.",cancel:!0,persistent:!0}).onOk(()=>{console.log("NFSe j\xE1 emitida")})},async obterNFSeRPSMaisRecente(){var t;let i;return i=await $db.hibrido.lista({table:"documentoFiscalEletronico",where:{tipo:"NFSe"}}),i.sort((y,r)=>{var h,F,j,B,L,w,S,x;const a=(B=(j=(F=JSON.parse((h=y.json)!=null?h:null))==null?void 0:F.rps)==null?void 0:j.identificacaoRps)==null?void 0:B.numero,c=(x=(S=(w=JSON.parse((L=r.json)!=null?L:null))==null?void 0:w.rps)==null?void 0:S.identificacaoRps)==null?void 0:x.numero;return a>c?-1:1}),(t=i[0])!=null?t:null},async verificaNFSeJaEmitida(i){var a,c,h;let t=(await $db.hibrido.lista({table:"documento"})).filter(F=>{if(F.id===i||F.idFatura===i)return F}),y=(await $db.hibrido.lista({table:"documentoFiscalEletronico",where:{tipo:"NFSe"}})).filter(F=>F==null?void 0:F.idDocumento),r=!1;for(let F in y){const j=(a=y[F])==null?void 0:a.idDocumento;if(j)for(let B in t)j===((c=t[B])==null?void 0:c.id)&&(r=!0),j===((h=t[B])==null?void 0:h.idFatura)&&(r=!0)}return r}},mixins:[Ce,Se],watch:{async dados(i){var y;this.visibilidade.botao.editar=!1,this.visibilidade.botao.visualizar=!1,this.visibilidade.botao.remover=!1;let t=(y=this.vendasCompletas)==null?void 0:y.contatosEmpresa;if(!t){const a=(await $db.hibrido.lista({table:"empresa",columns:["idContato"],whereFilter:{ativo:!0}})).map(({idContato:c})=>c);t=await $db.hibrido.lista({table:"contato",columns:["id"],whereIn:{id:a},whereFilter:{ativo:!0}})}!t.find(r=>r.id===i.venda.idEmpresa)||(i.venda.idFatura&&this.faturasAbertas.find(r=>r.id===i.venda.idFatura)&&(this.visibilidade.botao.remover=await $db.permissao.objeto("Diretiva_Vendas_RemoverVendaFatura")),!~["Cancelado","N\xE3o Aprovado"].indexOf(i.venda.status)&&!i.venda.idFatura&&(this.visibilidade.botao.editar=!0),this.visibilidade.botao.editar||(this.visibilidade.botao.visualizar=!0))}},async mounted(){var i,t,y,r,a,c,h,F;this.sistemaPai=$utils.sistemaPai(),this.dadosVenda&&this.vendasCompletas?await this.atualizarComDados():await this.atualizar(),this.quantidadeProdutos=(((t=(i=this.dados)==null?void 0:i.carrinho)==null?void 0:t.length)||0)+(((r=(y=this.dados)==null?void 0:y.customs)==null?void 0:r.length)||0)+(((c=(a=this.dados)==null?void 0:a.oss)==null?void 0:c.length)||0)+(((F=(h=this.dados)==null?void 0:h.kits)==null?void 0:F.length)||0)||0,this.$emit("carregou")}},Ne={id:"VendaCard"},Ie={class:"col-12 col-md-6 q-pl-none"},ze={class:"q-item-section"},He={class:"col-6 col-md hideonmobile"},Oe={class:"text-left q-my-none"},Ae={class:"col-4 col-md hideonmobile"},Me={class:"text-left q-my-none"},Re={class:"col-4 col-md hideonmobile"},Pe={class:"text-left q-my-none"},Te={class:"col-6 col-md hideonmobile"},Le={class:"text-right text-h5 text-positive text-weight-bold q-my-none"},je={class:"text-right text-weight-normal text-tertiary text-body2 q-my-none"},Qe={class:"col-12 hideondesktop"},Je={class:"text-left q-my-none"},We={class:"col-12 col-md-6"},Be={class:"col-12 col-md-6 full-height items-end hideonmobile"},Ge={class:"col-6"},Ue={class:"text-left q-my-none"},Ke={class:"text-left q-my-none"},Xe={class:"col-6"},Ye={class:"text-right text-weight-normal text-tertiary text-body2 q-my-none"},Ze={class:"text-right text-h5 text-positive text-weight-bold q-my-none"},$e={class:"col-12 full-height items-end"},ea={class:"col-12 col-md-6"},aa={class:"text-subtitle1 text-weight-bold q-ma-none items-center"},oa={class:"q-ma-none"},ta={key:0},ia={class:"col-6 col-md-4"},na={class:"q-ma-none"},da={class:"col-6 col-md-2 text-right"},la={class:"q-ma-none"},sa={class:"mw80 text-center"},ra={style:{"margin-left":"14px"}},ua={style:{"margin-left":"14px"}},ma={class:"float-right text-weight-medium text-right q-ml-sm",style:{"min-width":"70px"}};function ca(i,t,y,r,a,c){var pe,Z,re,ae,$,ne,W,ue;const h=Y("avatar"),F=Y("row"),j=Y("documentos-fiscais"),B=Y("BadgeCopiarUid"),L=Y("badge"),w=Y("g-label"),S=Y("g-col"),x=Y("g-row"),ie=Y("DocumentosFiscais"),J=Y("VendaModal"),se=Y("ModalHistoricoStatus");return n(),E("div",Ne,[y.layout==="card"?(n(),E(I,{key:0},[a.dados.venda.id?(n(),u(qe,{key:0,class:"extratoItem bg-white q-pa-sm no-shadow"},{default:e(()=>[o(F,{class:"items-center justify-between q-mx-none q-px-none q-mb-sm"},{default:e(()=>{var b;return[p("div",Ie,[o(we,{class:"q-pa-none"},{default:e(()=>{var l;return[o(h,{imagem:(l=a.contatos[a.dados.venda.idContato])==null?void 0:l.imagem,rotulo:a.dados.venda.descricaoContato,tamanho:"40",style:{float:"left"}},null,8,["imagem","rotulo"]),o(xe,null,{default:e(()=>[p("div",ze,[o(k,null,{default:e(()=>{var f;return[d(m((f=a.contatos[a.dados.venda.idContato])==null?void 0:f.apelido),1)]}),_:1}),o(k,{caption:""},{default:e(()=>{var f;return[d(m((f=a.contatos[a.dados.venda.idContato])==null?void 0:f.nome),1)]}),_:1})])]),_:1}),o(de,{rounded:"",color:"tertiary",small:""},{default:e(()=>[d(m(a.dados.venda.status),1)]),_:1}),o(de,{class:"q-ml-sm",color:"positive",escuro:"",onClick:c.copiarUid},{default:e(()=>[d(" #"+m(parseInt(a.dados.venda.numero)||(a.dados.venda.id||"").slice(-6))+" ",1),o(g,{class:"q-ml-sm",name:"shopping_cart"}),z(p("input",{type:"hidden","onUpdate:modelValue":t[0]||(t[0]=f=>a.dados.venda.id=f),ref:"uid"},null,512),[[ke,a.dados.venda.id]])]),_:1},8,["onClick"])]}),_:1})]),p("div",He,[p("p",Oe,[a.contatos[a.dados.venda.idContatoVendedor]?(n(),u(g,{key:0,name:"mdi-account-tie"})):v("",!0),d(" "+m((b=a.contatos[a.dados.venda.idContatoVendedor])==null?void 0:b.apelido)+" ",1),o(K,null,{default:e(()=>t[28]||(t[28]=[d(" Vendedor(a) ")])),_:1})])]),p("div",Ae,[p("p",Me,[a.dados.venda.dataHoraEmissao?(n(),u(g,{key:0,name:"mdi-calendar-today "})):v("",!0),d(" "+m(i.$filters.data(a.dados.venda.dataHoraEmissao))+" ",1),o(K,null,{default:e(()=>t[29]||(t[29]=[d(" Emiss\xE3o ")])),_:1})])]),p("div",Re,[p("p",Pe,[a.dados.venda.dataHoraFinalizado?(n(),u(g,{key:0,name:"mdi-calendar-check"})):v("",!0),d(" "+m(i.$filters.data(a.dados.venda.dataHoraFinalizado))+" ",1),a.dados.venda.dataHoraFinalizado?(n(),u(K,{key:1},{default:e(()=>t[30]||(t[30]=[d(" Finalizado ")])),_:1})):v("",!0)])]),p("div",Te,[p("p",Le,m(i.$filters.numero(a.dados.venda.totalDocumento,2)),1),p("p",je,m(i.$filters.numero(a.dados.venda.subTotal,2)),1)])]}),_:1}),o(oe,{class:"hideondesktop q-mb-sm"}),o(F,{class:"q-mx-none q-px-none items-center"},{default:e(()=>{var b;return[p("div",Qe,[p("p",Je,[a.contatos[a.dados.venda.idContatoVendedor]?(n(),u(g,{key:0,name:"mdi-account-tie"})):v("",!0),d(" "+m((b=a.contatos[a.dados.venda.idContatoVendedor])==null?void 0:b.apelido)+" ",1),o(K,null,{default:e(()=>t[31]||(t[31]=[d(" Vendedor(a) ")])),_:1})])]),p("div",We,[o(te,{class:"no-border text-tertiary"},{default:e(()=>[(n(!0),E(I,null,T(a.dados.carrinho,l=>(n(),u(_,{key:l.id,class:"q-pa-none q-mb-xs",style:{"min-height":"auto"}},{default:e(()=>[o(s,{avatar:"",class:"mw80"},{default:e(()=>[o(k,null,{default:e(()=>[d(m(l.quantidade)+"x",1)]),_:2},1024)]),_:2},1024),o(s,null,{default:e(()=>[o(k,null,{default:e(()=>[d(m(l.descricaoItem),1)]),_:2},1024)]),_:2},1024),o(s,{side:"",top:""},{default:e(()=>[o(k,null,{default:e(()=>[d(m(i.$filters.numero(l.total,2)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),(n(!0),E(I,null,T(a.dados.customs,l=>(n(),u(_,{key:l.documento.id,class:"q-pa-none q-mb-xs",style:{"min-height":"auto"}},{default:e(()=>[o(s,{avatar:"",class:"mw80"},{default:e(()=>[o(k,null,{default:e(()=>[d(m(l.documento.numero)+"x ",1)]),_:2},1024)]),_:2},1024),o(s,null,{default:e(()=>[o(k,null,{default:e(()=>[d(m(l.documento.descricao),1)]),_:2},1024)]),_:2},1024),o(s,{side:"",top:""},{default:e(()=>[o(k,null,{default:e(()=>[d(m(i.$filters.numero(l.documento.totalDocumento,2)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),(n(!0),E(I,null,T(a.dados.oss,l=>(n(),u(_,{key:l.documento.id,class:"q-pa-none q-mb-xs",style:{"min-height":"auto"}},{default:e(()=>[o(s,{avatar:"",class:"mw80"},{default:e(()=>[o(k,null,{default:e(()=>[t[32]||(t[32]=d(" OS ")),o(de,{color:"tertiary",small:""},{default:e(()=>[d("#"+m(l.documento.numero),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),o(s,null,{default:e(()=>[o(k,null,{default:e(()=>[d(m(l.documento.descricao),1)]),_:2},1024)]),_:2},1024),o(s,{avatar:"",class:"mw50"},{default:e(()=>[l.documento.status!=="Or\xE7amento"?(n(),u(de,{key:0,rounded:"",color:"tertiary",small:""},{default:e(()=>[d(m(l.documento.status),1)]),_:2},1024)):v("",!0)]),_:2},1024),o(s,{right:"",top:""},{default:e(()=>[o(k,null,{default:e(()=>[d(m(i.$filters.numero(l.documento.totalDocumento,2)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),(n(!0),E(I,null,T(a.dados.kits,l=>(n(),u(_,{key:l.documento.id,class:"q-pa-none q-mb-xs",style:{"min-height":"auto"}},{default:e(()=>[o(s,{avatar:"",class:"mw80"},{default:e(()=>[o(k,null,{default:e(()=>[d(m(i.$filters.numero(a.documentoItemKit[l.documento.id].quantidade,4))+"x",1)]),_:2},1024)]),_:2},1024),o(s,null,{default:e(()=>[o(k,null,{default:e(()=>[d(m(a.documentoItemKit[l.documento.id].descricaoItem),1)]),_:2},1024)]),_:2},1024),o(s,{side:"",top:""},{default:e(()=>[o(k,null,{default:e(()=>[d(m(i.$filters.numero(a.documentoItemKit[l.documento.id].total,2)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),p("div",Be,[o(oe,{class:"hideondesktop q-mb-sm q-mt-xs"}),o(Q,{rounded:"",dense:"",flat:"",icon:"more_vert",color:"tertiary",class:"no-shadow q-mx-xs",size:"md",style:{float:"right"}},{default:e(()=>[o(le,null,{default:e(()=>[z((n(),u(te,{link:"",separator:""},{default:e(()=>{var l;return[i.$utils.mapearStatus(a.dados.venda).permiteNota?(n(),E(I,{key:0},[z((n(),u(_,{clickable:"",onClick:t[1]||(t[1]=f=>i.emitirNFeV2({idVenda:a.dados.venda.id},1,"Venda"))},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"account_balance"})]),_:1}),o(s,null,{default:e(()=>t[33]||(t[33]=[d("NFe de Sa\xEDda/Venda")])),_:1})]),_:1})),[[M]]),z((n(),u(_,{clickable:"",onClick:t[2]||(t[2]=f=>i.emitirNFeV2({idVenda:a.dados.venda.id},0,"Devolu\xE7\xE3o"))},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"account_balance"})]),_:1}),o(s,null,{default:e(()=>t[34]||(t[34]=[d("NFe de Entrada/Devolu\xE7\xE3o")])),_:1})]),_:1})),[[M]]),z((n(),u(_,{clickable:"",onClick:t[3]||(t[3]=f=>i.emitirNFeV2({idVenda:a.dados.venda.id},1,"Remessa"))},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"account_balance"})]),_:1}),o(s,null,{default:e(()=>t[35]||(t[35]=[d("NFe de Remessa")])),_:1})]),_:1})),[[M]]),(l=a.dados.venda)!=null&&l.permiteNFSe?z((n(),u(_,{key:0,clickable:"",onClick:t[4]||(t[4]=f=>c.emitirNFSe({idVenda:a.dados.venda.id}))},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"account_balance"})]),_:1}),o(s,null,{default:e(()=>t[36]||(t[36]=[d("Emitir NFSe")])),_:1})]),_:1})),[[M]]):v("",!0)],64)):v("",!0),c.podeMigrarFatura?(n(),E(I,{key:1},[(n(!0),E(I,null,T(a.faturasAbertas.filter(f=>f.id!==a.dados.venda.idFatura),f=>z((n(),u(_,{clickable:"",key:f.id,onClick:q=>c.migrarFatura(f)},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"mdi-folder-move"})]),_:1}),o(s,null,{default:e(()=>[d(m("Migrar para fatura #"+(f.numero||f.id.slice(-6))),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128)),z((n(),u(_,{clickable:"",onClick:t[5]||(t[5]=f=>c.migrarFatura())},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"mdi-folder-move"})]),_:1}),o(s,null,{default:e(()=>t[37]||(t[37]=[d("Migrar para nova fatura")])),_:1})]),_:1})),[[M]])],64)):v("",!0),o(_,{clickable:"",onClick:t[6]||(t[6]=f=>i.$refs.modalHistoricoStatus.mostrar({idDocumento:a.dados.venda.id}))},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"history"})]),_:1}),o(s,null,{default:e(()=>t[38]||(t[38]=[d("Hist\xF3rico do Status")])),_:1})]),_:1}),o(_,{clickable:"",onClick:c.duplicarVenda},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"mdi-content-duplicate"})]),_:1}),o(s,null,{default:e(()=>t[39]||(t[39]=[d("Duplicar Pedido")])),_:1})]),_:1},8,["onClick"]),(n(!0),E(I,null,T(a.configImpressosWhatsapp.filter(f=>f.valor),f=>(n(),u(_,{clickable:"",key:f.valor,onClick:q=>c.dialogEnviar(f)},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"mdi-whatsapp"})]),_:1}),o(s,null,{default:e(()=>[d(m(f.valor),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),y.resetarEnvio&&a.dados.venda.rotaJson&&a.dados.venda.rotaJson.length>0?(n(),u(_,{key:2,clickable:"",onClick:t[7]||(t[7]=f=>y.resetarEnvio(a.dados.venda))},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"restart_alt"})]),_:1}),o(s,null,{default:e(()=>t[40]||(t[40]=[d("Resetar Envio")])),_:1})]),_:1})):v("",!0)]}),_:1})),[[M]])]),_:1})]),_:1}),a.visibilidade.botao.remover?(n(),u(Q,{key:0,rounded:"",dense:"",flat:"",icon:"clear",color:"tertiary",class:"no-shadow q-mx-xs",size:"md",onClick:c.remover,style:{float:"right"}},null,8,["onClick"])):v("",!0),a.visibilidade.botao.editar?(n(),u(Q,{key:1,rounded:"",dense:"",flat:"",icon:"edit",color:"primary",class:"no-shadow q-mx-xs",size:"md",onClick:c.editar,style:{float:"right"}},null,8,["onClick"])):v("",!0),a.visibilidade.botao.visualizar?(n(),u(Q,{key:2,rounded:"",dense:"",flat:"",icon:"remove_red_eye",color:"primary",class:"no-shadow q-mx-xs",size:"md",onClick:c.editar,style:{float:"right"}},null,8,["onClick"])):v("",!0),o(Q,{rounded:"",dense:"",flat:"",icon:"print",color:"primary",class:"no-shadow q-mx-xs",size:"md",style:{float:"right"}},{default:e(()=>[o(le,null,{default:e(()=>[o(te,{link:"",separator:""},{default:e(()=>[(n(!0),E(I,null,T(a.configImpressaoOrcamento.filter(l=>l.valor),l=>(n(),u(_,{clickable:"",key:l.valor,onClick:f=>i.$imprimir(l.valor,{id:(a.dados.venda||{}).id||"0",Oculto:"0"})},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"print"})]),_:1}),o(s,null,{default:e(()=>[o(k,null,{default:e(()=>[d(m(l.texto),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}),o(Q,{rounded:"",dense:"",flat:"",icon:a.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down",size:"md",class:"no-shadow q-mx-xs",color:"tertiary",style:{float:"right"},onClick:c.alternarDetalhes},null,8,["icon","onClick"])])]}),_:1}),o(oe,{class:"hideondesktop q-mb-sm q-mt-xs"}),o(F,{class:"q-mx-none q-px-none hideondesktop"},{default:e(()=>[p("div",Ge,[p("p",Ue,[a.dados.venda.dataHoraEmissao?(n(),u(g,{key:0,name:"mdi-calendar-today"})):v("",!0),d(" "+m(i.$filters.data(a.dados.venda.dataHoraEmissao))+" ",1),o(K,null,{default:e(()=>t[41]||(t[41]=[d(" Emiss\xE3o ")])),_:1})]),p("p",Ke,[a.dados.venda.dataHoraFinalizado?(n(),u(g,{key:0,name:"mdi-calendar-check"})):v("",!0),d(" "+m(i.$filters.data(a.dados.venda.dataHoraFinalizado))+" ",1),a.dados.venda.dataHoraFinalizado?(n(),u(K,{key:1},{default:e(()=>t[42]||(t[42]=[d(" Finalizado ")])),_:1})):v("",!0)])]),p("div",Xe,[p("p",Ye,m(i.$filters.numero(a.dados.venda.subTotal,2)),1),p("p",Ze,m(i.$filters.numero(a.dados.venda.totalDocumento,2)),1)]),p("div",$e,[o(oe,{class:"hideondesktop q-mb-sm q-mt-xs"}),o(Q,{rounded:"",dense:"",flat:"",icon:"more_vert",color:"tertiary",class:"no-shadow q-mx-xs",size:"md",style:{float:"right"}},{default:e(()=>[o(le,null,{default:e(()=>[z((n(),u(te,{link:"",separator:""},{default:e(()=>{var b;return[i.$utils.mapearStatus(a.dados.venda).permiteNota?(n(),E(I,{key:0},[z((n(),u(_,{clickable:"",onClick:t[8]||(t[8]=l=>i.emitirNFeV2({idVenda:a.dados.venda.id},1,"Venda"))},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"account_balance"})]),_:1}),o(s,null,{default:e(()=>t[43]||(t[43]=[d("NFe de Sa\xEDda/Venda")])),_:1})]),_:1})),[[M]]),z((n(),u(_,{clickable:"",onClick:t[9]||(t[9]=l=>i.emitirNFeV2({idVenda:a.dados.venda.id},0,"Devolu\xE7\xE3o"))},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"account_balance"})]),_:1}),o(s,null,{default:e(()=>t[44]||(t[44]=[d("NFe de Entrada/Devolu\xE7\xE3o")])),_:1})]),_:1})),[[M]]),z((n(),u(_,{clickable:"",onClick:t[10]||(t[10]=l=>i.emitirNFeV2({idVenda:a.dados.venda.id},1,"Remessa"))},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"account_balance"})]),_:1}),o(s,null,{default:e(()=>t[45]||(t[45]=[d("NFe de Remessa")])),_:1})]),_:1})),[[M]]),(b=a.dados.venda)!=null&&b.permiteNFSe?z((n(),u(_,{key:0,clickable:"",onClick:t[11]||(t[11]=l=>c.emitirNFSe({idVenda:a.dados.venda.id}))},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"account_balance"})]),_:1}),o(s,null,{default:e(()=>t[46]||(t[46]=[d("Emitir NFSe")])),_:1})]),_:1})),[[M]]):v("",!0)],64)):v("",!0),c.podeMigrarFatura?(n(),E(I,{key:1},[(n(!0),E(I,null,T(a.faturasAbertas.filter(l=>l.id!==a.dados.venda.idFatura),l=>z((n(),u(_,{key:l.id,onClick:f=>c.migrarFatura(l)},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"mdi-folder-move"})]),_:1}),o(s,null,{default:e(()=>[d(m("Migrar para fatura #"+(l.numero||l.id.slice(-6))),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128)),z((n(),u(_,{onClick:t[12]||(t[12]=l=>c.migrarFatura())},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"mdi-folder-move"})]),_:1}),o(s,null,{default:e(()=>t[47]||(t[47]=[d("Migrar para nova fatura")])),_:1})]),_:1})),[[M]])],64)):v("",!0),o(_,{clickable:"",onClick:t[13]||(t[13]=l=>i.$refs.modalHistoricoStatus.mostrar({idDocumento:a.dados.venda.id}))},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"history"})]),_:1}),o(s,null,{default:e(()=>t[48]||(t[48]=[d("Hist\xF3rico do Status")])),_:1})]),_:1}),(n(!0),E(I,null,T(a.configImpressosWhatsapp.filter(l=>l.valor),l=>(n(),u(_,{clickable:"",key:l.valor,onClick:f=>c.dialogEnviar(l)},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"mdi-whatsapp"})]),_:1}),o(s,null,{default:e(()=>[d(m(l.valor),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]}),_:1})),[[M]])]),_:1})]),_:1}),a.visibilidade.botao.remover?(n(),u(Q,{key:0,rounded:"",dense:"",flat:"",icon:"clear",color:"tertiary",class:"no-shadow q-mx-xs",size:"md",onClick:c.remover,style:{float:"right"}},null,8,["onClick"])):v("",!0),a.visibilidade.botao.editar?(n(),u(Q,{key:1,rounded:"",dense:"",flat:"",icon:"edit",color:"primary",class:"no-shadow q-mx-xs",size:"md",onClick:c.editar,style:{float:"right"}},null,8,["onClick"])):v("",!0),o(Q,{rounded:"",dense:"",flat:"",icon:"print",color:"primary",class:"no-shadow q-mx-xs",size:"md",style:{float:"right"}},{default:e(()=>[o(le,null,{default:e(()=>[o(te,{link:"",separator:""},{default:e(()=>[(n(!0),E(I,null,T(a.configImpressaoOrcamento.filter(b=>b.valor),b=>(n(),u(_,{clickable:"",key:b.valor,onClick:l=>i.$imprimir(b.valor,{id:(a.dados.venda||{}).id||"0",Oculto:"0"})},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"print"})]),_:1}),o(s,null,{default:e(()=>[o(k,null,{default:e(()=>[d(m(b.texto),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}),o(Q,{rounded:"",dense:"",flat:"",icon:a.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down",size:"md",class:"no-shadow q-mx-xs",color:"tertiary",style:{float:"right"},onClick:c.alternarDetalhes},null,8,["icon","onClick"])])]),_:1}),a.detalhesVisivel?(n(),u(oe,{key:0,class:"hideondesktop q-my-sm"})):v("",!0),a.detalhesVisivel?(n(),u(F,{key:1,class:"items-start q-mx-none q-px-none q-mt-md"},{default:e(()=>[p("div",ea,[p("p",aa,[o(g,{name:"business"}),d(" "+m(a.dados.venda.descricaoEmpresa),1)]),p("div",oa,[a.fatura.id?(n(),E("div",ta,[t[49]||(t[49]=d(" Fatura ")),o(de,{color:"positive",escuro:"",onClick:c.copiarUid},{default:e(()=>[d(" #"+m(parseInt(a.fatura.numero)||(a.fatura.id||"").slice(-6))+" ",1),o(g,{class:"q-ml-sm",name:"mdi-glasses"}),z(p("input",{type:"hidden","onUpdate:modelValue":t[14]||(t[14]=b=>a.fatura.id=b),ref:"uid"},null,512),[[ke,a.fatura.id]])]),_:1},8,["onClick"]),o(de,{class:"q-ml-sm",rounded:"",color:"tertiary",small:""},{default:e(()=>[d(m(a.fatura.status),1)]),_:1})])):v("",!0),p("div",null,m(a.dados.venda.observacao),1),p("div",null,m(a.dados.venda.observacaoInterna),1),p("div",null,m(a.dados.venda.motivoCancelamento),1),p("div",null,m(a.dados.venda.observacaoCancelamento),1)]),o(j,{idVenda:a.dados.venda.id},null,8,["idVenda"])]),p("div",ia,[t[50]||(t[50]=p("p",{class:"text-subtitle1 text-weight-bold q-ma-none"}," Faturamento ",-1)),p("div",na,m(a.dados.venda.observacaoFaturamento),1)]),p("div",da,[t[51]||(t[51]=p("p",{class:"text-subtitle1 text-weight-bold q-ma-none"}," Desconto ",-1)),p("p",la,m(i.$filters.numero(a.dados.venda.totalDesconto,2)),1)])]),_:1})):v("",!0)]),_:1})):v("",!0)],64)):v("",!0),y.layout==="lista"?(n(),E(I,{key:1},[o(Fe,{onResize:c.onResize},null,8,["onResize"]),(Z=(pe=a.dados)==null?void 0:pe.venda)!=null&&Z.id?(n(),u(_,{key:0,clickable:"","manual-focus":"",class:"q-py-sm q-px-xs items-center"},{default:e(()=>[o(s,{class:"hideonmobile col-auto q-pr-sm no-margin"},{default:e(()=>{var b,l,f,q;return[p("div",sa,[o(B,{id:(l=(b=a.dados)==null?void 0:b.venda)==null?void 0:l.id,numero:(q=(f=a.dados)==null?void 0:f.venda)==null?void 0:q.numero,cor:"positive",escuro:""},null,8,["id","numero"])])]}),_:1}),o(s,{onClick:t[15]||(t[15]=b=>c.editar()),class:"col-md col-lg col-xl no-margin"},{default:e(()=>[o(_,{class:"q-pa-none"},{default:e(()=>[o(s,{class:"col-auto items-center"},{default:e(()=>{var b,l,f,q,V;return[o(h,{imagem:(f=a.contatos[(l=(b=a.dados)==null?void 0:b.venda)==null?void 0:l.idContato]||{})==null?void 0:f.imagem,tamanho:"40",rotulo:(V=(q=a.dados)==null?void 0:q.venda)==null?void 0:V.descricaoContato,style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"])]}),_:1}),o(s,{class:"col"},{default:e(()=>{var b,l,f,q,V,R,G,U,ee,me;return[o(k,{lines:"2",class:"text-weight-bold"},{default:e(()=>{var H,O,P;return[p("span",null,[d(m((P=a.contatos[(O=(H=a.dados)==null?void 0:H.venda)==null?void 0:O.idContato])==null?void 0:P.apelido)+" ",1),o(K,{anchor:"bottom middle",self:"center middle"},{default:e(()=>t[52]||(t[52]=[d("Nome Fantasia")])),_:1})])]}),_:1}),((f=a.contatos[(l=(b=a.dados)==null?void 0:b.venda)==null?void 0:l.idContato])==null?void 0:f.nome)!==((R=a.contatos[(V=(q=a.dados)==null?void 0:q.venda)==null?void 0:V.idContato])==null?void 0:R.apelido)?(n(),u(k,{key:0,caption:"",lines:"2"},{default:e(()=>{var H,O,P;return[p("span",null,[d(m((P=a.contatos[(O=(H=a.dados)==null?void 0:H.venda)==null?void 0:O.idContato])==null?void 0:P.nome)+" ",1),o(K,{anchor:"bottom middle",self:"center middle"},{default:e(()=>t[53]||(t[53]=[d("Raz\xE3o Social")])),_:1})])]}),_:1})):v("",!0),o(k,{caption:"",class:"hideondesktop"},{default:e(()=>{var H,O,P,C,A,D,N,X,ce,fe,ve,be,ge;return[o(B,{id:(O=(H=a.dados)==null?void 0:H.venda)==null?void 0:O.id,numero:(C=(P=a.dados)==null?void 0:P.venda)==null?void 0:C.numero,cor:"positive",escuro:"",class:"q-mr-sm"},null,8,["id","numero"]),(D=(A=a.dados)==null?void 0:A.venda)!=null&&D.status?(n(),u(L,{key:0,escuro:"",dica:"Status",class:"col-auto q-mx-auto",rotulo:(ce=((X=(N=a.dados)==null?void 0:N.venda)==null?void 0:X.status)||"")==null?void 0:ce.replace("Aguardando ","Ag. "),cor:(ve=(fe=a.dados)==null?void 0:fe.venda)!=null&&ve.status?a.status[(ge=(be=a.dados)==null?void 0:be.venda)==null?void 0:ge.status]:"tertiary"},null,8,["rotulo","cor"])):v("",!0)]}),_:1}),(U=(G=a.dados)==null?void 0:G.venda)!=null&&U.descricaoEmpresa?(n(),u(k,{key:1,caption:"",lines:"2"},{default:e(()=>{var H,O;return[p("span",null,[o(g,{name:"business"}),d(" "+m((O=(H=a.dados)==null?void 0:H.venda)==null?void 0:O.descricaoEmpresa)+" ",1),o(K,{anchor:"bottom middle",self:"center middle"},{default:e(()=>t[54]||(t[54]=[d(" Empresa ")])),_:1})])]}),_:1})):v("",!0),a.contatos[(me=(ee=a.dados)==null?void 0:ee.venda)==null?void 0:me.idContatoVendedor]?(n(),u(k,{key:2,caption:"",lines:"2"},{default:e(()=>{var H,O,P;return[p("span",null,[o(g,{name:"mdi-account-tie"}),d(" "+m((P=a.contatos[(O=(H=a.dados)==null?void 0:H.venda)==null?void 0:O.idContatoVendedor])==null?void 0:P.apelido)+" ",1),o(K,{anchor:"bottom middle",self:"center middle"},{default:e(()=>t[55]||(t[55]=[d(" Vendedor(a) ")])),_:1})])]}),_:1})):v("",!0),o(s,{class:"hideondesktop q-mt-sm"},{default:e(()=>[o(_,{class:"q-pa-none",style:{"min-height":"36px!important"}},{default:e(()=>[o(s,{top:"",class:"col-5 no-margin"},{default:e(()=>{var H,O,P,C;return[(O=(H=a.dados)==null?void 0:H.venda)!=null&&O.dataHoraEmissao?(n(),u(k,{key:0,caption:""},{default:e(()=>{var A,D;return[o(g,{name:"mdi-calendar-today",style:{position:"absolute","margin-top":"2px"}}),p("span",ra,m(i.$filters.data((D=(A=a.dados)==null?void 0:A.venda)==null?void 0:D.dataHoraEmissao)),1)]}),_:1})):v("",!0),(C=(P=a.dados)==null?void 0:P.venda)!=null&&C.dataHoraFinalizado?(n(),u(k,{key:1,caption:""},{default:e(()=>{var A,D;return[o(g,{name:"mdi-calendar",style:{position:"absolute","margin-top":"2px"}}),p("span",ua,m(i.$filters.data((D=(A=a.dados)==null?void 0:A.venda)==null?void 0:D.dataHoraFinalizado)),1)]}),_:1})):v("",!0)]}),_:1}),o(s,{top:"",class:"col-7 no-margin text-right"},{default:e(()=>{var H,O,P,C,A,D;return[(O=(H=a.dados)==null?void 0:H.venda)!=null&&O.totalDocumento?(n(),u(k,{key:0,caption:"",class:"text-weight-bold"},{default:e(()=>{var N,X;return[d(m(i.$filters.numero((X=(N=a.dados)==null?void 0:N.venda)==null?void 0:X.totalDocumento,2)),1)]}),_:1})):v("",!0),((C=(P=a.dados)==null?void 0:P.venda)==null?void 0:C.subTotal)!==((D=(A=a.dados)==null?void 0:A.venda)==null?void 0:D.totalDocumento)?(n(),u(k,{key:1,caption:""},{default:e(()=>{var N,X;return[d(m(i.$filters.numero((X=(N=a.dados)==null?void 0:N.venda)==null?void 0:X.subTotal,2)),1)]}),_:1})):v("",!0)]}),_:1})]),_:1})]),_:1})]}),_:1})]),_:1})]),_:1}),o(s,{onClick:t[16]||(t[16]=b=>c.editar()),class:"hideonmobile maxw110 q-pl-sm no-margin"},{default:e(()=>{var b,l,f,q;return[(l=(b=a.dados)==null?void 0:b.venda)!=null&&l.dataHoraEmissao?(n(),u(k,{key:0,lines:"2",class:"ellipsis"},{default:e(()=>{var V,R;return[p("span",null,[o(g,{name:"mdi-calendar-today"}),d(" "+m(i.$filters.data((R=(V=a.dados)==null?void 0:V.venda)==null?void 0:R.dataHoraEmissao))+" ",1),o(K,{anchor:"bottom middle",self:"center middle"},{default:e(()=>{var G,U;return[d(" Emitido \xE0s "+m(i.$filters.hora((U=(G=a.dados)==null?void 0:G.venda)==null?void 0:U.dataHoraEmissao)),1)]}),_:1})])]}),_:1})):v("",!0),(q=(f=a.dados)==null?void 0:f.venda)!=null&&q.dataHoraFinalizado?(n(),u(k,{key:1,lines:"2",class:"ellipsis"},{default:e(()=>{var V,R;return[p("span",null,[o(g,{name:"mdi-calendar"}),d(" "+m(i.$filters.data((R=(V=a.dados)==null?void 0:V.venda)==null?void 0:R.dataHoraFinalizado))+" ",1),o(K,{anchor:"bottom middle",self:"center middle"},{default:e(()=>{var G,U;return[d(" Finalizado \xE1s "+m(i.$filters.hora((U=(G=a.dados)==null?void 0:G.venda)==null?void 0:U.dataHoraFinalizado)),1)]}),_:1})])]}),_:1})):v("",!0)]}),_:1}),o(s,{onClick:t[17]||(t[17]=b=>c.editar()),class:"hideonmobile maxw120 q-pl-sm no-margin"},{default:e(()=>{var b,l,f,q,V,R,G,U,ee;return[(l=(b=a.dados)==null?void 0:b.venda)!=null&&l.status?(n(),u(L,{key:0,escuro:"",dica:"Status",class:"col-auto q-mx-auto",rotulo:(V=((q=(f=a.dados)==null?void 0:f.venda)==null?void 0:q.status)||"")==null?void 0:V.replace("Aguardando ","Ag. "),cor:(G=(R=a.dados)==null?void 0:R.venda)!=null&&G.status?a.status[(ee=(U=a.dados)==null?void 0:U.venda)==null?void 0:ee.status]:"tertiary"},null,8,["rotulo","cor"])):v("",!0)]}),_:1}),o(s,{onClick:t[18]||(t[18]=b=>c.editar()),class:"hideonmobile maxw120 q-pl-sm no-margin"},{default:e(()=>{var b,l,f,q;return[(l=(b=a.dados)==null?void 0:b.venda)!=null&&l.totalDocumento?(n(),u(k,{key:0,class:"text-weight-bold text-right"},{default:e(()=>{var V,R;return[p("span",null,[d(m(i.$filters.numero((R=(V=a.dados)==null?void 0:V.venda)==null?void 0:R.totalDocumento,2))+" ",1),o(K,{anchor:"bottom middle",self:"center middle"},{default:e(()=>t[56]||(t[56]=[d(" Total ")])),_:1})])]}),_:1})):v("",!0),(q=(f=a.dados)==null?void 0:f.venda)!=null&&q.subTotal?(n(),u(k,{key:1,class:"text-caption text-right"},{default:e(()=>{var V,R;return[p("span",null,[d(m(i.$filters.numero((R=(V=a.dados)==null?void 0:V.venda)==null?void 0:R.subTotal,2))+" ",1),o(K,{anchor:"bottom middle",self:"center middle"},{default:e(()=>t[57]||(t[57]=[d(" Subtotal ")])),_:1})])]}),_:1})):v("",!0)]}),_:1}),o(s,{class:"col-auto q-pl-sm no-margin"},{default:e(()=>[o(_,{class:"q-pa-none"},{default:e(()=>[o(s,{class:"no-margin hideonmobile",style:{width:"32px"}},{default:e(()=>[o(Q,{onClick:t[19]||(t[19]=b=>{var l,f;return c.alternarDetalhes((f=(l=a.dados)==null?void 0:l.venda)==null?void 0:f.id)}),icon:a.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down",rounded:"",dense:"",flat:"",size:"md",color:"tertiary"},null,8,["icon"])]),_:1}),o(s,{class:"no-margin hideonmobile",style:{width:"32px"}},{default:e(()=>[a.visibilidade.botao.editar?(n(),u(Q,{key:0,onClick:c.editar,rounded:"",dense:"",flat:"",icon:"edit",size:"md",color:"primary"},null,8,["onClick"])):v("",!0),a.visibilidade.botao.visualizar?(n(),u(Q,{key:1,onClick:c.editar,rounded:"",dense:"",flat:"",icon:"remove_red_eye",size:"md",color:"primary"},null,8,["onClick"])):v("",!0)]),_:1}),o(s,{class:"no-margin hideonmobile",style:{width:"32px"}},{default:e(()=>[o(Q,{icon:"print",size:"md",round:"",flat:"",dense:""},{default:e(()=>[o(le,null,{default:e(()=>[z((n(),u(te,{link:"","no-border":"",separator:""},{default:e(()=>[(n(!0),E(I,null,T(a.configImpressaoOrcamento.filter(b=>b.valor),b=>(n(),u(_,{onClick:l=>{var f,q;return i.$imprimir(b.valor,{id:((q=(f=a.dados)==null?void 0:f.venda)==null?void 0:q.id)||"0",Oculto:"0"})},key:b.valor,clickable:""},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"print"})]),_:1}),o(s,null,{default:e(()=>[d(m(b.texto),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})),[[M]])]),_:1})]),_:1})]),_:1}),o(s,{class:"no-margin",style:{width:"32px"}},{default:e(()=>[o(Q,{icon:"more_vert",size:"md",round:"",flat:"",dense:""},{default:e(()=>[o(le,null,{default:e(()=>[z((n(),u(te,{link:"","no-border":"",separator:""},{default:e(()=>{var b;return[a.visibilidade.botao.remover?(n(),u(_,{key:0,onClick:c.remover,clickable:""},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"delete"})]),_:1}),o(s,null,{default:e(()=>[o(k,null,{default:e(()=>t[58]||(t[58]=[d("Remover")])),_:1}),o(k,{caption:""},{default:e(()=>t[59]||(t[59]=[d("Venda")])),_:1})]),_:1})]),_:1},8,["onClick"])):v("",!0),a.visibilidade.botao.editar||a.visibilidade.botao.visualizar?(n(),u(_,{key:1,onClick:c.editar,clickable:"",class:"hideondesktop"},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[a.visibilidade.botao.editar?(n(),u(g,{key:0,name:"edit"})):v("",!0),a.visibilidade.botao.visualizar?(n(),u(g,{key:1,name:"remove_red_eye"})):v("",!0)]),_:1}),o(s,null,{default:e(()=>[a.visibilidade.botao.editar?(n(),u(k,{key:0},{default:e(()=>t[60]||(t[60]=[d(" Editar ")])),_:1})):v("",!0),a.visibilidade.botao.visualizar?(n(),u(k,{key:1},{default:e(()=>t[61]||(t[61]=[d(" Visualizar ")])),_:1})):v("",!0),o(k,{caption:""},{default:e(()=>t[62]||(t[62]=[d("Venda")])),_:1})]),_:1})]),_:1},8,["onClick"])):v("",!0),o(_,{onClick:t[20]||(t[20]=l=>{var f,q;return c.alternarDetalhes((q=(f=a.dados)==null?void 0:f.venda)==null?void 0:q.id)}),clickable:"",class:"hideondesktop"},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:a.detalhesVisivel?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])]),_:1}),o(s,null,{default:e(()=>[o(k,null,{default:e(()=>t[63]||(t[63]=[d("Ver Detalhes")])),_:1}),o(k,{caption:""},{default:e(()=>t[64]||(t[64]=[d("Venda")])),_:1})]),_:1})]),_:1}),i.$utils.mapearStatus(a.dados.venda).permiteNota?(n(),E(I,{key:2},[z((n(),u(_,{onClick:t[21]||(t[21]=l=>i.emitirNFeV2({idVenda:a.dados.venda.id},1,"Venda")),clickable:""},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"account_balance"})]),_:1}),o(s,null,{default:e(()=>[o(k,null,{default:e(()=>t[65]||(t[65]=[d("NFe")])),_:1}),o(k,{caption:""},{default:e(()=>t[66]||(t[66]=[d("Sa\xEDda/Venda")])),_:1})]),_:1})]),_:1})),[[M]]),z((n(),u(_,{onClick:t[22]||(t[22]=l=>i.emitirNFeV2({idVenda:a.dados.venda.id},0,"Devolu\xE7\xE3o")),clickable:""},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"account_balance"})]),_:1}),o(s,null,{default:e(()=>[o(k,null,{default:e(()=>t[67]||(t[67]=[d("NFe")])),_:1}),o(k,{caption:""},{default:e(()=>t[68]||(t[68]=[d("Entrada/Devolu\xE7\xE3o")])),_:1})]),_:1})]),_:1})),[[M]]),z((n(),u(_,{onClick:t[23]||(t[23]=l=>i.emitirNFeV2({idVenda:a.dados.venda.id},1,"Remessa")),clickable:""},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"account_balance"})]),_:1}),o(s,null,{default:e(()=>[o(k,null,{default:e(()=>t[69]||(t[69]=[d("NFe")])),_:1}),o(k,{caption:""},{default:e(()=>t[70]||(t[70]=[d("Remessa")])),_:1})]),_:1})]),_:1})),[[M]]),(b=a.dados.venda)!=null&&b.permiteNFSe?z((n(),u(_,{key:0,clickable:"",onClick:t[24]||(t[24]=l=>c.emitirNFSe({idVenda:a.dados.venda.id}))},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"account_balance"})]),_:1}),o(s,null,{default:e(()=>t[71]||(t[71]=[d("Emitir NFSe")])),_:1})]),_:1})),[[M]]):v("",!0)],64)):v("",!0),c.podeMigrarFatura?(n(),E(I,{key:3},[(n(!0),E(I,null,T(a.faturasAbertas.filter(l=>{var f,q;return l.id!==((q=(f=a.dados)==null?void 0:f.venda)==null?void 0:q.idFatura)}),l=>z((n(),u(_,{key:l.id,onClick:f=>c.migrarFatura(l),clickable:""},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"mdi-folder-move"})]),_:1}),o(s,null,{default:e(()=>[o(k,null,{default:e(()=>[d(m("#"+(l.numero||l.id.slice(-6))),1)]),_:2},1024),o(k,{caption:""},{default:e(()=>t[72]||(t[72]=[d("Migrar para fatura")])),_:1})]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128)),z((n(),u(_,{onClick:t[25]||(t[25]=l=>c.migrarFatura()),clickable:""},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"mdi-folder-move"})]),_:1}),o(s,null,{default:e(()=>[o(k,null,{default:e(()=>t[73]||(t[73]=[d("Migrar")])),_:1}),o(k,{caption:""},{default:e(()=>t[74]||(t[74]=[d("Para nova fatura")])),_:1})]),_:1})]),_:1})),[[M]])],64)):v("",!0),o(_,{onClick:t[26]||(t[26]=l=>i.$refs.modalHistoricoStatus.mostrar({idDocumento:a.dados.venda.id})),clickable:""},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"history"})]),_:1}),o(s,null,{default:e(()=>[o(k,null,{default:e(()=>t[75]||(t[75]=[d("Hist\xF3rico")])),_:1}),o(k,{caption:""},{default:e(()=>t[76]||(t[76]=[d("De Status")])),_:1})]),_:1})]),_:1}),o(_,{onClick:c.duplicarVenda,clickable:""},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"mdi-content-duplicate"})]),_:1}),o(s,null,{default:e(()=>t[77]||(t[77]=[d("Duplicar Pedido")])),_:1})]),_:1},8,["onClick"]),(n(!0),E(I,null,T(a.configImpressosWhatsapp.filter(l=>l.valor),l=>(n(),u(_,{key:l.valor,onClick:f=>c.dialogEnviar(l),clickable:""},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"mdi-whatsapp"})]),_:1}),o(s,null,{default:e(()=>[d(m(l.valor),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),y.resetarEnvio&&a.dados.venda.rotaJson&&a.dados.venda.rotaJson.length>0?(n(),u(_,{key:4,onClick:t[27]||(t[27]=l=>y.resetarEnvio(a.dados.venda)),clickable:""},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"restart_alt"})]),_:1}),o(s,null,{default:e(()=>t[78]||(t[78]=[d("Resetar Envio")])),_:1})]),_:1})):v("",!0),(n(!0),E(I,null,T(a.configImpressaoOrcamento.filter(l=>l.valor),l=>(n(),u(_,{onClick:f=>{var q,V;return i.$imprimir(l.valor,{id:((V=(q=a.dados)==null?void 0:q.venda)==null?void 0:V.id)||"0",Oculto:"0"})},key:l.valor,clickable:"",class:"hideondesktop"},{default:e(()=>[o(s,{avatar:""},{default:e(()=>[o(g,{name:"print"})]),_:1}),o(s,null,{default:e(()=>[d(m(l.texto),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]}),_:1})),[[M]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):v("",!0),z(o(oe,{class:"q-ma-sm"},null,512),[[ye,((ae=(re=a.dados)==null?void 0:re.venda)==null?void 0:ae.id)&&a.detalhesVisivel]]),z(o(x,null,{default:e(()=>[o(S,null,{default:e(()=>{var b,l,f,q,V,R,G,U,ee,me,H,O,P;return[((b=a.fatura)==null?void 0:b.id)||((f=(l=a.dados)==null?void 0:l.venda)==null?void 0:f.totalDesconto)?(n(),u(x,{key:0,gutter:"md-x"},{default:e(()=>{var C,A;return[o(S,{col:"xs12 sm"},{default:e(()=>{var D,N,X,ce,fe,ve;return[(D=a.fatura)!=null&&D.id?(n(),u(w,{key:0,text:"sub2 medium",inline:"",icon:`request_quote ${a.width<=992?"15px":"xs"} tertiary`,caption:a.width<=992},{default:e(()=>t[79]||(t[79]=[d(" Fatura ")])),_:1},8,["icon","caption"])):v("",!0),(N=a.fatura)!=null&&N.id?(n(),u(B,{key:1,id:(X=a.fatura)==null?void 0:X.id,escuro:"",numero:(ce=a.fatura)==null?void 0:ce.numero,cor:"positive",class:"q-mx-sm"},null,8,["id","numero"])):v("",!0),(fe=a.fatura)!=null&&fe.id?(n(),u(L,{key:2,rotulo:(ve=a.fatura)==null?void 0:ve.status,escuro:"",dica:"Status",cor:"tertiary"},null,8,["rotulo"])):v("",!0)]}),_:1}),(A=(C=a.dados)==null?void 0:C.venda)!=null&&A.totalDesconto?(n(),u(S,{key:0,col:"xs12 sm-shrink"},{default:e(()=>[o(w,{text:"sub2 regular",class:"q-pr-sm",caption:a.width<=992},{default:e(()=>{var D,N;return[t[80]||(t[80]=d(" Desconto: ")),p("span",ma,m(i.$filters.numero((N=(D=a.dados)==null?void 0:D.venda)==null?void 0:N.totalDesconto,2)),1)]}),_:1},8,["caption"])]),_:1})):v("",!0)]}),_:1})):v("",!0),o(x,{gutter:"md"},{default:e(()=>[o(S,{col:"xs12 md6",bordered:""},{default:e(()=>[o(w,{icon:`extension ${a.width<=992?"14px":"xs"} tertiary`,caption:a.width<=992,text:"sub2 medium",class:"q-mb-md"},{default:e(()=>t[81]||(t[81]=[d(" Itens ")])),_:1},8,["icon","caption"]),(n(!0),E(I,null,T(a.dados.carrinho,C=>(n(),u(x,{key:C.id,gutter:"none",bordered:`${a.quantidadeProdutos>1?"bottom":!1}`},{default:e(()=>[o(S,null,{default:e(()=>[o(w,{lines:"1",caption:a.width<=992},{default:e(()=>[o(w,{inline:"",text:"medium",class:"q-mr-xs"},{default:e(()=>[d(m(C.quantidade)+"x ",1)]),_:2},1024),d(" "+m(C.descricaoItem),1)]),_:2},1032,["caption"])]),_:2},1024),o(S,{col:"auto",class:"mw120"},{default:e(()=>[o(w,{text:"medium right",caption:a.width<=992},{default:e(()=>[d(m(i.$filters.numero(C.total,2)),1)]),_:2},1032,["caption"])]),_:2},1024)]),_:2},1032,["bordered"]))),128)),(n(!0),E(I,null,T(a.dados.customs,C=>(n(),u(x,{key:C.documento.id,gutter:"none",bordered:`${a.quantidadeProdutos>1?"bottom":!1}`},{default:e(()=>[o(S,null,{default:e(()=>[o(w,{lines:"1",caption:a.width<=992},{default:e(()=>[o(w,{inline:"",text:"medium",class:"q-mr-xs"},{default:e(()=>[d(m(C.documento.numero)+"x ",1)]),_:2},1024),d(" "+m(C.documento.descricao),1)]),_:2},1032,["caption"])]),_:2},1024),o(S,{col:"auto",class:"mw120"},{default:e(()=>[o(w,{text:"medium right",caption:a.width<=992},{default:e(()=>[d(m(i.$filters.numero(C.documento.totalDocumento,2)),1)]),_:2},1032,["caption"])]),_:2},1024)]),_:2},1032,["bordered"]))),128)),(n(!0),E(I,null,T(a.dados.oss,C=>(n(),u(x,{key:C.documento.id,gutter:"none",bordered:`${a.quantidadeProdutos>1?"bottom":!1}`},{default:e(()=>[o(S,null,{default:e(()=>[o(w,{lines:"1",caption:a.width<=992},{default:e(()=>[o(L,{rotulo:"OS #"+C.documento.numero,dica:"O.S.",escuro:"",cor:"tertiary",class:"q-mr-xs"},null,8,["rotulo"]),C.documento.status!=="Or\xE7amento"?(n(),u(L,{key:0,rotulo:C.documento.status,cor:"positive",escuro:"",class:"q-mr-xs"},null,8,["rotulo"])):v("",!0),d(" "+m(C.documento.descricao),1)]),_:2},1032,["caption"])]),_:2},1024),o(S,{col:"auto",class:"mw120"},{default:e(()=>[o(w,{text:"medium right",caption:a.width<=992},{default:e(()=>[d(m(i.$filters.numero(C.documento.totalDocumento,2)),1)]),_:2},1032,["caption"])]),_:2},1024)]),_:2},1032,["bordered"]))),128)),(n(!0),E(I,null,T(a.dados.kits,C=>(n(),u(x,{key:C.documento.id,gutter:"none",bordered:`${a.quantidadeProdutos>1?"bottom":!1}`},{default:e(()=>[o(S,null,{default:e(()=>[o(w,{lines:"1",caption:a.width<=992},{default:e(()=>[o(w,{inline:"",text:"medium",class:"q-mr-xs"},{default:e(()=>[d(m(i.$filters.numero(a.documentoItemKit[C.documento.id].quantidade,4))+"x ",1)]),_:2},1024),d(" "+m(a.documentoItemKit[C.documento.id].descricaoItem),1)]),_:2},1032,["caption"])]),_:2},1024),o(S,{col:"auto",class:"mw120"},{default:e(()=>[o(w,{text:"medium right",caption:a.width<=992},{default:e(()=>[d(m(i.$filters.numero(a.documentoItemKit[C.documento.id].total,2)),1)]),_:2},1032,["caption"])]),_:2},1024)]),_:2},1032,["bordered"]))),128))]),_:1}),o(S,{col:"xs12 md6",bordered:""},{default:e(()=>{var C;return[o(ie,{idFatura:(C=a.fatura)==null?void 0:C.id,ref:"documentosFiscais"},null,8,["idFatura"])]}),_:1})]),_:1}),((V=(q=a.dados)==null?void 0:q.venda)==null?void 0:V.observacaoFaturamento)||((G=(R=a.dados)==null?void 0:R.venda)==null?void 0:G.observacao)||((ee=(U=a.dados)==null?void 0:U.venda)==null?void 0:ee.observacaoInterna)||((H=(me=a.dados)==null?void 0:me.venda)==null?void 0:H.motivoCancelamento)||((P=(O=a.dados)==null?void 0:O.venda)==null?void 0:P.observacaoCancelamento)?(n(),u(x,{key:1,gutter:"md"},{default:e(()=>[o(S,{col:"xs12 md4",bordered:""},{default:e(()=>{var C,A;return[o(w,{text:"sub2 regular",caption:a.width<=992},{default:e(()=>{var D,N;return[t[82]||(t[82]=p("span",{class:"text-weight-medium q-mr-sm"},"Obs.:",-1)),d(" "+m((N=(D=a.dados)==null?void 0:D.venda)==null?void 0:N.observacao),1)]}),_:1},8,["caption"]),(A=(C=a.dados)==null?void 0:C.venda)!=null&&A.motivoCancelamento?(n(),u(w,{key:0,caption:a.width<=992,text:"sub2 regular"},{default:e(()=>{var D,N;return[t[83]||(t[83]=p("span",{class:"text-weight-medium q-mr-sm"},"Obs. Motivo Cancelamento:",-1)),d(" "+m((N=(D=a.dados)==null?void 0:D.venda)==null?void 0:N.motivoCancelamento),1)]}),_:1},8,["caption"])):v("",!0)]}),_:1}),o(S,{col:"xs12 md4",bordered:""},{default:e(()=>{var C,A;return[o(w,{text:"sub2 regular",caption:a.width<=992},{default:e(()=>{var D,N;return[t[84]||(t[84]=p("span",{class:"text-weight-medium q-mr-sm"},"Obs. Interna:",-1)),d(" "+m((N=(D=a.dados)==null?void 0:D.venda)==null?void 0:N.observacaoInterna),1)]}),_:1},8,["caption"]),(A=(C=a.dados)==null?void 0:C.venda)!=null&&A.observacaoCancelamento?(n(),u(w,{key:0,caption:a.width<=992,text:"sub2 regular"},{default:e(()=>{var D,N;return[t[85]||(t[85]=p("span",{class:"text-weight-medium q-mr-sm"},"Obs. Cancelamento:",-1)),d(" "+m((N=(D=a.dados)==null?void 0:D.venda)==null?void 0:N.observacaoCancelamento),1)]}),_:1},8,["caption"])):v("",!0)]}),_:1}),o(S,{col:"xs12 md4",bordered:""},{default:e(()=>[o(w,{text:"sub2 regular",caption:a.width<=992},{default:e(()=>{var C,A;return[t[86]||(t[86]=p("span",{class:"text-weight-medium q-mr-sm"},"Obs. Faturamento:",-1)),d(" "+m((A=(C=a.dados)==null?void 0:C.venda)==null?void 0:A.observacaoFaturamento),1)]}),_:1},8,["caption"])]),_:1})]),_:1})):v("",!0)]}),_:1})]),_:1},512),[[ye,((ne=($=a.dados)==null?void 0:$.venda)==null?void 0:ne.id)&&a.detalhesVisivel]]),(ue=(W=a.dados)==null?void 0:W.venda)!=null&&ue.id?(n(),u(oe,{key:1})):v("",!0)],64)):v("",!0),o(J,{onExecutar:c.executar,ref:"vendaModal"},null,8,["onExecutar"]),o(se,{ref:"modalHistoricoStatus"},null,512)])}var ga=_e(Ve,[["render",ca]]);export{ga as V};
