import{_ as b,p as g,o as f,i as _,w as l,f as o,G as q,H as y,x as e,b2 as w,b3 as k,bk as v,bl as E,s as r,t as c,K as F,W as A,X as C}from"./index.81269774.js";import{_ as D}from"./Grafico.16f858fe.js";import"./Chart.0e609735.js";const B={components:{Grafico:D},computed:{mesAno(){const t=new Date,n=t.toLocaleString("default",{month:"long"}),d=t.getFullYear().toString().slice(-2);return`${n}/${d}`}},data(){return{tab:"Empresa",dados:{},links:{},optionsGraficoFluxo3:{},graficoFluxo3:{},optionsGraficoFluxo4:{},graficoFluxo4:{},graficoOpcoesFinanceiro:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,position:"right"},title:{display:!1,text:"Chart.js Horizontal Bar Chart"}},options:{scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}}},graficoOpcoesFinanceiro2:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1,position:"right"},title:{display:!1,text:"Chart.js Horizontal Bar Chart"}},options:{scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}}}}},methods:{async atualizar(t){this.buscarGruposELinks(),this.dados=JSON.parse((await this.$utils.geeksApi({dash:{funcao:"0A3AB851-7870-485C-A90D-2C4EEFCD6EFD"}})).data.dash),this.montarGraficoFinanceiro(),this.montarGraficoAnaliseMarcas(),t&&t()},montarGraficoFinanceiro(){this.optionsGraficoFluxo3={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right"}},scales:{xAxes:[{ticks:{callback:function(t,n,d){return Number(t).toLocaleString("pt-br",{minimumFractionDigits:0})}}}]},tooltips:{callbacks:{label:function(t,n){let d=n.datasets[t.datasetIndex].label||"";return d&&(d+=`: ${Number(t.value).toLocaleString("pt-br",{minimumFractionDigits:2})}`),d},title:function(t,n){return t[0].label}}}},this.graficoFluxo3={labels:this.dados.financeiro.map(t=>t.grupo),datasets:[{label:"Sa\xEDda",backgroundColor:"rgba(219, 40, 40, 0.5)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:this.dados.financeiro.map(t=>t.saida)},{label:"Entrada",backgroundColor:"rgba(33, 186, 69, 0.5)",borderColor:"rgb(33, 186, 69)",borderWidth:1,data:this.dados.financeiro.map(t=>t.entrada)}]}},montarGraficoAnaliseMarcas(){this.optionsGraficoFluxo4={responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{ticks:{callback:function(t,n,d){return Number(t).toLocaleString("pt-br",{minimumFractionDigits:0})}}}]},tooltips:{callbacks:{label:function(t,n){let d=n.datasets[t.datasetIndex].label||"";return d&&(d+=`: ${Number(t.value).toLocaleString("pt-br",{minimumFractionDigits:2})}`),d},title:function(t,n){return t[0].label}}}},this.graficoFluxo4={labels:this.dados.analiseMarcas.map(t=>t.Marca),datasets:[{label:"Compra",backgroundColor:"rgba(219, 40, 40, 0.5)",borderColor:"rgb(219, 40, 40)",borderWidth:1,data:this.dados.analiseMarcas.map(t=>t.compra)},{label:"Venda",backgroundColor:"rgba(33, 186, 69, 0.5)",borderColor:"rgb(33, 186, 69)",borderWidth:1,data:this.dados.analiseMarcas.map(t=>t.venda)},{label:"Estoque",borderWidth:1,data:this.dados.analiseMarcas.map(t=>t.estoque)}]}},async buscarGruposELinks(){const t=(await $utils.geeksApi({ret:{funcao:"099420F9-82D6-4E1B-BEFB-8BA1697B0710",filtros:{},limit:50}})).data.ret;let n=[],d={};t.data.forEach(x=>{n.push(x.grupo);const a=x.grupo;let u=[];u=t.data.filter(function(h){return h.grupo.indexOf(a)!==-1}),d=JSON.parse(`{"${a}": { "grupo": "${a}", "itens": []}}`),u.forEach(h=>{let m={descricao:h.descricao,imagem:h.imagemB64,link:h.link};d[a].itens.push(m)}),this.links=Object.assign(this.links,d)}),console.log(this.links)}},mounted(){$utils.emitter.on("atualizarDashboards",this.atualizar),this.atualizar()},beforeUnmount(){$utils.emitter.off("atualizarDashboards",this.atualizar)}},i=t=>(A("data-v-c780d23c"),t=t(),C(),t),G={class:"q-px-md"},S={class:"col-12 col-md"},P={class:"q-pa-md"},V=i(()=>e("h2",{class:"text-subtitle2 text-white"},"Compras x Estoque",-1)),z=i(()=>e("small",{class:"text-body1 text-white text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Compras ",-1)),L={class:"text-h5 text-weight-bold text-right text-white q-mt-sm q-pb-none",style:{"line-height":"22px"}},M=i(()=>e("small",{class:"text-body1 text-white text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Estoque ",-1)),I={class:"text-h5 text-weight-bold text-right text-white q-mt-sm q-pb-none",style:{"line-height":"22px"}},N={class:"col-12 col-md"},Q={class:"q-pa-md"},O=i(()=>e("h2",{class:"text-subtitle2 text-white"},"Faturamento",-1)),W=i(()=>e("small",{class:"text-body1 text-white text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Vendas ",-1)),j={class:"text-h5 text-weight-bold text-right text-white q-mt-sm q-pb-none",style:{"line-height":"22px"}},R=i(()=>e("small",{class:"text-body1 text-white text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Aguardando faturamento ",-1)),T={class:"text-h5 text-weight-bold text-right text-white q-mt-sm q-pb-none",style:{"line-height":"22px"}},$=i(()=>e("small",{class:"text-body1 text-white text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Faturado ",-1)),H={class:"text-h5 text-weight-bold text-right text-white q-mt-sm q-pb-none",style:{"line-height":"22px"}},U={class:"text-body1 text-white text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}},J=i(()=>e("div",{class:"col"},"Meta",-1)),K={class:"col text-right"},X={class:"text-h5 text-weight-bold text-right text-white q-mt-sm q-pb-none",style:{"line-height":"22px"}},Y=i(()=>e("small",{class:"text-body1 text-white text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Proje\xE7\xE3o ",-1)),Z={class:"text-h5 text-weight-bold text-right text-white q-mt-sm q-pb-none",style:{"line-height":"22px"}},tt=i(()=>e("h2",{class:"text-subtitle2 text-white"},"Expedi\xE7\xE3o",-1)),et={class:"col-12 col-md"},st=i(()=>e("small",{class:"text-body1 text-white text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Aguardando estoque ",-1)),at={class:"text-h5 text-weight-bold text-right text-white q-mt-sm q-pb-none",style:{"line-height":"22px"}},ot={class:"col-12 col-md"},lt=i(()=>e("small",{class:"text-body1 text-white text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Expedindo ",-1)),it={class:"text-h5 text-weight-bold text-right text-white q-mt-sm q-pb-none",style:{"line-height":"22px"}},nt={class:"col-12 col-md"},dt=i(()=>e("small",{class:"text-body1 text-white text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Aguardando entrega ",-1)),rt={class:"text-h5 text-weight-bold text-right text-white q-mt-sm q-pb-none",style:{"line-height":"22px"}},ct={class:"col-12 col-md"},ht=i(()=>e("small",{class:"text-body1 text-white text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," Pedido por dia ",-1)),mt={class:"text-h5 text-weight-bold text-right text-white q-mt-sm q-pb-none",style:{"line-height":"22px"}},pt={class:"col-12 col-md"},ut={class:"q-pa-md"},xt=i(()=>e("h2",{class:"text-subtitle2 text-white"},"Financeiro",-1)),gt=i(()=>e("h2",{class:"text-subtitle2 text-white"},"Inadimpl\xEAncia (Fora o m\xEAs)",-1)),bt=i(()=>e("small",{class:"text-body1 text-white text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," At\xE9 90 dias ",-1)),ft={class:"text-h5 text-weight-bold text-right text-white q-mt-sm q-pb-none",style:{"line-height":"22px"}},_t=i(()=>e("small",{class:"text-body1 text-white text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," De 90 a 120 dias ",-1)),qt={class:"text-h5 text-weight-bold text-right text-white q-mt-sm q-pb-none",style:{"line-height":"22px"}},yt=i(()=>e("small",{class:"text-body1 text-white text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}}," A mais de 120 dias ",-1)),wt={class:"text-h5 text-weight-bold text-right text-white q-mt-sm q-pb-none",style:{"line-height":"22px"}};function kt(t,n,d,x,a,u){const h=g("grafico"),m=g("row");return f(),_(F,{class:"backgroundModern"},{default:l(()=>[o(q,{class:"q-pa-none q-ma-none"},{default:l(()=>[o(y,null,{default:l(()=>[e("section",G,[o(w,{dense:"",aling:"left",modelValue:a.tab,"onUpdate:modelValue":n[0]||(n[0]=s=>a.tab=s),"indicator-color":"primary",class:"text-white"},{default:l(()=>[o(k,{name:"Empresa",label:u.mesAno},null,8,["label"])]),_:1},8,["modelValue"]),o(v,{modelValue:a.tab,"onUpdate:modelValue":n[1]||(n[1]=s=>a.tab=s),animated:"",class:"bg-transparent",style:{"border-top":"1px solid rgba(255,255,255,.25)"}},{default:l(()=>[o(E,{name:"Empresa",class:"q-px-none"},{default:l(()=>[o(m,null,{default:l(()=>[e("div",S,[e("div",P,[V,e("div",null,[o(r,{class:"no-shadow q-px-sm q-py-xs q-my-md glassEffect"},{default:l(()=>{var s;return[z,e("div",L,c(t.$filters.numero((s=a.dados.dash)==null?void 0:s.compra,2)),1)]}),_:1}),o(r,{class:"no-shadow q-px-sm q-py-xs q-my-md glassEffect"},{default:l(()=>{var s;return[M,e("div",I,c(t.$filters.numero((s=a.dados.dash)==null?void 0:s.estoque,2)),1)]}),_:1})]),o(r,{class:"no-shadow q-pa-md",style:{position:"relative",height:"450px"}},{default:l(()=>[o(h,{id:"graficoFaturamentoAno",type:"horizontalBar",data:a.graficoFluxo4,options:a.optionsGraficoFluxo4,fit:""},null,8,["data","options"])]),_:1})])]),e("div",N,[e("div",Q,[O,o(r,{class:"no-shadow q-px-sm q-py-xs q-my-md glassEffect"},{default:l(()=>{var s;return[W,e("div",j,c(t.$filters.numero((s=a.dados.dash)==null?void 0:s.venda,2)),1)]}),_:1}),o(r,{class:"no-shadow q-px-sm q-py-xs q-my-md glassEffect"},{default:l(()=>{var s;return[R,e("div",T,c(t.$filters.numero((s=a.dados.dash)==null?void 0:s.aFaturar,2)),1)]}),_:1}),o(r,{class:"no-shadow q-px-sm q-py-xs q-my-md glassEffect"},{default:l(()=>{var s;return[$,e("div",H,c(t.$filters.numero((s=a.dados.dash)==null?void 0:s.faturado,2)),1)]}),_:1}),o(r,{class:"no-shadow q-px-sm q-py-xs q-my-md glassEffect"},{default:l(()=>{var s;return[e("small",U,[o(m,null,{default:l(()=>{var p;return[J,e("div",K,c((p=a.dados.dash)==null?void 0:p.metaPercentual)+" %",1)]}),_:1})]),e("div",X,c(t.$filters.numero((s=a.dados.dash)==null?void 0:s.metaValor,2)),1)]}),_:1}),o(r,{class:"no-shadow q-px-sm q-py-xs q-my-md glassEffect"},{default:l(()=>{var s;return[Y,e("div",Z,c(t.$filters.numero((s=a.dados.dash)==null?void 0:s.faturamentoProjecao,2)),1)]}),_:1}),tt,o(m,null,{default:l(()=>[e("div",et,[o(r,{class:"no-shadow q-px-sm q-py-xs q-my-md glassEffect"},{default:l(()=>{var s;return[st,e("div",at,c(t.$filters.numero((s=a.dados.dash)==null?void 0:s.aguardandoEstoque,2)),1)]}),_:1})]),e("div",ot,[o(r,{class:"no-shadow q-px-sm q-py-xs q-my-md glassEffect"},{default:l(()=>{var s;return[lt,e("div",it,c(t.$filters.numero((s=a.dados.dash)==null?void 0:s.expedindo,2)),1)]}),_:1})])]),_:1}),o(m,null,{default:l(()=>[e("div",nt,[o(r,{class:"no-shadow q-px-sm q-py-xs q-my-md glassEffect"},{default:l(()=>{var s;return[dt,e("div",rt,c(t.$filters.numero((s=a.dados.dash)==null?void 0:s.aguardandoEntrega,2)),1)]}),_:1})]),e("div",ct,[o(r,{class:"no-shadow q-px-sm q-py-xs q-my-md glassEffect"},{default:l(()=>{var s,p;return[ht,e("div",mt,c((p=(s=a.dados.dash)==null?void 0:s.pedidoPorDia)!=null?p:"-"),1)]}),_:1})])]),_:1})])]),e("div",pt,[e("div",ut,[xt,o(r,{class:"no-shadow q-pa-md",style:{position:"relative",height:"340px"}},{default:l(()=>[o(h,{id:"graficoOpcoesFinanceiro",type:"horizontalBar",data:a.graficoFluxo3,options:a.optionsGraficoFluxo3,fit:""},null,8,["data","options"])]),_:1}),gt,o(r,{class:"no-shadow q-px-sm q-py-xs q-my-md glassEffect"},{default:l(()=>{var s;return[bt,e("div",ft,c(t.$filters.numero((s=a.dados.inadimplenciaPorIdade)==null?void 0:s.valor0a90dias,2)),1)]}),_:1}),o(r,{class:"no-shadow q-px-sm q-py-xs q-my-md glassEffect"},{default:l(()=>{var s;return[_t,e("div",qt,c(t.$filters.numero((s=a.dados.inadimplenciaPorIdade)==null?void 0:s.valor91a120dias,2)),1)]}),_:1}),o(r,{class:"no-shadow q-px-sm q-py-xs q-my-md glassEffect"},{default:l(()=>{var s;return[yt,e("div",wt,c(t.$filters.numero((s=a.dados.inadimplenciaPorIdade)==null?void 0:s.valorMaior120dias,2)),1)]}),_:1})])])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1})}var At=b(B,[["render",kt],["__scopeId","data-v-c780d23c"]]);export{At as default};
