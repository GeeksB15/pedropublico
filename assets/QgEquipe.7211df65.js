import{_,X as C,aC as b,r as k,o as m,n as h,B as t,G as E,bb as j,f as i,aV as V,w as l,F as x,s as q,d as y,z as $,y as P,i as g,k as a,t as r,N as f,O as Q}from"./index.188ab8e6.js";const B={components:{Avatar:C},data(){return{empresas:[],vendedores:{}}},props:{carregando:{default:!0,required:!0,type:Boolean},dados:{default:()=>({}),required:!0,type:Object}},methods:{async obterEmpresas(){this.empresas=[];const s=(await b.contato.ler({filtros:{ativo:!0,empresas:!0}})).data,e=new Set((this.dados.equipe||[]).map(p=>p.codigoEmpresa)),n=[];e.forEach(p=>{const d=s.find(v=>v.codigoContato===p);n.push({codigoContato:d.codigoContato,nome:d.nome})}),this.empresas=n},async obterVendedores(){let s=(await b.contato.ler({filtros:{ativo:!0,usuario:!0}})).data;s=s.concat((await b.contato.ler({filtros:{ativo:!0,vendedores:!0}})).data);const e={};s.forEach(n=>{e[n.codigoContato]||(e[n.codigoContato]=n)}),this.vendedores=e}},watch:{carregando(){this.carregando||this.obterVendedores().then(()=>{this.obterEmpresas()})}},mounted(){this.obterVendedores().then(()=>{this.obterEmpresas()})}},H={class:"CockpitReceber"},S={class:"q-pb-md"},M={class:"no-shadow"},N={class:"col-12"},O={style:{"font-size":"70%"}},R={class:"row q-mb-xs items-center"},T={class:"col-12 col-lg-6"},z={class:"row q-mb-sm"},A={class:"col"},D={class:"row"},F={class:"q-title text-weight-bold text-left text-primary q-mt-xs q-pb-none col-12 col-md",style:{"line-height":"22px"}},I={class:"q-title text-weight-bold text-center text-blue-5 q-mt-xs q-pb-none col-12 col-md",style:{"line-height":"22px"}},L={class:"q-title text-weight-bold text-right text-positive q-mt-xs q-pb-none col-12 col-md",style:{"line-height":"22px"}},G={class:"col-12 col-lg-6"},X={class:"row"},J={class:"col-6 col-lg-3 q-mb-sm blocks"},K={class:"col-6 col-lg-3 q-mb-sm blocks"},U={class:"col-6 col-lg-3 q-mb-sm blocks"},W={class:"col-6 col-lg-3 q-mb-sm blocks"},Y={class:"text-right q-mt-sm"};function Z(s,e,n,p,d,v){const w=k("avatar");return m(),h("div",H,[t("div",S,[t("div",M,[t("div",N,[t("span",O,[E(i(V,{color:"primary",size:20},null,512),[[j,n.carregando]])])]),i(Q,{class:"q-my-sm"},{default:l(()=>[(m(!0),h(x,null,q(d.empresas,c=>(m(),y($,{key:c.codigoContato,"default-opened":"",label:c.nome},{default:l(()=>[(m(!0),h(x,null,q(n.dados.equipe.filter(o=>o.codigoEmpresa===c.codigoContato),o=>(m(),y(P,{key:o.codigoContatoVendedor,class:"extratoItem bg-white q-my-md q-py-sm q-px-md"},{default:l(()=>[t("div",R,[t("div",T,[t("div",z,[t("div",A,[i(w,{class:"avatar float-left",imagem:d.vendedores[o.codigoContatoVendedor].imagem,rotulo:d.vendedores[o.codigoContatoVendedor].nome,tamanho:"40"},null,8,["imagem","rotulo"]),i(g,null,{default:l(()=>[a(r(d.vendedores[o.codigoContatoVendedor].nome)+" ",1),t("div",null,r(c.nome),1)]),_:2},1024)])]),e[3]||(e[3]=t("div",{class:"row"},[t("div",{class:"progress"},[t("div",{class:"progress-bar bg-primary",style:{width:"62%"}}),t("div",{class:"progress-bar bg-info",style:{width:"5%"}}),t("div",{class:"progress-bar progress-bar-animated progress-bar-striped bg-success",style:{width:"33%"}})])],-1)),t("div",D,[t("div",F,[a("R$ "+r(s.$filters.numero(o.faturamentoPeriodo,2))+" ",1),e[0]||(e[0]=t("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}},"M\xEAs",-1))]),t("div",I,[a("R$ "+r(s.$filters.numero(o.faturamentoHoje,2))+" ",1),e[1]||(e[1]=t("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}},"Hoje",-1))]),t("div",L,[a("R$ "+r(s.$filters.numero(o.faturamentoProjecao,2))+" ",1),e[2]||(e[2]=t("small",{class:"text-body1 text-tertiary text-weight-regular q-block q-ma-none q-pa-none",style:{display:"block"}},"Proje\xE7\xE3o",-1))])])]),t("div",G,[t("div",X,[t("div",J,[i(g,{class:"text-h5 text-weight-bold text-center text-blue-8"},{default:l(()=>[a(r(s.$filters.numero(o.ticketMedioPeriodo,2)),1)]),_:2},1024),i(f,{class:"q-pa-none text-tertiary text-center"},{default:l(()=>e[4]||(e[4]=[a(" Ticket M\xE9dio ")])),_:1})]),t("div",K,[i(g,{class:"text-h5 text-weight-bold text-center text-blue-8"},{default:l(()=>[a(r(s.$filters.numero(o.pendenciasOrcamentos,0)),1)]),_:2},1024),i(f,{class:"q-pa-none text-tertiary text-center"},{default:l(()=>e[5]||(e[5]=[a(" Or\xE7amento(s) ")])),_:1})]),t("div",U,[i(g,{class:"text-h5 text-weight-bold text-center text-blue-8"},{default:l(()=>[a(r(s.$filters.numero(o.conversoesHoje,0))+" / "+r(s.$filters.numero(o.atendimentosHoje,0)),1)]),_:2},1024),i(f,{class:"q-pa-none text-tertiary text-center"},{default:l(()=>e[6]||(e[6]=[a(" Atendimento c/ vendas hoje ")])),_:1})]),t("div",W,[i(g,{class:"text-h5 text-weight-bold text-center text-blue-8"},{default:l(()=>[a(r(s.$filters.numero(o.conversoesPeriodo,0))+" / "+r(s.$filters.numero(o.atendimentosPeriodo,0)),1)]),_:2},1024),i(f,{class:"q-pa-none text-tertiary text-center"},{default:l(()=>e[7]||(e[7]=[a(" Atendimento c/ vendas per\xEDodo ")])),_:1})])])])])]),_:2},1024))),128)),t("p",Y,[e[8]||(e[8]=a("M\xEAs ")),t("strong",null,r(s.$filters.numero(n.dados.equipe.filter(o=>o.codigoEmpresa===c.codigoContato).reduce((o,u)=>o+u.faturamentoPeriodo,0),2)),1),e[9]||(e[9]=a(" - Hoje ")),t("strong",null,r(s.$filters.numero(n.dados.equipe.filter(o=>o.codigoEmpresa===c.codigoContato).reduce((o,u)=>o+u.faturamentoHoje,0),2)),1),e[10]||(e[10]=a(" - Proje\xE7\xE3o ")),t("strong",null,r(s.$filters.numero(n.dados.equipe.filter(o=>o.codigoEmpresa===c.codigoContato).reduce((o,u)=>o+u.faturamentoProjecao,0),2)),1)])]),_:2},1032,["label"]))),128))]),_:1})])])])}var et=_(B,[["render",Z]]);export{et as default};
