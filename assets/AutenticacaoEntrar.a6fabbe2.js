import{_ as u,r as p,o as m,n as h,B as l,f as r,q as i,Q as c,ar as w,w as v,F as g}from"./index.129a5639.js";import{o as y}from"./open-url.c0a12cc1.js";const b={data(){return{campos:{cpf:"",senha:""},validation:{campos:{}},carregando:!1}},methods:{abrirURL:y,async entrar(){if(!this.carregando)try{this.carregando=!0,await this.validar(),await $db.usuario.autentica({cpf:this.campos.cpf,senha:this.campos.senha}),this.$router.push({name:"AutenticacaoBancos"})}catch(t){console.error(t),$q.notify({message:"Usu\xE1rio ou senha inv\xE1lido",type:"negative"})}finally{this.carregando=!1}},async validar(){const t={required:e=>(e||"").length>0};this.validation.campos.cpf=[t.required],this.validation.campos.senha=[t.required],this.$refs.cpf.validate(),this.$refs.senha.validate(),await this.$nextTick();const a=this.$refs.cpf.validate(),n=this.$refs.senha.validate();if(!(a&&n))throw new Error("Preencha os campos obrigat\xF3rios")}}},x={class:"q-my-xl q-px-md float-left full-width"},q={class:"float-left full-width q-mt-lg"};function V(t,a,n,d,e,o){const f=p("row");return m(),h(g,null,[l("form",{onSubmit:a[2]||(a[2]=w((...s)=>o.entrar&&o.entrar(...s),["prevent"])),class:"q-my-xl float-left full-width"},[l("div",x,[r(i,{modelValue:e.campos.cpf,"onUpdate:modelValue":a[0]||(a[0]=s=>e.campos.cpf=s),label:"CPF","lazy-rules":"",filled:"",dark:"",autofocus:"",class:"full-width",ref:"cpf",rules:e.validation.campos.cpf},null,8,["modelValue","rules"]),r(i,{modelValue:e.campos.senha,"onUpdate:modelValue":a[1]||(a[1]=s=>e.campos.senha=s),label:"Senha",type:"password","lazy-rules":"",filled:"",dark:"",class:"full-width q-my-sm",ref:"senha",rules:e.validation.campos.senha},null,8,["modelValue","rules"]),r(c,{class:"full-width",color:"white",label:"Entrar",loading:e.carregando,size:"lg","text-color":"primary",type:"submit"},null,8,["loading"])])],32),r(f,{class:"justify-center text-center q-mt-lg"},{default:v(()=>[l("p",q,[a[4]||(a[4]=l("span",{class:"text-white"},"N\xE3o tem uma conta?",-1)),r(c,{color:"transparent",label:"Cadastre-se",size:"md","text-color":"white",onClick:a[3]||(a[3]=s=>o.abrirURL("https://b15.com.br"))})])]),_:1})],64)}var U=u(b,[["render",V]]);export{U as default};
