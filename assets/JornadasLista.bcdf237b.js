import{_ as H,r as k,au as Ke,o as p,d as _,w as l,f as o,D as $e,E as Y,h as R,Q as c,az as ee,O as J,n as O,F as T,s as N,G as y,R as U,S as A,k as v,t as q,M,i as j,H as W,I as Z,d0 as Ce,B as r,d1 as eo,as as ve,av as ke,bh as Oe,j as B,T as S,x as oo,at as F,L,bu as ae,c1 as D,bw as ne,X as se,Y as ie,bd as Q,J as ue,m as $,u as z,e as w,K as _e,ef as he,Z as Me,dE as to,q as pe,bE as lo,b5 as ao,bF as so,C as de,c0 as qe,l as me,a_ as Ve,aW as C,by as io,e8 as ye,b3 as Ue,b4 as ze,dF as ro,c2 as no,ar as ce,eg as uo,y as X,be as mo,bf as Fe,z as te,eh as le,dq as co}from"./index.353e304f.js";import{L as po}from"./Lista.5f3eb6f2.js";import{Q as we}from"./QBtnDropdown.27ebcdfe.js";import{Q as fo,a as ho}from"./QCarousel.e259ffe5.js";import{Q as Te}from"./QSplitter.8435ab79.js";import{_ as bo}from"./Grafico.fee1f49d.js";import"./QScrollArea.4eca576e.js";import"./QBtnGroup.9119c6e2.js";import"./Chart.22c07124.js";const go={data(){return{doc:$db.jornada.doc,contato:$db.jornada.contato.doc,contatoEndereco:$db.jornada.contatoEndereco.doc,contatoTelefone:$db.jornada.contatoTelefone.doc,contatoGrupo:$db.jornada.contatoGrupo.doc,rules:{numeroDocumentoNacional:[()=>{const a=(this.contato.numeroDocumentoNacional||"").replace(/\D/g,"");return a.trim()?$utils.validarDocumentoNacional(a)?!0:"Documento inv\xE1lido":!0}]},telefoneTipos:[{label:"Principal",value:"Principal",color:"orange",icon:"star"},{label:"Comercial",value:"Comercial",color:"dark",icon:"phone"},{label:"Celular",value:"Celular",color:"dark",icon:"phone_iphone"},{label:"Fixo",value:"Fixo",color:"dark",icon:"phone"},{label:"WhatsApp",value:"WhatsApp",color:"positive",icon:"mdi-whatsapp",ix:"duo"}],enderecoTipos:[{label:"Principal",value:"Principal",icon:"star",color:"orange"},{label:"Cobran\xE7a",value:"Cobran\xE7a",icon:"attach_money"},{label:"Comercial",value:"Comercial",icon:"business"},{label:"Correspond\xEAncia",value:"Correspond\xEAncia",icon:"mail"},{label:"Entrega",value:"Entrega",icon:"local_shipping"},{label:"Instala\xE7\xE3o",value:"Instala\xE7\xE3o",icon:"build"},{label:"Residencial",value:"Residencial",icon:"store_mall_directory"},{label:"Outros",value:"Outros",icon:"location_city"}],sexos:[{label:"Masculino",value:"Masculino"},{label:"Feminino",value:"Feminino"},{label:"Outro",value:"Outro"}],cGrupos:[],grupos:[{label:"Alta dioptria"},{label:"Moda feminina"},{label:"Moda masculina"},{label:"Infantil"},{label:"Lente de contato"},{label:"\xD3culos de sol"}],origemMarketing:[],origensMarketing:[{label:"Indica\xE7\xE3o"},{label:"Whatsapp"},{label:"Facebook"},{label:"Instagram"},{label:"Site"},{label:"Google"}],profissoes:["","Desenvolvedor","Vendedor","M\xE9dico","Professor","Motorista"]}},emits:["mudarTela","fecharModal"],methods:{uidCopia(){const a=this.$refs.uid;a.type="text";try{a.select(),document.execCommand("copy"),this.$q.notify({message:"UID copiado para a \xE1rea de transfer\xEAncia.",type:"info"})}catch{this.$q.notify("Erro ao copiar.")}a.type="hidden",window.getSelection().removeAllRanges()},async fecha(){$q.loading.show(),await $db.jornada.removerJornadaVazia(),this.$emit("fecharModal"),$q.loading.hide()},async atualiza(a){$q.loading.show(),await $db.jornada.carregaContatoCompleto(a!=null?a:this.doc.idContato),this.carregaOrigemMarketing(),this.carregaCGroups(),$q.loading.hide()},carregaCGroups(){this.cGrupos=this.contatoGrupo.map(({id:a,descricao:e})=>({id:a,label:e}))},carregaOrigemMarketing(){this.contato.origemMarketing&&(this.origemMarketing=[{label:this.contato.origemMarketing}])},btProximo(){var a,e;if(!((a=this.contato.nome)!=null&&a.trim())){$q.notify({message:"Nome \xE9 obrigat\xF3rio.",type:"negative"});return}if(((e=this.contato.numeroDocumentoNacional)==null?void 0:e.trim())&&!$utils.validarDocumentoNacional(this.contato.numeroDocumentoNacional)){$q.notify({message:"CPF Inv\xE1lido.",type:"negative"});return}this.$emit("mudarTela","FotoReceita")},async telefoneAdiciona(){await this.salvando,this.contatoTelefone.push({id:$utils.uuid(),idContato:this.contato.id})},async telefoneRemove(a){this.contatoTelefone.splice(a,1),await this.salva()},async enderecoAdiciona(){await this.salvando,this.contatoEndereco.push({id:$utils.uuid(),idContato:this.contato.id})},async enderecoRemove(a){this.contatoEndereco.splice(a,1),await this.salva()},enderecoIcone(a){const e=this.enderecoTipos.find(u=>u.label===a)||{};return{color:e.color||"dark",name:e.icon||"store_mall_directory",size:a==="Principal"?"18px":"24px"}},emailValida(a){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLowerCase())},profissoesAdiciona(){$q.dialog({title:"Adicionar nova profiss\xE3o:",preventClose:!0,prompt:{model:"",isValid:a=>a.length>0,type:"text"},cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Adicionar",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async a=>{try{$q.loading.show(),this.profissoes.push([a]),this.contato.segmento=a,await this.salva()}catch(e){$q.notifyError("Erro ao adicionar profiss\xE3o.",e)}finally{$q.loading.hide()}})},async grupoAdiciona(a){this.contatoGrupo.push({id:$utils.uuid(),idContato:this.contato.id,descricao:a.label}),this.carregaCGroups(),await this.salva()},async grupoRemove(a){this.contatoGrupo=this.contatoGrupo.filter(e=>e.id!==a.id),await this.salva()},async updateGrupo(a){if(a.length<this.contatoGrupo.length)return;const e=this.contatoGrupo.map(({id:m})=>m),u=a.find(({id:m})=>!e.includes(m));this.contatoGrupo.push({id:u.id,idContato:this.contato.id,descricao:u.label}),await this.salva()},async origemMarketingSeleciona(a){var u,m;let e;a?e=a.label:e=(m=(u=this.origemMarketing[this.origemMarketing.length-1])==null?void 0:u.label)!=null?m:"",e&&(this.origemMarketing=[{label:e}]),this.contato.origemMarketing=e,await this.salva()},async salva(a,e){this.salvando&&await this.salvando,this.salvando=new Promise(async u=>{a==="numeroDocumentoNacional"&&await this.cpfConsulta(),a==="cep"&&e.cep.trim()!==""&&await this.cepConsulta(e),await $db.jornada.gravaContatoCompleto(),u()})},async cepConsulta(a){try{$q.loading.show();const e=a.cep.replace(/[^0-9]/g,"");if(e.length<8)return;const m=await(await fetch(`https://viacep.com.br/ws/${e}/json/`)).json();if(a.bairro=m.bairro,a.complemento=m.complemento,a.ibgeCod=m.ibge,a.logradouro=m.logradouro,a.municipio=m.localidade,a.pais="Brasil",a.codigoPais=1058,a.uf=m.uf,a.ufCod=$utils.mapearEstadoCodigo[m.uf],m.ibge){const t=await $db.cidade.le({cidadeCodIbge:m.ibge.toString(),ativo:!0});a.cidadeCodChave=(t.find(i=>i.cod)||{}).cod}}catch(e){$q.notifyError("N\xE3o foi poss\xEDvel consultar o CEP.",e)}finally{$q.loading.hide()}},async cpfConsulta(){var a;try{$q.loading.show();const e=((a=this.contato.numeroDocumentoNacional)!=null?a:"").replace(/\D/g,"");if(!$utils.validarDocumentoNacional(e))return;const m=(await $db.contato.ler({filtros:{termoBusca:e,ativo:!0}})).data.find(t=>t.numeroDocumentoNacional.replace(/\D/g,"")===e);$q.loading.hide(),m&&m.id!==this.contato.id&&(await new Promise(i=>{this.$q.dialog({title:"Contato j\xE1 existe!",message:"Deseja carreg\xE1-lo?",cancel:{label:"N\xE3o",color:"red",flat:!0},ok:{label:"Sim",color:"primary",unelevated:!0}}).onOk(()=>{i(!0)}).onCancel(()=>{i(!1)}).onDismiss(()=>{i(!1)})})?(await this.atualiza(m.id),this.doc.idContato=m.id,await $db.jornada.grava()):this.contato.numeroDocumentoNacional=$db.jornada.contato.bkp.numeroDocumentoNacional)}catch(e){$q.notifyError("N\xE3o foi poss\xEDvel consultar o CPF.",e),this.contato.numeroDocumentoNacional=$db.jornada.contato.bkp.numeroDocumentoNacional}finally{$q.loading.hide()}}},mounted(){this.carregaOrigemMarketing(),this.carregaCGroups()}},vo={class:"mlmobile34"};function _o(a,e,u,m,t,i){const n=k("g-row"),d=k("g-label"),b=k("g-col"),h=k("campo"),s=k("gchips"),P=Ke("mask");return p(),_(L,{id:"Contato",view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o($e,null,{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=f=>i.salva().then(i.fecha)),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(J,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),O(T,null,N(a.$db.jornada.menu,(f,I)=>y((p(),_(U,{key:I,onClick:g=>i.salva().then(()=>a.$emit("mudarTela",f.tela)),clickable:""},{default:l(()=>[o(A,null,{default:l(()=>[v(q(f.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1})]),_:1}),o(j,null,{default:l(()=>[v("Dados Cliente")]),_:1}),o(c,{onClick:e[1]||(e[1]=f=>i.atualiza()),icon:"refresh",round:"",flat:"",dense:""}),o(c,{onClick:e[2]||(e[2]=f=>i.salva().then(i.fecha)),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=f=>i.salva().then(i.btProximo)),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1})]),_:1}),o(W,{class:"q-ma-md"},{default:l(()=>[o(Z,{class:"bg-white u-container rounded-borders",style:{"min-height":"895px"}},{default:l(()=>[o(n,{gutter:"md",justify:"end"},{default:l(()=>[o(Ce,{class:"q-ml-sm",color:"positive",escuro:"",onClick:i.uidCopia},{default:l(()=>[v(" #"+q(parseInt(t.contato.codigoContato)||(t.contato.id||"").slice(-6))+" ",1),y(r("input",{type:"hidden","onUpdate:modelValue":e[4]||(e[4]=f=>t.contato.id=f),ref:"uid"},null,512),[[eo,t.contato.id]])]),_:1},8,["onClick"])]),_:1}),o(n,{gutter:"md",justify:"center"},{default:l(()=>[o(b,{col:"12 md7"},{default:l(()=>[o(n,{gutter:"none-y"},{default:l(()=>[o(b,{col:"12"},{default:l(()=>[o(d,{text:"h6"},{default:l(()=>[v("Informa\xE7\xF5es contato")]),_:1})]),_:1}),o(b,{col:"12"},{default:l(()=>[o(h,{modelValue:t.contato.nome,"onUpdate:modelValue":e[5]||(e[5]=f=>t.contato.nome=f),onBlur:e[6]||(e[6]=f=>i.salva()),rotulo:"Nome completo",rules:[f=>f&&f.length>2||"Preenchimento obrigat\xF3rio."],tipo:"texto"},null,8,["modelValue","rules"])]),_:1}),o(b,{col:"12 sm"},{default:l(()=>[y(o(h,{modelValue:t.contato.numeroDocumentoNacional,"onUpdate:modelValue":e[7]||(e[7]=f=>t.contato.numeroDocumentoNacional=f),onBlur:e[8]||(e[8]=f=>i.salva("numeroDocumentoNacional")),rotulo:"CPF",rules:t.rules.numeroDocumentoNacional},null,8,["modelValue","rules"]),[[P,["###.###.###-##"]]])]),_:1}),o(b,{col:"12 sm"},{default:l(()=>[o(h,{modelValue:t.contato.numeroDocumentoEstadual,"onUpdate:modelValue":e[9]||(e[9]=f=>t.contato.numeroDocumentoEstadual=f),onBlur:e[10]||(e[10]=f=>i.salva()),rotulo:"RG",class:"q-field--with-bottom"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(b,{col:"12 md7",mg:"md-t"},{default:l(()=>[o(n,{gutter:"none-y"},{default:l(()=>[o(b,{col:"12"},{default:l(()=>[o(d,{text:"h6"},{default:l(()=>[v("Telefones")]),_:1})]),_:1}),o(b,null,{default:l(()=>[(p(!0),O(T,null,N(t.contatoTelefone,(f,I)=>(p(),_(n,{key:I},{default:l(()=>[o(b,{col:"6 sm"},{default:l(()=>[o(ve,{modelValue:f.tipoTelefone,"onUpdate:modelValue":g=>f.tipoTelefone=g,onBlur:e[11]||(e[11]=g=>i.salva()),options:t.telefoneTipos,"option-value":"value","option-label":"label","emit-value":"","map-options":"",dense:"",label:"Tipo"},{before:l(()=>[o(c,{icon:(t.telefoneTipos.find(g=>g.value===f.tipoTelefone)||{}).icon||"star",size:"sm",round:"",flat:"",color:"tertiary"},null,8,["icon"])]),option:l(g=>[o(U,ke(Oe(g.itemProps)),{default:l(()=>[o(A,{avatar:""},{default:l(()=>[o(B,{name:g.opt.icon},null,8,["name"])]),_:2},1024),o(A,null,{default:l(()=>[o(S,{innerHTML:g.opt.label},null,8,["innerHTML"])]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),_:2},1024),o(b,{col:"6 sm"},{default:l(()=>[o(h,{modelValue:f.telefone,"onUpdate:modelValue":g=>f.telefone=g,onBlur:e[12]||(e[12]=g=>i.salva()),rotulo:"Telefone"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(b,{col:"xs"},{default:l(()=>[r("div",vo,[o(h,{modelValue:f.observacao,"onUpdate:modelValue":g=>f.observacao=g,onBlur:e[13]||(e[13]=g=>i.salva()),rotulo:"Descri\xE7\xE3o"},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024),o(b,{col:"shrink"},{default:l(()=>[o(c,{onClick:g=>i.telefoneRemove(I),icon:"delete",flat:"",round:"",dense:"",color:"tertiary",class:"q-mt-sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),o(b,{col:"12",mg:"sm-t",text:"center"},{default:l(()=>[o(c,{color:"positive",icon:"add",label:"Telefone",outline:"",size:"sm",onClick:i.telefoneAdiciona},null,8,["onClick"])]),_:1})]),_:1})]),_:1}),o(b,{col:"12 md7",mg:"md-t"},{default:l(()=>[o(n,{gutter:"none-y"},{default:l(()=>[o(b,{col:"12"},{default:l(()=>[o(d,{text:"h6"},{default:l(()=>[v("Endere\xE7os")]),_:1})]),_:1}),o(b,{col:"12"},{default:l(()=>[(p(!0),O(T,null,N(t.contatoEndereco,(f,I)=>(p(),_(n,{mg:"md-t",key:I},{default:l(()=>[o(b,{col:"7"},{default:l(()=>[o(ve,{modelValue:f.grupo,"onUpdate:modelValue":g=>f.grupo=g,onBlur:e[14]||(e[14]=g=>i.salva()),options:t.enderecoTipos,"option-value":"value","option-label":"label","emit-value":"","map-options":"",dense:"",label:"Grupo",class:"q-field--with-bottom"},{before:l(()=>[o(B,oo(i.enderecoIcone(f.grupo),{color:"tertiary"}),null,16)]),option:l(g=>[o(U,ke(Oe(g.itemProps)),{default:l(()=>[o(A,{avatar:""},{default:l(()=>[o(B,{name:g.opt.icon},null,8,["name"])]),_:2},1024),o(A,null,{default:l(()=>[o(S,{innerHTML:g.opt.label},null,8,["innerHTML"])]),_:2},1024)]),_:2},1040)]),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),_:2},1024),o(b,{col:"5"},{default:l(()=>[o(h,{modelValue:f.cep,"onUpdate:modelValue":g=>f.cep=g,onBlur:g=>i.salva("cep",f),rules:[g=>g&&g.replace(/\D/g,"").length===8||"O CEP est\xE1 muito curto."],rotulo:"CEP",debounce:"500",tipo:"texto",mask:"#####-###"},null,8,["modelValue","onUpdate:modelValue","onBlur","rules"])]),_:2},1024),o(b,{col:"2"},{default:l(()=>[o(h,{modelValue:f.uf,"onUpdate:modelValue":g=>f.uf=g,onBlur:e[15]||(e[15]=g=>i.salva()),rules:[g=>g&&g.length===2||"Insira um UF."],rotulo:"UF",maxlength:"2"},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),o(b,{col:"5"},{default:l(()=>[o(h,{modelValue:f.municipio,"onUpdate:modelValue":g=>f.municipio=g,onBlur:e[16]||(e[16]=g=>i.salva()),rotulo:"Cidade",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(b,{col:"12 sm5"},{default:l(()=>[o(h,{modelValue:f.logradouro,"onUpdate:modelValue":g=>f.logradouro=g,onBlur:e[17]||(e[17]=g=>i.salva()),rotulo:"Endere\xE7o",class:"q-field--with-bottom"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(b,{col:"3 sm2"},{default:l(()=>[o(h,{modelValue:f.numero,"onUpdate:modelValue":g=>f.numero=g,onBlur:e[18]||(e[18]=g=>i.salva()),rotulo:"N\xFAmero",class:"q-field--with-bottom"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(b,{col:"9 sm5"},{default:l(()=>[o(h,{modelValue:f.complemento,"onUpdate:modelValue":g=>f.complemento=g,onBlur:e[19]||(e[19]=g=>i.salva()),rotulo:"Complemento",class:"q-field--with-bottom"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(b,{col:"5 sm6"},{default:l(()=>[o(h,{modelValue:f.bairro,"onUpdate:modelValue":g=>f.bairro=g,onBlur:e[20]||(e[20]=g=>i.salva()),rotulo:"Bairro",class:"q-field--with-bottom"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(b,{col:"5"},{default:l(()=>[o(h,{modelValue:f.pais,"onUpdate:modelValue":g=>f.pais=g,onBlur:e[21]||(e[21]=g=>i.salva()),rotulo:"Pais",class:"q-field--with-bottom"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(b,{col:"2 sm1",text:"right"},{default:l(()=>[o(c,{onClick:g=>i.enderecoRemove(I),icon:"delete",flat:"",round:"",dense:"",color:"tertiary",class:"q-mt-sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),o(b,{col:"12",text:"center"},{default:l(()=>[o(c,{onClick:i.enderecoAdiciona,icon:"add",size:"sm",label:"Endere\xE7o",color:"positive",outline:""},null,8,["onClick"])]),_:1})]),_:1})]),_:1}),o(b,{col:"12 md7",mg:"md-t"},{default:l(()=>[o(n,{gutter:"none-y"},{default:l(()=>[o(b,{col:"12"},{default:l(()=>[o(d,{text:"h6"},{default:l(()=>[v("Adicionais")]),_:1})]),_:1}),o(b,{col:"12 sm6"},{default:l(()=>[o(h,{modelValue:t.contato.email,"onUpdate:modelValue":e[22]||(e[22]=f=>t.contato.email=f),onBlur:e[23]||(e[23]=f=>i.salva()),before:[{icon:"alternate_email"}],rotulo:"E-mail",rules:[f=>i.emailValida(f)||(f||"").length===0||"email inv\xE1lido"]},null,8,["modelValue","rules"])]),_:1}),o(b,{col:"12 sm6"},{default:l(()=>[o(ve,{modelValue:t.contato.segmento,"onUpdate:modelValue":e[25]||(e[25]=f=>t.contato.segmento=f),onBlur:e[26]||(e[26]=f=>i.salva()),options:t.profissoes,label:"Profiss\xE3o",dense:""},{append:l(()=>[o(c,{round:"",dense:"",flat:"",icon:"add",onClick:[i.profissoesAdiciona,e[24]||(e[24]=F(()=>{},["stop","prevent"]))]},null,8,["onClick"])]),_:1},8,["modelValue","options"])]),_:1}),o(b,{col:"12 sm6"},{default:l(()=>[o(h,{modelValue:t.contato.sexo,"onUpdate:modelValue":e[27]||(e[27]=f=>t.contato.sexo=f),onBlur:e[28]||(e[28]=f=>i.salva()),options:t.sexos,tipo:"seletor","rotulo-fixo":"Sexo"},null,8,["modelValue","options"])]),_:1}),o(b,{col:"12 sm6"},{default:l(()=>[o(h,{modelValue:t.contato.dataAbertura,"onUpdate:modelValue":e[29]||(e[29]=f=>t.contato.dataAbertura=f),onBlur:e[30]||(e[30]=f=>i.salva()),rotulo:"Data de nascimento",clearable:"",max:Date.now(),tipo:"data"},null,8,["modelValue","max"])]),_:1}),o(b,{col:"12",mg:"lg-t"},{default:l(()=>[o(s,{modelValue:t.cGrupos,"onUpdate:modelValue":[e[31]||(e[31]=f=>t.cGrupos=f),i.updateGrupo],dense:"",class:"q-mb-sm",onRemovido:i.grupoRemove,placeholder:Object.keys(t.contatoGrupo).length!==0?"":"Grupos"},null,8,["modelValue","onRemovido","onUpdate:modelValue","placeholder"]),(p(!0),O(T,null,N(t.grupos,(f,I)=>(p(),_(Ce,{key:I,onClick:g=>i.grupoAdiciona(f),label:f.label,color:"tertiary",dark:"",rounded:"",class:"text-lowercase q-px-sm q-py-xs q-ml-xs q-mb-xs cursor-pointer"},null,8,["onClick","label"]))),128))]),_:1}),o(b,{col:"12",mg:"md-t"},{default:l(()=>[o(s,{modelValue:t.origemMarketing,"onUpdate:modelValue":[e[32]||(e[32]=f=>t.origemMarketing=f),e[33]||(e[33]=f=>i.origemMarketingSeleciona())],dense:"",class:"q-mb-sm",placeholder:t.origemMarketing.length>0?"":"Origem marketing"},null,8,["modelValue","placeholder"]),(p(!0),O(T,null,N(t.origensMarketing,(f,I)=>(p(),_(Ce,{key:I,onClick:g=>i.origemMarketingSeleciona(f),label:f.label,color:"tertiary",dark:"",rounded:"",class:"text-lowercase q-px-sm q-py-xs q-ml-xs q-mb-xs cursor-pointer"},null,8,["onClick","label"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var yo=H(go,[["render",_o]]);const xo={data(){return{foto:"",fotoFator:1,showCamera:!1,zoom:1,qtde:0,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0}}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega($db.jornada.doc.value.id),this.foto=$db.jornada.b64Images.receita,this.redimensiona(),$q.loading.hide()},touch(a){const e=this.$refs.foto;let u=0;try{u=a.evt.touches.length}catch{}if(this.qtde=u,this.pinca.scaling||u!==2&&Math.abs(a.delta.x+a.delta.y)<=20&&(e.style.left=parseFloat(e.style.left)+a.delta.x+"px",e.style.top=parseFloat(e.style.top)+a.delta.y+"px"),!this.pinca.scaling&&u===2){const m=this.distancia;m.x1i=a.evt.touches[0].pageX,m.y1i=a.evt.touches[0].pageY,m.x2i=a.evt.touches[1].pageX,m.y2i=a.evt.touches[1].pageY,m.distanciaInicial=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.width=parseFloat(e.style.width),this.pinca.height=parseFloat(e.style.height),this.pinca.top=parseFloat(e.style.top),this.pinca.left=parseFloat(e.style.left),this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.scaling=!0}if(this.pinca.scaling&&u===0&&setTimeout(()=>{this.pinca.scaling=!1},300),this.pinca.scaling&&u===2)try{const m=a.evt,t=Math.hypot(m.touches[0].pageX-m.touches[1].pageX,m.touches[0].pageY-m.touches[1].pageY)-this.pinca.zoom,i=this.$refs.foto;i.style.width=this.pinca.width+t+"px",i.style.height=this.pinca.height+t*this.fotoFator+"px",i.style.top=this.pinca.top-t/2*this.fotoFator+"px",i.style.left=this.pinca.left-t/2+"px"}catch(m){console.log(m)}},zoomMais(){const a=this.$refs.foto;a.style.width=parseFloat(a.style.width)+2+"px",a.style.height=parseFloat(a.style.height)+2*this.fotoFator+"px",a.style.top=parseFloat(a.style.top)-1*this.fotoFator+"px",a.style.left=parseFloat(a.style.left)-1+"px"},zoomMenos(){const a=this.$refs.foto;a.style.width=parseFloat(a.style.width)-2+"px",a.style.height=parseFloat(a.style.height)-2*this.fotoFator+"px",a.style.top=parseFloat(a.style.top)+1*this.fotoFator+"px",a.style.left=parseFloat(a.style.left)+1+"px"},moveUp(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)-1+"px"},moveDown(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)+1+"px"},moveRight(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)+1+"px"},moveLeft(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)-1+"px"},btFechar(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","Contato")},async btProximo(){this.$emit("mudarTela","FormatoRosto")},excluirFoto(){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a imagem.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{$q.loading.show();const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC";this.foto=a,$db.jornada.b64Images.receita=a,await this.salvar(a),$q.loading.hide()})},async imagemCameraInput(){if($q.platform.is.desktop){const a=await $g.promptCamera.show({sensor:!1});a.acao==="foto"&&(this.foto=a.foto,$db.jornada.b64Images.receita=a.foto,await this.salvar(a.foto),this.redimensiona())}if($q.platform.is.mobile){const a=await $db.jornada.obterImagemCameraInput();a&&(this.foto=a,$db.jornada.b64Images.receita=a,await this.salvar(a),this.redimensiona())}},async uploadClick(){await $db.jornada.anexarFotoReceita(),this.foto=$db.jornada.b64Images.receita,this.redimensiona()},async salvar(a){try{this.$q.loading.show(),a&&($db.jornada.doc.value.receita.idImagem=$utils.uuid(),await $db.jornada.grava(),await $db.jornada.salvarImagem({idImagem:$db.jornada.doc.value.receita.idImagem,imagem:a}))}catch(e){console.error(e),this.$q.notifyError(e.message)}finally{this.$q.loading.hide()}},redimensiona(){const a=this.$refs.foto,e=new Image,u=this;e.onload=()=>{const m=document.body.clientWidth-20,t=window.innerHeight-100-20;let i=e.width,n=e.height,d=1.001;e.width/m>e.height/t?d=m/e.width:d=t/e.height,i=parseInt(i*d),n=parseInt(n*d),a.style.top=(t-n)/2+10+"px",a.style.left=(m-i)/2+10+"px",a.style.width=i+"px",a.style.height=n+"px",u.fotoFator=e.height/e.width},e.src=this.foto}},async mounted(){this.foto=$db.jornada.b64Images.receita,this.redimensiona()}},Vo=a=>(se("data-v-97dca4b2"),a=a(),ie(),a),wo={class:"img-container"},Co=["src"],ko={class:"ZonaTouch"},Oo=Vo(()=>r("div",{class:"BaseBotoes"},null,-1));function qo(a,e,u,m,t,i){return p(),_(L,{class:"bg-light",style:{overflow:"hidden"}},{default:l(()=>[o(R,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[0]||(e[0]=n=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(J,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),O(T,null,N(a.$db.jornada.menu,(n,d)=>y((p(),_(U,{key:d,onClick:b=>a.$emit("mudarTela",n.tela),clickable:""},{default:l(()=>[o(A,null,{default:l(()=>[v(q(n.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1})]),_:1}),o(j,null,{default:l(()=>[v("Foto Receita")]),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[1]||(e[1]=n=>i.btFechar()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[2]||(e[2]=n=>a.$emit("mudarTela","ReceitaTeclado")),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),o(ae,{onResize:i.redimensiona},null,8,["onResize"]),r("div",wo,[r("img",{src:t.foto,ref:"foto",class:"Foto",onContextmenu:e[3]||(e[3]=F(()=>{},["prevent"]))},null,40,Co)]),o(c,{class:"BtUpload",icon:"attachment",size:"md",round:"",color:"primary",onContextmenu:e[4]||(e[4]=F(()=>{},["prevent"])),onClick:i.uploadClick},null,8,["onClick"]),o(c,{class:"TirarFoto",onClick:i.imagemCameraInput,color:"primary",size:"md",round:"",icon:"camera"},null,8,["onClick"]),o(c,{class:"ExcluirFoto",onClick:i.excluirFoto,color:"primary",size:"md",round:"",icon:"delete"},null,8,["onClick"]),y(o(c,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in",onContextmenu:e[5]||(e[5]=F(()=>{},["prevent"]))},null,512),[[D,i.zoomMais,"0:20",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out",onContextmenu:e[6]||(e[6]=F(()=>{},["prevent"]))},null,512),[[D,i.zoomMenos,"0:20",{mouse:!0,enter:!0,space:!0}]]),y(r("div",ko,null,512),[[ne,i.touch,void 0,{prevent:!0,mouse:!0}]]),Oo,y(o(c,{class:"moveUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[7]||(e[7]=F(()=>{},["prevent"]))},null,512),[[D,i.moveUp,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"moveDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[8]||(e[8]=F(()=>{},["prevent"]))},null,512),[[D,i.moveDown,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"moveRight",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:e[9]||(e[9]=F(()=>{},["prevent"]))},null,512),[[D,i.moveRight,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"moveLeft",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:e[10]||(e[10]=F(()=>{},["prevent"]))},null,512),[[D,i.moveLeft,"0:50",{mouse:!0,enter:!0,space:!0}]])]),_:1})}var zo=H(xo,[["render",qo],["__scopeId","data-v-97dca4b2"]]);const Ao={data(){return{doc:$db.jornada.doc,esfericoToggle:!0,esfericoOperacoes:"positivo",esfericoMostrarBtns:!1,adicaoToggle:!0,adicaoOperacoes:"positivo",cilindricoToggle:!1,cilindricoOperacoes:"negativo",thumbStyle:{right:"4px",borderRadius:"5px",backgroundColor:"#027be3",width:"3px",opacity:.75},barStyle:{right:"2px",borderRadius:"9px",backgroundColor:"#027be3",width:"5px",opacity:.2}}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),$q.loading.hide()},fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","FotoReceita")},async btProximo(){await this.salvar(),this.$emit("mudarTela","FormatoRosto")},calcularEsfericoMateriais(){this.doc.materiais.esferico=Math.trunc(this.doc.receita.esferico),this.doc.materiais.esferico<-4&&(this.doc.materiais.esferico=-4),this.doc.materiais.esferico>4&&(this.doc.materiais.esferico=4),this.doc.materiais.esferico===0&&(this.doc.materiais.esferico=1)},btToggleValores(a){const e=this.doc.receita;this[a+"Toggle"]=!this[a+"Toggle"],this[a+"Toggle"]===!0&&(this[a+"Operacoes"]="positivo",e[a]=Math.abs(e[a])),this[a+"Toggle"]===!1&&(this[a+"Operacoes"]="negativo",e[a]=-Math.abs(e[a])),this.calcularEsfericoMateriais()},btValores(a,e){const u=this.doc.receita;this[a+"Operacoes"]==="positivo"&&(e===0?u[a]=Math.floor(u[a]):e>0&&e<1?u[a]=Math.floor(u[a])+e:u[a]=e+(u[a]-Math.floor(u[a])),u[a]=Math.abs(u[a])),this[a+"Operacoes"]==="negativo"&&(e===0?u[a]=Math.ceil(u[a]):e>0&&e<1?u[a]-=e:u[a]=e-(u[a]-Math.ceil(u[a])),u[a]=-Math.abs(u[a])),this.calcularEsfericoMateriais()},btEsfericoMostrarBtns(){this.esfericoMostrarBtns=!0},async salvar(){try{this.$q.loading.show(),await $db.jornada.grava()}catch(a){console.error(a),this.$q.notifyError(a.message)}finally{this.$q.loading.hide()}}}};function Fo(a,e,u,m,t,i){const n=k("campo"),d=k("g-col"),b=k("g-row");return p(),_(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[0]||(e[0]=h=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(J,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),O(T,null,N(a.$db.jornada.menu,(h,s)=>y((p(),_(U,{key:s,onClick:P=>a.$emit("mudarTela",h.tela),clickable:""},{default:l(()=>[o(A,null,{default:l(()=>[v(q(h.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1})]),_:1}),o(j,null,{default:l(()=>[v("Receita")]),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[1]||(e[1]=h=>a.$emit("fecharModal")),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[2]||(e[2]=h=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1})]),_:1}),o(W,{class:"q-px-md"},{default:l(()=>[o(Z,{class:"bg-white rounded-borders q-pa-sm q-my-md q-mx-auto",style:{"max-width":"560px","min-height":"895px"}},{default:l(()=>[o(b,{justify:"center"},{default:l(()=>[o(d,null,{default:l(()=>[o(b,{class:"q-pb-xl",maxWidth:"560px"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{modelValue:t.doc.receita.esferico,"onUpdate:modelValue":e[3]||(e[3]=h=>t.doc.receita.esferico=h),rotulo:"Esf\xE9rico",tipo:"decimal",decimals:"4",zerosDireita:"2",filled:"",clearable:"",noDense:"","input-style":t.doc.receita.esferico!=null?"font-size:1.8rem;font-weight:700;line-height:2.3rem;text-align:center;color:#003fff;position:absolute;padding:10px 0;right:-16.5px;":"font-size:1.8rem;font-weight:700;line-height:2.3rem;text-align:center;color:#003fff;position:absolute;padding:10px 0;right:0;"},null,8,["modelValue","input-style"])]),_:1}),o(d,{col:"",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[4]||(e[4]=h=>i.btToggleValores("esferico")),label:"- / +",flat:"",class:"fit"})]),_:1}),o(d,{col:"",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[5]||(e[5]=h=>i.btValores("esferico",0)),label:",0",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[6]||(e[6]=h=>i.btValores("esferico",.25)),label:",25",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[7]||(e[7]=h=>i.btValores("esferico",.5)),label:",50",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[8]||(e[8]=h=>i.btValores("esferico",.75)),label:",75",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"12",mg:"md-t"},{default:l(()=>[o(b,null,{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[9]||(e[9]=h=>i.btValores("esferico",1)),label:"1",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[10]||(e[10]=h=>i.btValores("esferico",2)),label:"2",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[11]||(e[11]=h=>i.btValores("esferico",3)),label:"3",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[12]||(e[12]=h=>i.btValores("esferico",4)),label:"4",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[13]||(e[13]=h=>i.btValores("esferico",5)),label:"5",flat:"",class:"fit q-py-md"})]),_:1})]),_:1}),o(b,null,{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[14]||(e[14]=h=>i.btValores("esferico",6)),label:"6",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[15]||(e[15]=h=>i.btValores("esferico",7)),label:"7",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[16]||(e[16]=h=>i.btValores("esferico",8)),label:"8",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[17]||(e[17]=h=>i.btValores("esferico",9)),label:"9",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[y(o(c,{onClick:e[18]||(e[18]=h=>i.btEsfericoMostrarBtns()),label:"...",flat:"",class:"fit q-py-md"},null,512),[[Q,t.esfericoMostrarBtns===!1]]),y(o(c,{onClick:e[19]||(e[19]=h=>i.btValores("esferico",10)),label:"10",flat:"",class:"fit q-py-md",style:{display:"none"}},null,512),[[Q,t.esfericoMostrarBtns===!0]])]),_:1})]),_:1}),y(o(b,{style:{display:"none"}},{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[20]||(e[20]=h=>i.btValores("esferico",11)),label:"11",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[21]||(e[21]=h=>i.btValores("esferico",12)),label:"12",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[22]||(e[22]=h=>i.btValores("esferico",13)),label:"13",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[23]||(e[23]=h=>i.btValores("esferico",14)),label:"14",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[24]||(e[24]=h=>i.btValores("esferico",15)),label:"15",flat:"",class:"fit q-py-md"})]),_:1})]),_:1},512),[[Q,t.esfericoMostrarBtns]]),y(o(b,{style:{display:"none"}},{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[25]||(e[25]=h=>i.btValores("esferico",16)),label:"16",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[26]||(e[26]=h=>i.btValores("esferico",17)),label:"17",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[27]||(e[27]=h=>i.btValores("esferico",18)),label:"18",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[28]||(e[28]=h=>i.btValores("esferico",19)),label:"19",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[29]||(e[29]=h=>i.btValores("esferico",20)),label:"20",flat:"",class:"fit q-py-md"})]),_:1})]),_:1},512),[[Q,t.esfericoMostrarBtns]]),y(o(b,{style:{display:"none"}},{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[30]||(e[30]=h=>i.btValores("esferico",21)),label:"21",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[31]||(e[31]=h=>i.btValores("esferico",22)),label:"22",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[32]||(e[32]=h=>i.btValores("esferico",23)),label:"23",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[33]||(e[33]=h=>i.btValores("esferico",24)),label:"24",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[34]||(e[34]=h=>i.btValores("esferico",25)),label:"25",flat:"",class:"fit q-py-md"})]),_:1})]),_:1},512),[[Q,t.esfericoMostrarBtns]])]),_:1})]),_:1}),o(b,{class:"q-pb-xl",maxWidth:"560px"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{modelValue:t.doc.receita.cilindrico,"onUpdate:modelValue":e[35]||(e[35]=h=>t.doc.receita.cilindrico=h),rotulo:"Cilindro",tipo:"decimal",decimals:"4",zerosDireita:"2",filled:"",clearable:"",noDense:"","input-style":t.doc.receita.cilindrico!=null?"font-size:1.8rem;font-weight:700;line-height:2.3rem;text-align:center;color:#003fff;position:absolute;padding:10px 0;right:-16.5px;":"font-size:1.8rem;font-weight:700;line-height:2.3rem;text-align:center;color:#003fff;position:absolute;padding:10px 0;right:0;"},null,8,["modelValue","input-style"])]),_:1}),o(d,{col:"",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[36]||(e[36]=h=>i.btToggleValores("cilindrico")),label:"- / +",flat:"",class:"fit"})]),_:1}),o(d,{mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[37]||(e[37]=h=>i.btValores("cilindrico",0)),label:",0",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[38]||(e[38]=h=>i.btValores("cilindrico",.25)),label:",25",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[39]||(e[39]=h=>i.btValores("cilindrico",.5)),label:",50",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[40]||(e[40]=h=>i.btValores("cilindrico",.75)),label:",75",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"12",mg:"md-t"},{default:l(()=>[o(b,null,{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[41]||(e[41]=h=>i.btValores("cilindrico",1)),label:"1",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[42]||(e[42]=h=>i.btValores("cilindrico",2)),label:"2",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[43]||(e[43]=h=>i.btValores("cilindrico",3)),label:"3",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[44]||(e[44]=h=>i.btValores("cilindrico",4)),label:"4",flat:"",class:"fit q-py-md"})]),_:1})]),_:1}),o(b,null,{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[45]||(e[45]=h=>i.btValores("cilindrico",5)),label:"5",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[46]||(e[46]=h=>i.btValores("cilindrico",6)),label:"6",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[47]||(e[47]=h=>i.btValores("cilindrico",7)),label:"7",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[48]||(e[48]=h=>i.btValores("cilindrico",8)),label:"8",flat:"",class:"fit q-py-md"})]),_:1})]),_:1})]),_:1})]),_:1}),o(b,{maxWidth:"560px"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{modelValue:t.doc.receita.adicao,"onUpdate:modelValue":e[49]||(e[49]=h=>t.doc.receita.adicao=h),rotulo:"Adi\xE7\xE3o",tipo:"decimal",decimals:"4",zerosDireita:"2",filled:"",clearable:"",noDense:"","input-style":t.doc.receita.adicao!=null?"font-size:1.8rem;font-weight:700;line-height:2.3rem;text-align:center;color:#003fff;position:absolute;padding:10px 0;right:-16.5px;":"font-size:1.8rem;font-weight:700;line-height:2.3rem;text-align:center;color:#003fff;position:absolute;padding:10px 0;right:0;"},null,8,["modelValue","input-style"])]),_:1}),o(d,{col:"3",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[50]||(e[50]=h=>i.btValores("adicao",0)),label:",0",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"3",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[51]||(e[51]=h=>i.btValores("adicao",.25)),label:",25",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"3",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[52]||(e[52]=h=>i.btValores("adicao",.5)),label:",50",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"3",mg:"md-t",bordered:""},{default:l(()=>[o(c,{onClick:e[53]||(e[53]=h=>i.btValores("adicao",.75)),label:",75",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{col:"12",mg:"md-t"},{default:l(()=>[o(b,null,{default:l(()=>[o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[54]||(e[54]=h=>i.btValores("adicao",1)),label:"1",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[55]||(e[55]=h=>i.btValores("adicao",2)),label:"2",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[56]||(e[56]=h=>i.btValores("adicao",3)),label:"3",flat:"",class:"fit q-py-md"})]),_:1}),o(d,{bordered:""},{default:l(()=>[o(c,{onClick:e[57]||(e[57]=h=>i.btValores("adicao",4)),label:"4",flat:"",class:"fit q-py-md"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var Po=H(Ao,[["render",Fo],["__scopeId","data-v-410635a6"]]);const Mo={data(){var a;return{fotoFator:1,fotoRosto:(a=$db.jornada.b64Images.rosto)!=null?a:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC",tipoRosto:1,rostos:{1:"Redondo",2:"Quadrado",3:"Cora\xE7\xE3o",4:"Triangular",5:"Oval"},zoom:100,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0},qtde:0}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega($db.jornada.doc.value.id),this.tipoRosto=$db.jornada.doc.value.formatoRosto.tipoRosto,this.fotoRosto=$db.jornada.b64Images.rosto,this.redimensiona();const a=this.$refs.quadro,e=this.$refs.foto;e.style.top=a.style.top,e.style.left=a.style.left,e.style.width=a.style.width,e.style.height=a.style.height,this.mudaCentralizaFoto(),$q.loading.hide()},excluirFoto(){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a imagem.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{$q.loading.show();const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC";this.fotoRosto=a,$db.jornada.b64Images.rosto=a,await this.salvar(a),$q.loading.hide()})},async imagemCameraInput(){if($q.platform.is.desktop){const a=await $g.promptCamera.show({sensor:!0});a.acao==="foto"&&(this.fotoRosto=a.foto,$db.jornada.b64Images.rosto=a.foto,await this.salvar(a.foto),this.mudaCentralizaFoto())}if($q.platform.is.mobile){const a=await $db.jornada.obterImagemCameraInput();a&&(this.fotoRosto=a,$db.jornada.b64Images.rosto=a,await this.salvar(a),this.mudaCentralizaFoto())}},async uploadClick(){await $db.jornada.anexarFotoRosto(),await $db.jornada.limparMedidasArmacao(),this.fotoRosto=$db.jornada.b64Images.rosto,this.mudaCentralizaFoto()},touch(a){const e=this.$refs.foto;let u=0;try{u=a.evt.touches.length}catch{}if(this.qtde=u,this.pinca.scaling||u!==2&&Math.abs(a.delta.x+a.delta.y)<=20&&(e.style.left=parseFloat(e.style.left)+a.delta.x+"px",e.style.top=parseFloat(e.style.top)+a.delta.y+"px"),!this.pinca.scaling&&u===2){const m=this.distancia;m.x1i=a.evt.touches[0].pageX,m.y1i=a.evt.touches[0].pageY,m.x2i=a.evt.touches[1].pageX,m.y2i=a.evt.touches[1].pageY,m.distanciaInicial=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.width=parseFloat(e.style.width),this.pinca.height=parseFloat(e.style.height),this.pinca.top=parseFloat(e.style.top),this.pinca.left=parseFloat(e.style.left),this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.scaling=!0}if(this.pinca.scaling&&u===0&&setTimeout(()=>{this.pinca.scaling=!1},500),this.pinca.scaling&&u===2)try{const m=a.evt,t=Math.hypot(m.touches[0].pageX-m.touches[1].pageX,m.touches[0].pageY-m.touches[1].pageY)-this.pinca.zoom,i=this.$refs.foto;i.style.width=this.pinca.width+t+"px",i.style.height=this.pinca.height+t*this.fotoFator+"px",i.style.top=this.pinca.top-t/2*this.fotoFator+"px",i.style.left=this.pinca.left-t/2+"px"}catch(m){console.log(m)}},zoomMais(){const a=this.$refs.foto;a.style.width=parseFloat(a.style.width)+2+"px",a.style.height=parseFloat(a.style.height)+2*this.fotoFator+"px",a.style.top=parseFloat(a.style.top)-1*this.fotoFator+"px",a.style.left=parseFloat(a.style.left)-1+"px"},zoomMenos(){const a=this.$refs.foto;a.style.width=parseFloat(a.style.width)-2+"px",a.style.height=parseFloat(a.style.height)-2*this.fotoFator+"px",a.style.top=parseFloat(a.style.top)+1*this.fotoFator+"px",a.style.left=parseFloat(a.style.left)+1+"px"},moveUp(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)-1+"px"},moveDown(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)+1+"px"},moveRight(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)+1+"px"},moveLeft(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)-1+"px"},mudaCentralizaFoto(){const a=this.$refs.quadro,e={top:parseInt(a.style.top),left:parseInt(a.style.left),width:parseInt(a.style.width),height:parseInt(a.style.height)},u=this.$refs.foto,m=new Image,t=this;m.onload=()=>{let i=m.width,n=m.height,d=1.001;m.width>m.height?d=e.width/m.height:d=e.width/m.width,i=parseInt(i*d),n=parseInt(n*d),u.style.top=(e.height-n)/2+e.top+"px",u.style.left=(e.width-i)/2+e.left+"px",u.style.width=i+"px",u.style.height=n+"px",t.fotoFator=m.height/m.width},m.src=this.fotoRosto},fecharModal(){this.$emit("fecharModal")},async btProximo(){const a=document.createElement("canvas"),e=a.getContext("2d"),u=this.$refs.foto;a.width=720,a.height=960;const m={left:parseFloat(this.$refs.foto.style.left),width:parseFloat(this.$refs.foto.style.width),top:parseFloat(this.$refs.foto.style.top),height:parseFloat(this.$refs.foto.style.height),naturalWidth:this.$refs.foto.naturalWidth,naturalHeight:this.$refs.foto.naturalHeight},t={left:parseFloat(this.$refs.quadro.style.left),width:parseFloat(this.$refs.quadro.style.width),top:parseFloat(this.$refs.quadro.style.top),height:parseFloat(this.$refs.quadro.style.height)},i={left:t.left-m.left,top:t.top-m.top};e.drawImage(u,i.left/m.width*m.naturalWidth,i.top/m.height*m.naturalHeight,t.width/m.width*m.naturalWidth,t.height/m.height*m.naturalHeight,0,0,720,960),$db.jornada.b64Images.rosto=a.toDataURL()+"",await this.salvar($db.jornada.b64Images.rosto),this.$emit("mudarTela","FormatoArmacao")},btAnterior(){this.$emit("mudarTela","ReceitaTeclado")},redimensiona(){const a=this.$refs.quadro,e=document.body.clientWidth-20,u=window.innerHeight-144-20;e>u?(a.style.height=u+"px",a.style.width=parseInt(parseInt(u)/4*3)+"px"):(a.style.width=e+"px",a.style.height=parseInt(parseInt(a.style.width)/3*4)+"px",parseInt(a.style.height)>u&&(a.style.height=u+"px",a.style.width=parseInt(parseInt(u)/4*3)+"px")),a.style.top=(window.innerHeight-parseInt(a.style.height)-20)/2+"px",a.style.left=(document.body.clientWidth-parseInt(a.style.width))/2+"px";const m=document.getElementsByClassName("rosto");for(const t of m)t.style.position="absolute",t.style.top=a.style.top,t.style.left=a.style.left,t.style.width=a.style.width,t.style.height=a.style.width},async salvar(a){try{this.$q.loading.show();const e=$db.jornada.doc.value.fotoRosto.idImagem||$utils.uuid();$db.jornada.doc.value.fotoRosto.idImagem=e,$db.jornada.doc.value.formatoRosto.tipoRosto=this.tipoRosto,$db.jornada.doc.value.formatoRosto.rosto=this.rostos[$db.jornada.doc.value.formatoRosto.tipoRosto],await $db.jornada.grava(),await $db.jornada.salvarImagem({idImagem:e,imagem:a})}catch(e){console.error(e),this.$q.notifyError(e.message)}finally{this.$q.loading.hide()}}},mounted(){this.tipoRosto=$db.jornada.doc.value.formatoRosto.tipoRosto,this.redimensiona();const a=this.$refs.quadro,e=this.$refs.foto;e.style.top=a.style.top,e.style.left=a.style.left,e.style.width=a.style.width,e.style.height=a.style.height,this.mudaCentralizaFoto()}},fe=a=>(se("data-v-ee5a070a"),a=a(),ie(),a),Uo=["src"],To={class:"quadro",ref:"quadro"},Do=fe(()=>r("span",{class:"hideonmobile"},"Formato Rosto",-1)),Ro={class:"hideondesktop"},Eo={class:"rosto",viewBox:"0 0 300 420"},Io=fe(()=>r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M154.7,27.6c41,0,95.2,20.4,112.7,77.9c21,69.1,9.3,153.6-3,190.6c-11.5,34.6-62.2,96.4-122,96.4c-27.9,0-69.5-19-109.8-109.7c-11.4-25.6-21-128.4,6.3-195.2C62,30.8,130.2,27.9,143.7,27.9c0.8,0,1.3,0,1.4,0l0.6,0l0.6,0C148.9,27.7,151.7,27.6,154.7,27.6z"},null,-1)),jo=[Io],Bo={class:"rosto",viewBox:"0 0 300 420"},No=fe(()=>r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M264.7,94.6C249.3,32.9,176.4,19,152,19l-1.1,0v0c-0.1,0-0.3,0-0.4,0l-0.5,0l-0.5,0c-0.1,0-0.3,0-0.4,0v0l-1.1,0c-24.3,0-97.2,13.9-112.6,75.6c-15.5,62-18.1,176.7,0.3,213.6c18.2,36.4,73.9,89.5,76.2,91.6l1.2,1.1l36,0.1v0l1,0l1,0v0l36-0.1l1.2-1.1c2.4-2.1,58-55.1,76.2-91.6C282.8,271.3,280.2,156.6,264.7,94.6z"},null,-1)),So=[No],Lo={class:"rosto",viewBox:"0 0 300 420"},Ho=fe(()=>r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M289.8,214.2c-5.9-82.9-9.5-133-34.3-159.2C232.1,30.3,189.1,13.9,150,14.5C110.9,13.9,67.9,30.3,44.5,55c-24.8,26.2-28.4,76.2-34.3,159.2l-0.1,0.9l0.3,0.9C42.2,305.7,98.9,407,150,405.5c51.1,1.5,107.8-99.9,139.6-189.5l0.3-0.9L289.8,214.2z"},null,-1)),Qo=[Ho],Go={class:"rosto",viewBox:"0 0 300 420"},Xo=fe(()=>r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M264.7,101C255,52.4,204.6,12.7,151,10.4v-0.1c-0.3,0-0.7,0-1,0c-0.3,0-0.7,0-1,0v0.1,C95.4,12.7,45,52.4,35.3,101c-7.4,37-6.8,100.2-6.3,150.9c0.1,11.9,0.2,23.2,0.2,33.5v0.6l0.2,0.6,c14.3,48.7,74.8,115.3,119.6,122.8v0.3c0.3,0,0.7-0.1,1-0.2c0.3,0,0.7,0.1,1,0.2v-0.3c44.8-7.5,105.3-74.1,119.6-122.8l0.2-0.6,v-0.6c0-10.2,0.1-21.5,0.2-33.5C271.5,201.2,272.1,138.1,264.7,101z"},null,-1)),Yo=[Xo],Wo={class:"rosto",viewBox:"0 0 300 420"},Jo=fe(()=>r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M280.7,173.8c-13.1-65.3-32.8-109.4-60.4-134.8c-24.7-22.7-51.4-25.6-70.3-25.3c-18.9-0.3-45.6,2.6-70.3,25.3c-27.6,25.3-47.3,69.4-60.4,134.8l-0.1,0.5l0,0.5c1.5,68.2,15.3,97.7,36.1,142.3l0.4,0.9c26.2,56.1,60,88.3,92.8,88.3c0.5,0,1,0,1.5,0c0.5,0,1,0,1.5,0c32.8,0,66.6-32.2,92.8-88.3l0.4-0.9c20.8-44.6,34.6-74.1,36.1-142.3l0-0.5L280.7,173.8z"},null,-1)),Zo=[Jo],Ko={class:"ZonaTouch"},$o=fe(()=>r("div",{class:"BaseBotoes"},null,-1)),et={style:{width:"45px",height:"45px"},viewBox:"0 0 300 420"},ot=["fill"],tt={style:{width:"45px",height:"45px"},viewBox:"0 0 300 420"},lt=["fill"],at={style:{width:"45px",height:"45px"},viewBox:"0 0 300 420"},st=["fill"],it={style:{width:"45px",height:"45px"},viewBox:"0 0 300 420"},rt=["fill"],nt={style:{width:"45px",height:"45px"},viewBox:"0 0 300 420"},dt=["fill"];function ut(a,e,u,m,t,i){const n=k("g-col"),d=k("g-row");return p(),_(L,{class:"bg-white",style:{overflow:"hidden"}},{default:l(()=>[o(ae,{onResize:i.redimensiona},null,8,["onResize"]),r("img",{src:t.fotoRosto,class:"Foto",ref:"foto",onContextmenu:e[0]||(e[0]=F(()=>{},["prevent"]))},null,40,Uo),r("div",To,null,512),o(R,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[1]||(e[1]=b=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(J,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),O(T,null,N(a.$db.jornada.menu,(b,h)=>y((p(),_(U,{key:h,onClick:s=>a.$emit("mudarTela",b.tela),clickable:""},{default:l(()=>[o(A,null,{default:l(()=>[v(q(b.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1})]),_:1}),o(j,null,{default:l(()=>[Do,r("span",Ro,q(t.rostos[t.tipoRosto]),1)]),_:1}),o(c,{onClick:e[2]||(e[2]=b=>i.atualizar()),icon:"refresh",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=b=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[4]||(e[4]=b=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),r("div",null,[y((p(),O("svg",Eo,jo,512)),[[Q,t.tipoRosto===1]]),y((p(),O("svg",Bo,So,512)),[[Q,t.tipoRosto===2]]),y((p(),O("svg",Lo,Qo,512)),[[Q,t.tipoRosto===3]]),y((p(),O("svg",Go,Yo,512)),[[Q,t.tipoRosto===4]]),y((p(),O("svg",Wo,Zo,512)),[[Q,t.tipoRosto===5]])]),o(c,{class:"BtUpload",icon:"attachment",size:"md",round:"",color:"primary",onContextmenu:e[5]||(e[5]=F(()=>{},["prevent"])),onClick:i.uploadClick},null,8,["onClick"]),o(c,{class:"TirarFoto",onClick:i.imagemCameraInput,color:"primary",size:"md",round:"",icon:"camera"},null,8,["onClick"]),o(c,{class:"ExcluirFoto",onClick:i.excluirFoto,color:"primary",size:"md",round:"",icon:"delete"},null,8,["onClick"]),y(o(c,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in",onContextmenu:e[6]||(e[6]=F(()=>{},["prevent"]))},null,512),[[D,i.zoomMais,"0:20",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out",onContextmenu:e[7]||(e[7]=F(()=>{},["prevent"]))},null,512),[[D,i.zoomMenos,"0:20",{mouse:!0,enter:!0,space:!0}]]),y(r("div",Ko,null,512),[[ne,i.touch,void 0,{prevent:!0,mouse:!0}]]),$o,y(o(c,{class:"moveUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[8]||(e[8]=F(()=>{},["prevent"]))},null,512),[[D,i.moveUp,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"moveDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[9]||(e[9]=F(()=>{},["prevent"]))},null,512),[[D,i.moveDown,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"moveRight",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:e[10]||(e[10]=F(()=>{},["prevent"]))},null,512),[[D,i.moveRight,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"moveLeft",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:e[11]||(e[11]=F(()=>{},["prevent"]))},null,512),[[D,i.moveLeft,"0:50",{mouse:!0,enter:!0,space:!0}]]),o(ue,{class:"bg-light text-tertiary border-top"},{default:l(()=>[o(d,{text:"center",justify:"center"},{default:l(()=>[o(n,{onClick:e[12]||(e[12]=b=>t.tipoRosto=1),col:"xs sm-shrink",mg:"sm-t xs-x",class:"cursor-pointer"},{default:l(()=>[(p(),O("svg",et,[r("path",{fill:t.tipoRosto===1?"#003fff":"#555555",d:"M154.7,27.6c41,0,95.2,20.4,112.7,77.9c21,69.1,9.3,153.6-3,190.6c-11.5,34.6-62.2,96.4-122,96.4c-27.9,0-69.5-19-109.8-109.7c-11.4-25.6-21-128.4,6.3-195.2C62,30.8,130.2,27.9,143.7,27.9c0.8,0,1.3,0,1.4,0l0.6,0l0.6,0C148.9,27.7,151.7,27.6,154.7,27.6z"},null,8,ot)])),o($,{anchor:"top middle",self:"center middle"},{default:l(()=>[v("Redondo")]),_:1})]),_:1}),o(n,{onClick:e[13]||(e[13]=b=>t.tipoRosto=2),col:"xs sm-shrink",mg:"sm-t xs-x",class:"cursor-pointer"},{default:l(()=>[(p(),O("svg",tt,[r("path",{fill:t.tipoRosto===2?"#003fff":"#555555",d:"M264.7,94.6C249.3,32.9,176.4,19,152,19l-1.1,0v0c-0.1,0-0.3,0-0.4,0l-0.5,0l-0.5,0c-0.1,0-0.3,0-0.4,0v0l-1.1,0c-24.3,0-97.2,13.9-112.6,75.6c-15.5,62-18.1,176.7,0.3,213.6c18.2,36.4,73.9,89.5,76.2,91.6l1.2,1.1l36,0.1v0l1,0l1,0v0l36-0.1l1.2-1.1c2.4-2.1,58-55.1,76.2-91.6C282.8,271.3,280.2,156.6,264.7,94.6z"},null,8,lt)])),o($,{anchor:"top middle",self:"center middle"},{default:l(()=>[v("Quadrado")]),_:1})]),_:1}),o(n,{onClick:e[14]||(e[14]=b=>t.tipoRosto=3),col:"xs sm-shrink",mg:"sm-t xs-x",class:"cursor-pointer"},{default:l(()=>[(p(),O("svg",at,[r("path",{fill:t.tipoRosto===3?"#003fff":"#555555",d:"M289.8,214.2c-5.9-82.9-9.5-133-34.3-159.2C232.1,30.3,189.1,13.9,150,14.5C110.9,13.9,67.9,30.3,44.5,55c-24.8,26.2-28.4,76.2-34.3,159.2l-0.1,0.9l0.3,0.9C42.2,305.7,98.9,407,150,405.5c51.1,1.5,107.8-99.9,139.6-189.5l0.3-0.9L289.8,214.2z"},null,8,st)])),o($,{anchor:"top middle",self:"center middle"},{default:l(()=>[v("Cora\xE7\xE3o")]),_:1})]),_:1}),o(n,{onClick:e[15]||(e[15]=b=>t.tipoRosto=4),col:"xs sm-shrink",mg:"sm-t xs-x",class:"cursor-pointer"},{default:l(()=>[(p(),O("svg",it,[r("path",{fill:t.tipoRosto===4?"#003fff":"#555555",d:"M264.7,101C255,52.4,204.6,12.7,151,10.4v-0.1c-0.3,0-0.7,0-1,0c-0.3,0-0.7,0-1,0v0.1C95.4,12.7,45,52.4,35.3,101c-7.4,37-6.8,100.2-6.3,150.9c0.1,11.9,0.2,23.2,0.2,33.5v0.6l0.2,0.6c14.3,48.7,74.8,115.3,119.6,122.8v0.3c0.3,0,0.7-0.1,1-0.2c0.3,0,0.7,0.1,1,0.2v-0.3c44.8-7.5,105.3-74.1,119.6-122.8l0.2-0.6v-0.6c0-10.2,0.1-21.5,0.2-33.5C271.5,201.2,272.1,138.1,264.7,101z"},null,8,rt)])),o($,{anchor:"top middle",self:"center middle"},{default:l(()=>[v("Triangular")]),_:1})]),_:1}),o(n,{onClick:e[16]||(e[16]=b=>t.tipoRosto=5),col:"xs sm-shrink",mg:"sm-t xs-x",class:"cursor-pointer"},{default:l(()=>[(p(),O("svg",nt,[r("path",{fill:t.tipoRosto===5?"#003fff":"#555555",d:"M280.7,173.8c-13.1-65.3-32.8-109.4-60.4-134.8c-24.7-22.7-51.4-25.6-70.3-25.3c-18.9-0.3-45.6,2.6-70.3,25.3c-27.6,25.3-47.3,69.4-60.4,134.8l-0.1,0.5l0,0.5c1.5,68.2,15.3,97.7,36.1,142.3l0.4,0.9c26.2,56.1,60,88.3,92.8,88.3c0.5,0,1,0,1.5,0c0.5,0,1,0,1.5,0c32.8,0,66.6-32.2,92.8-88.3l0.4-0.9c20.8-44.6,34.6-74.1,36.1-142.3l0-0.5L280.7,173.8z"},null,8,dt)])),o($,{anchor:"top middle",self:"center middle"},{default:l(()=>[v("Oval")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var mt=H(Mo,[["render",ut],["__scopeId","data-v-ee5a070a"]]);const ct={data(){return{tipoRosto:1,nomeRosto:"Redondo",nomesRosto:["Redondo","Quadrado","Cora\xE7\xE3o","Triangular","Oval"],urlsArmacoesDestaque:{11:"statics/jornada/armacoes/arma\xE7\xF5es - novas-05.svg",12:"statics/jornada/armacoes/arma\xE7\xF5es - novas-06.svg",13:"statics/jornada/armacoes/arma\xE7\xF5es - novas-07.svg",14:"statics/jornada/armacoes/arma\xE7\xF5es - novas-08.svg",21:"statics/jornada/armacoes/arma\xE7\xF5es - novas-09.svg",22:"statics/jornada/armacoes/arma\xE7\xF5es - novas-10.svg",23:"statics/jornada/armacoes/arma\xE7\xF5es - novas-11.svg",24:"statics/jornada/armacoes/arma\xE7\xF5es - novas-12.svg",31:"statics/jornada/armacoes/arma\xE7\xF5es - novas-13.svg",32:"statics/jornada/armacoes/arma\xE7\xF5es - novas-14.svg",33:"statics/jornada/armacoes/arma\xE7\xF5es - novas-15.svg",34:"statics/jornada/armacoes/arma\xE7\xF5es - novas-05.svg",41:"statics/jornada/armacoes/arma\xE7\xF5es - novas-06.svg",42:"statics/jornada/armacoes/arma\xE7\xF5es - novas-07.svg",43:"statics/jornada/armacoes/arma\xE7\xF5es - novas-08.svg",44:"statics/jornada/armacoes/arma\xE7\xF5es - novas-09.svg",51:"statics/jornada/armacoes/arma\xE7\xF5es - novas-09.svg",52:"statics/jornada/armacoes/arma\xE7\xF5es - novas-10.svg",53:"statics/jornada/armacoes/arma\xE7\xF5es - novas-11.svg",54:"statics/jornada/armacoes/arma\xE7\xF5es - novas-12.svg"},rosto:"",armacaoSelecionada:"",armacaoDestaque:"",armacaoFator:1,zoom:100,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0},qtde:0}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega($db.jornada.doc.value.id),this.rosto=$db.jornada.b64Images.rosto,this.tipoRosto=$db.jornada.doc.value.formatoRosto.tipoRosto,this.nomeRosto=$db.jornada.doc.value.formatoRosto.rosto;const a=$db.jornada.doc.value.formatoArmacao.armacaoDestaque;a?(this.armacaoDestaque=a,this.armacaoSelecionada=this.urlsArmacoesDestaque[this.armacaoDestaque]):this.mudarArmacoes($db.jornada.doc.value.formatoRosto.tipoRosto),this.redimensiona(),$q.loading.hide()},async mudarTelaMenu(a){await this.salvar(),this.$emit("mudarTela",a)},async fecharModal(){await this.salvar(),this.$emit("fecharModal")},async btAnterior(){await this.salvar(),this.$emit("mudarTela","FormatoRosto")},async btProximo(){await this.salvar(),this.$emit("mudarTela","EscolherArmacao")},touch(a){const e=this.$refs.armacao;let u=0;try{u=a.evt.touches.length}catch{}if(this.qtde=u,this.pinca.scaling||u!==2&&Math.abs(a.delta.x+a.delta.y)<=20&&(e.style.left=parseFloat(e.style.left)+a.delta.x+"px",e.style.top=parseFloat(e.style.top)+a.delta.y+"px"),!this.pinca.scaling&&u===2){const m=this.distancia;m.x1i=a.evt.touches[0].pageX,m.y1i=a.evt.touches[0].pageY,m.x2i=a.evt.touches[1].pageX,m.y2i=a.evt.touches[1].pageY,m.distanciaInicial=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.width=parseFloat(e.style.width),this.pinca.height=parseFloat(e.style.height),this.pinca.top=parseFloat(e.style.top),this.pinca.left=parseFloat(e.style.left),this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.scaling=!0}if(this.pinca.scaling&&u===0&&setTimeout(()=>{this.pinca.scaling=!1},500),this.pinca.scaling&&u===2)try{const m=a.evt,t=Math.hypot(m.touches[0].pageX-m.touches[1].pageX,m.touches[0].pageY-m.touches[1].pageY)-this.pinca.zoom,i=this.$refs.armacao;i.style.width=this.pinca.width+t+"px",i.style.height=this.pinca.height+t*this.armacaoFator+"px",i.style.top=this.pinca.top-t/2*this.armacaoFator+"px",i.style.left=this.pinca.left-t/2+"px"}catch(m){console.log(m)}clearTimeout(this.debounce),this.debounce=setTimeout(this.salvar,500)},zoomMais(){const a=this.$refs.armacao;a.style.width=parseFloat(a.style.width)+2+"px",a.style.height=parseFloat(a.style.height)+2*this.armacaoFator+"px",a.style.top=parseFloat(a.style.top)-1*this.armacaoFator+"px",a.style.left=parseFloat(a.style.left)-1+"px",clearTimeout(this.debounce),this.debounce=setTimeout(this.salvar,500)},zoomMenos(){const a=this.$refs.armacao;a.style.width=parseFloat(a.style.width)-2+"px",a.style.height=parseFloat(a.style.height)-2*this.armacaoFator+"px",a.style.top=parseFloat(a.style.top)+1*this.armacaoFator+"px",a.style.left=parseFloat(a.style.left)+1+"px",clearTimeout(this.debounce),this.debounce=setTimeout(this.salvar,500)},mudarArmacoes(a){this.tipoRosto=a,this.nomeRosto=this.nomesRosto[a-1],this.armacaoDestaque=a+"1",this.armacaoSelecionada=this.urlsArmacoesDestaque[this.armacaoDestaque]},async mudarArmacao(a,e){this.armacaoSelecionada=a.target.src,this.armacaoDestaque=this.tipoRosto+""+e,await this.salvar()},async redimensiona(){const a=this.$refs.quadro,e=this.$refs.rosto,u=this.$refs.armacao,m=getComputedStyle(a),t=getComputedStyle(e);let i=getComputedStyle(u);const n=parseFloat(t.width)/parseFloat(t.height);parseFloat(m.width)/parseFloat(m.height)>n?(e.style.width="auto",e.style.height="100%"):(e.style.width="100%",e.style.height="auto");const b=$db.jornada.doc.value.formatoArmacao.medidasQuadro,h=$db.jornada.doc.value.formatoArmacao.medidasRosto,s=$db.jornada.doc.value.formatoArmacao.medidasArmacao;parseFloat(t.width)&&parseFloat(t.height)&&!(Object.values(b).every(Boolean)&&Object.values(h).every(Boolean)&&Object.values(s).every(Boolean))&&(console.log("NOVA JORNADA! ",t),b.width=m.width,b.height=m.height,h.width=t.width,h.height=t.height,u.style.width=parseFloat(t.width)*.7+"px",u.style.height="auto !important",u.style.top=(parseFloat(m.height)-parseFloat(t.height))/2+parseFloat(t.height)/5+"px",u.style.left=(parseFloat(m.width)-parseFloat(t.width))/2+parseFloat(t.width)/2-parseFloat(t.width)*.7/2+"px",await new Promise(I=>{const g=setInterval(()=>{i=getComputedStyle(u),parseFloat(i.width)&&parseFloat(i.top)&&parseFloat(i.left)&&(clearInterval(g),I())},10)}),s.width=i.width,s.height="auto !important",s.top=i.top,s.left=i.left,await this.salvar());const P={};P.quadro={width:parseFloat(b.width),height:parseFloat(b.height),top:(parseFloat(b.height)-parseFloat(h.height))/2,left:(parseFloat(b.width)-parseFloat(h.width))/2},P.rosto={width:parseFloat(h.width),height:parseFloat(h.height),top:(parseFloat(b.height)-parseFloat(h.height))/2,left:(parseFloat(b.width)-parseFloat(h.width))/2},P.armacao={width:parseFloat(s.width),height:parseFloat(s.height),top:parseFloat(s.top)-parseFloat(P.quadro.top),left:parseFloat(s.left)-parseFloat(P.quadro.left)};const f={};f.quadro={width:parseFloat(m.width),height:parseFloat(m.height),top:(parseFloat(m.height)-parseFloat(t.height))/2,left:(parseFloat(m.width)-parseFloat(t.width))/2},f.rosto={width:parseFloat(t.width),height:parseFloat(t.height),top:(parseFloat(m.height)-parseFloat(t.height))/2,left:(parseFloat(m.width)-parseFloat(t.width))/2},f.armacao={width:P.armacao.width*(f.rosto.width/P.rosto.width),height:"auto",top:f.quadro.top+P.armacao.top*(f.rosto.height/P.rosto.height),left:f.quadro.left+P.armacao.left*(f.rosto.width/P.rosto.width)},u.style.height=f.armacao.height,f.armacao.width>f.rosto.width?u.style.width=$utils.arredondar(parseFloat(t.width)*.7,4)+"px":u.style.width=$utils.arredondar(f.armacao.width,4)+"px",f.armacao.top<0||f.armacao.top+parseFloat(i.height)>f.quadro.height?u.style.top=$utils.arredondar((f.quadro.height-f.rosto.height)/2+f.rosto.height/5,4)+"px":u.style.top=$utils.arredondar(f.armacao.top,4)+"px",f.armacao.left<0||f.armacao.left+f.armacao.width>f.quadro.width?u.style.left=$utils.arredondar((f.quadro.width-f.rosto.width)/2+(f.rosto.width-f.armacao.width)/2,4)+"px":u.style.left=$utils.arredondar(f.armacao.left,4)+"px"},async salvar(){$db.jornada.doc.value.formatoRosto.tipoRosto=this.tipoRosto,$db.jornada.doc.value.formatoRosto.rosto=this.nomeRosto,$db.jornada.doc.value.formatoArmacao.armacaoDestaque=this.armacaoDestaque;const a=this.$refs.armacao,e=this.$refs.rosto,u=this.$refs.quadro,m=getComputedStyle(a),t=getComputedStyle(e),i=getComputedStyle(u),n={width:i.width,height:i.height},d={width:t.width,height:t.height},b={top:m.top,left:m.left,width:m.width,height:m.height};$db.jornada.doc.value.formatoArmacao.medidasQuadro=n,$db.jornada.doc.value.formatoArmacao.medidasRosto=d,$db.jornada.doc.value.formatoArmacao.medidasArmacao=b,await $db.jornada.grava()}},mounted(){this.rosto=$db.jornada.b64Images.rosto,this.tipoRosto=$db.jornada.doc.value.formatoRosto.tipoRosto,this.nomeRosto=$db.jornada.doc.value.formatoRosto.rosto;const a=$db.jornada.doc.value.formatoArmacao.armacaoDestaque;a?(this.armacaoDestaque=a,this.armacaoSelecionada=this.urlsArmacoesDestaque[this.armacaoDestaque]):this.mudarArmacoes($db.jornada.doc.value.formatoRosto.tipoRosto),this.atualizar()}},pt={class:"quadro",ref:"quadro"},ft=["src"],ht=["src"],bt={class:"zonaTouch"},gt={class:"contentBtns"},vt={class:"hideonmobile"},_t={height:"40",viewBox:"0 0 300 420"},yt=["fill"],xt={height:"40",viewBox:"0 0 300 420"},Vt=["fill"],wt={height:"40",viewBox:"0 0 300 420"},Ct=["fill"],kt={height:"40",viewBox:"0 0 300 420"},Ot=["fill"],qt={height:"40",viewBox:"0 0 300 420"},zt=["fill"];function At(a,e,u,m,t,i){const n=k("g-col"),d=k("g-row");return p(),_(L,{id:"FormatoArmacao",view:"hHh LpR fFf",class:"bg-white",style:{overflow:"hidden"}},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[0]||(e[0]=b=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(J,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),O(T,null,N(a.$db.jornada.menu,(b,h)=>y((p(),_(U,{key:h,onClick:s=>i.mudarTelaMenu(b.tela),clickable:""},{default:l(()=>[o(A,null,{default:l(()=>[v(q(b.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1})]),_:1}),o(j,null,{default:l(()=>[v("Formato Arma\xE7\xE3o")]),_:1}),o(c,{onClick:e[1]||(e[1]=b=>i.atualizar()),icon:"refresh",round:"",flat:"",dense:""}),o(c,{onClick:e[2]||(e[2]=b=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=b=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1})]),_:1}),o(W,{style:{overflow:"hidden"}},{default:l(()=>[o(Z,{style:{overflow:"hidden"}},{default:l(()=>[o(ae,{onResize:i.redimensiona},null,8,["onResize"]),r("div",pt,[r("img",{class:"rosto",ref:"rosto",src:t.rosto,onContextmenu:e[4]||(e[4]=F(()=>{},["prevent"]))},null,40,ft)],512),r("img",{class:"armacao",ref:"armacao",src:t.armacaoSelecionada,onContextmenu:e[5]||(e[5]=F(()=>{},["prevent"])),style:{width:"100%",height:"auto !important",top:"0",left:"0"}},null,40,ht),y(r("div",bt,null,512),[[ne,i.touch,void 0,{prevent:!0,mouse:!0}]])]),_:1})]),_:1}),o(ue,{class:"bg-light q-pa-none",reveal:""},{default:l(()=>[r("div",gt,[y(o(c,{onContextmenu:e[6]||(e[6]=F(()=>{},["prevent"])),icon:"zoom_in",color:"primary",size:"md",round:"",class:"zoomMais"},null,512),[[D,i.zoomMais,"0:20",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{onContextmenu:e[7]||(e[7]=F(()=>{},["prevent"])),icon:"zoom_out",color:"primary",size:"md",round:"",class:"zoomMenos"},null,512),[[D,i.zoomMenos,"0:20",{mouse:!0,enter:!0,space:!0}]])]),o(d,{bordered:"top"},{default:l(()=>[t.tipoRosto===1?(p(),O(T,{key:0},[o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="11"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[8]||(e[8]=b=>i.mudarArmacao(b,1)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-05.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="12"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[9]||(e[9]=b=>i.mudarArmacao(b,2)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-06.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="13"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[10]||(e[10]=b=>i.mudarArmacao(b,3)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-07.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="14"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[11]||(e[11]=b=>i.mudarArmacao(b,4)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-08.svg",class:"menuArmacoes"})]),_:1},8,["class"])],64)):w("",!0),t.tipoRosto===2?(p(),O(T,{key:1},[o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="21"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[12]||(e[12]=b=>i.mudarArmacao(b,1)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-09.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="22"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[13]||(e[13]=b=>i.mudarArmacao(b,2)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-10.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="23"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[14]||(e[14]=b=>i.mudarArmacao(b,3)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-11.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="24"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[15]||(e[15]=b=>i.mudarArmacao(b,4)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-12.svg",class:"menuArmacoes"})]),_:1},8,["class"])],64)):w("",!0),t.tipoRosto===3?(p(),O(T,{key:2},[o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="31"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[16]||(e[16]=b=>i.mudarArmacao(b,1)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-13.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="32"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[17]||(e[17]=b=>i.mudarArmacao(b,2)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-14.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="33"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[18]||(e[18]=b=>i.mudarArmacao(b,3)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-15.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="34"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[19]||(e[19]=b=>i.mudarArmacao(b,4)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-05.svg",class:"menuArmacoes"})]),_:1},8,["class"])],64)):w("",!0),t.tipoRosto===4?(p(),O(T,{key:3},[o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="41"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[20]||(e[20]=b=>i.mudarArmacao(b,1)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-06.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="42"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[21]||(e[21]=b=>i.mudarArmacao(b,2)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-07.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="43"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[22]||(e[22]=b=>i.mudarArmacao(b,3)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-08.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="44"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[23]||(e[23]=b=>i.mudarArmacao(b,4)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-09.svg",class:"menuArmacoes"})]),_:1},8,["class"])],64)):w("",!0),t.tipoRosto===5?(p(),O(T,{key:4},[o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="51"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[24]||(e[24]=b=>i.mudarArmacao(b,1)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-09.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="52"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[25]||(e[25]=b=>i.mudarArmacao(b,2)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-10.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="53"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[26]||(e[26]=b=>i.mudarArmacao(b,3)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-11.svg",class:"menuArmacoes"})]),_:1},8,["class"]),o(n,{text:"center",bordered:"right",class:z(t.armacaoDestaque==="54"?"bg-blue-2":"")},{default:l(()=>[r("img",{onClick:e[27]||(e[27]=b=>i.mudarArmacao(b,4)),src:"statics/jornada/armacoes/arma\xE7\xF5es - novas-12.svg",class:"menuArmacoes"})]),_:1},8,["class"])],64)):w("",!0),o(n,{col:"shrink",text:"center"},{default:l(()=>[o(c,{"icon-right":"more_vert",size:"md",color:"linght","text-color":"tertiary",flat:"",class:"fit"},{default:l(()=>[r("span",vt,q(t.nomeRosto),1),o(ee,null,{default:l(()=>[y((p(),_(J,{link:"","no-border":"",separator:""},{default:l(()=>[y((p(),_(U,{onClick:e[28]||(e[28]=b=>i.mudarArmacoes(1)),clickable:"",class:z(t.tipoRosto===1?"bg-blue-2":"bg-none")},{default:l(()=>[o(A,{avatar:""},{default:l(()=>[(p(),O("svg",_t,[r("path",{fill:t.tipoRosto===1?"#003fff":"#555555",d:"M154.7,27.6c41,0,95.2,20.4,112.7,77.9c21,69.1,9.3,153.6-3,190.6c-11.5,34.6-62.2,96.4-122,96.4c-27.9,0-69.5-19-109.8-109.7c-11.4-25.6-21-128.4,6.3-195.2C62,30.8,130.2,27.9,143.7,27.9c0.8,0,1.3,0,1.4,0l0.6,0l0.6,0C148.9,27.7,151.7,27.6,154.7,27.6z"},null,8,yt)]))]),_:1}),o(A,null,{default:l(()=>[o(S,{class:z(t.tipoRosto===1?"text-primary":"text-tertiary")},{default:l(()=>[v("Redondo")]),_:1},8,["class"])]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{onClick:e[29]||(e[29]=b=>i.mudarArmacoes(2)),clickable:"",class:z(t.tipoRosto===2?"bg-blue-2":"bg-none")},{default:l(()=>[o(A,{avatar:""},{default:l(()=>[(p(),O("svg",xt,[r("path",{fill:t.tipoRosto===2?"#003fff":"#555555",d:"M264.7,94.6C249.3,32.9,176.4,19,152,19l-1.1,0v0c-0.1,0-0.3,0-0.4,0l-0.5,0l-0.5,0c-0.1,0-0.3,0-0.4,0v0l-1.1,0c-24.3,0-97.2,13.9-112.6,75.6c-15.5,62-18.1,176.7,0.3,213.6c18.2,36.4,73.9,89.5,76.2,91.6l1.2,1.1l36,0.1v0l1,0l1,0v0l36-0.1l1.2-1.1c2.4-2.1,58-55.1,76.2-91.6C282.8,271.3,280.2,156.6,264.7,94.6z"},null,8,Vt)]))]),_:1}),o(A,null,{default:l(()=>[o(S,{class:z(t.tipoRosto===2?"text-primary":"text-tertiary")},{default:l(()=>[v("Quadrado")]),_:1},8,["class"])]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{onClick:e[30]||(e[30]=b=>i.mudarArmacoes(3)),clickable:"",class:z(t.tipoRosto===3?"bg-blue-2":"bg-none")},{default:l(()=>[o(A,{avatar:""},{default:l(()=>[(p(),O("svg",wt,[r("path",{fill:t.tipoRosto===3?"#003fff":"#555555",d:"M289.8,214.2c-5.9-82.9-9.5-133-34.3-159.2C232.1,30.3,189.1,13.9,150,14.5C110.9,13.9,67.9,30.3,44.5,55c-24.8,26.2-28.4,76.2-34.3,159.2l-0.1,0.9l0.3,0.9C42.2,305.7,98.9,407,150,405.5c51.1,1.5,107.8-99.9,139.6-189.5l0.3-0.9L289.8,214.2z"},null,8,Ct)]))]),_:1}),o(A,null,{default:l(()=>[o(S,{class:z(t.tipoRosto===3?"text-primary":"text-tertiary")},{default:l(()=>[v("Cora\xE7\xE3o")]),_:1},8,["class"])]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{onClick:e[31]||(e[31]=b=>i.mudarArmacoes(4)),clickable:"",class:z(t.tipoRosto===4?"bg-blue-2":"bg-none")},{default:l(()=>[o(A,{avatar:""},{default:l(()=>[(p(),O("svg",kt,[r("path",{fill:t.tipoRosto===4?"#003fff":"#555555",d:"M264.7,101C255,52.4,204.6,12.7,151,10.4v-0.1c-0.3,0-0.7,0-1,0c-0.3,0-0.7,0-1,0v0.1C95.4,12.7,45,52.4,35.3,101c-7.4,37-6.8,100.2-6.3,150.9c0.1,11.9,0.2,23.2,0.2,33.5v0.6l0.2,0.6c14.3,48.7,74.8,115.3,119.6,122.8v0.3c0.3,0,0.7-0.1,1-0.2c0.3,0,0.7,0.1,1,0.2v-0.3c44.8-7.5,105.3-74.1,119.6-122.8l0.2-0.6v-0.6c0-10.2,0.1-21.5,0.2-33.5C271.5,201.2,272.1,138.1,264.7,101z"},null,8,Ot)]))]),_:1}),o(A,null,{default:l(()=>[o(S,{class:z(t.tipoRosto===4?"text-primary":"text-tertiary")},{default:l(()=>[v("Triangular")]),_:1},8,["class"])]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{onClick:e[32]||(e[32]=b=>i.mudarArmacoes(5)),clickable:"",class:z(t.tipoRosto===5?"bg-blue-2":"bg-none")},{default:l(()=>[o(A,{avatar:""},{default:l(()=>[(p(),O("svg",qt,[r("path",{fill:t.tipoRosto===5?"#003fff":"#555555",d:"M280.7,173.8c-13.1-65.3-32.8-109.4-60.4-134.8c-24.7-22.7-51.4-25.6-70.3-25.3c-18.9-0.3-45.6,2.6-70.3,25.3c-27.6,25.3-47.3,69.4-60.4,134.8l-0.1,0.5l0,0.5c1.5,68.2,15.3,97.7,36.1,142.3l0.4,0.9c26.2,56.1,60,88.3,92.8,88.3c0.5,0,1,0,1.5,0c0.5,0,1,0,1.5,0c32.8,0,66.6-32.2,92.8-88.3l0.4-0.9c20.8-44.6,34.6-74.1,36.1-142.3l0-0.5L280.7,173.8z"},null,8,zt)]))]),_:1}),o(A,null,{default:l(()=>[o(S,{class:z(t.tipoRosto===5?"text-primary":"text-tertiary")},{default:l(()=>[v("Oval")]),_:1},8,["class"])]),_:1})]),_:1},8,["class"])),[[M]])]),_:1})),[[M]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var Ft=H(ct,[["render",At],["__scopeId","data-v-4f9a2f34"]]);const Pt={data(){return{doc:$db.jornada.doc,espelhoCamera:!0,isDown:!1,startX:0,scrollLeft:0,infoContainerHeight:[]}},emits:["btProximo","fechar"],methods:{btProximo(a){this.$emit("btProximo",a)},onMouseDown(a){this.isDown=!0,this.startX=a.pageX-this.$refs.espelhoContainer.offsetLeft,this.scrollLeft=this.$refs.espelhoContainer.scrollLeft},onMouseLeave(){this.isDown=!1},onMouseUp(){this.isDown=!1},onMouseMove(a){if(!this.isDown)return;a.preventDefault();const u=(a.pageX-this.$refs.espelhoContainer.offsetLeft-this.startX)*1.5;this.$refs.espelhoContainer.scrollLeft=this.scrollLeft-u},async espelhoRemove(a){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a imagem.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{$q.loading.show(),this.doc.espelhos[a]=null,await $db.jornada.grava(),delete this.doc.espelhos[a],delete $db.jornada.b64Images.espelhos[a],Object.keys(this.doc.espelhos).length===0&&this.$emit("fechar"),$q.loading.hide()})},imagemHeight(){for(const a of Object.keys(this.doc.espelhos)){const e=document.getElementById(a);e&&(this.infoContainerHeight[a]=e.offsetHeight),console.log("IMAGEM HEIGHT: ",this.infoContainerHeight)}}},mounted(){this.$nextTick(()=>{this.imagemHeight()})}};function Mt(a,e,u,m,t,i){const n=k("g-col"),d=k("g-row"),b=k("g-label");return p(),_(L,{view:"hHh LpR fFf",class:"bg-white hide-scrollbar"},{default:l(()=>[r("div",null,[o(Y,null,{default:l(()=>[o(R,{class:"bg-primary text-white"},{default:l(()=>[o(d,{items:"center",justify:"between","no-wrap":"",class:"full-width"},{default:l(()=>[o(n,{class:"hideonmobile q-ml-xs"},{default:l(()=>[o(j,null,{default:l(()=>[v("Espelho")]),_:1})]),_:1}),o(n,{col:"shrink sm",text:"right"},{default:l(()=>[y(o(c,{icon:"add_a_photo",color:"white",round:"",flat:""},null,512),[[M]]),y(o(c,{icon:"close",round:"",flat:"",dense:""},null,512),[[M]])]),_:1})]),_:1})]),_:1})]),_:1}),o(W,null,{default:l(()=>[o(Z,null,{default:l(()=>[r("div",{class:"espelhoContainer",ref:"espelhoContainer",onMousedown:e[1]||(e[1]=(...h)=>i.onMouseDown&&i.onMouseDown(...h)),onMouseleave:e[2]||(e[2]=(...h)=>i.onMouseLeave&&i.onMouseLeave(...h)),onMouseup:e[3]||(e[3]=(...h)=>i.onMouseUp&&i.onMouseUp(...h)),onMousemove:e[4]||(e[4]=(...h)=>i.onMouseMove&&i.onMouseMove(...h))},[o(d,{"no-wrap":"",items:"center",height:"calc(100vh - 58px)"},{default:l(()=>[(p(!0),O(T,null,N(Object.keys(t.doc.espelhos),(h,s)=>(p(),_(n,{key:s,col:"xs12 sm7 md6 lg4",height:"100%",maxWidth:"550px"},{default:l(()=>[o(d,{gutter:"md",height:"100%",relative:"","rounded-borders":""},{default:l(()=>[o(n,{col:"12",height:"100%",bg:"bg-grey-4",relative:"","rounded-borders":"",style:{overflow:"hidden"}},{default:l(()=>[o(ae,{onResize:e[0]||(e[0]=P=>i.imagemHeight())}),o(d,{style:_e(`height:calc(100% - ${t.infoContainerHeight[h]}px)`),class:"q-px-sm q-pt-sm","rounded-borders":""},{default:l(()=>{var P,f;return[o(he,{src:(f=(P=a.$db.jornada.b64Images)==null?void 0:P.espelhos)==null?void 0:f[h],key:"cover",fit:"cover",class:"rounded-borders"},null,8,["src"])]}),_:2},1032,["style"]),o(d,{id:h,gutter:"md",bg:"bg-white","rounded-borders":"",class:"info-container"},{default:l(()=>[o(n,{self:"end"},{default:l(()=>[o(b,{text:"bold h6"},{default:l(()=>[v(q(a.$filters.numeroZerosDireita(a.$db.jornada.itens[h].valorVenda,4,2)),1)]),_:2},1024)]),_:2},1024),o(n,{col:"shrink",self:"end"},{default:l(()=>[o(c,{onClick:P=>i.espelhoRemove(h),icon:"delete",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:P=>i.btProximo(h),label:"Comprar",color:"primary",unelevated:"",class:"q-ml-sm"},null,8,["onClick"])]),_:2},1024),o(n,{col:"12",self:"top",bordered:"top"},{default:l(()=>[a.$db.jornada.itens[h].descricaoConcatenada?(p(),_(b,{key:0,text:"left bold",lines:"2"},{default:l(()=>[v(q(a.$db.jornada.itens[h].descricaoConcatenada),1)]),_:2},1024)):w("",!0)]),_:2},1024)]),_:2},1032,["id"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),o(n,{col:"grow",text:"center"},{default:l(()=>[y(o(c,{icon:"add_a_photo",size:"xl",color:"tertiary",round:"",flat:"",class:"q-pa-lg"},null,512),[[M]])]),_:1})]),_:1})],544)]),_:1})]),_:1})])]),_:1})}var Ut=H(Pt,[["render",Mt],["__scopeId","data-v-e99e5008"]]);const Tt={components:{Avatar:Me,SeletorCampoTabela:to,FotosEspelhadas:Ut},computed:{opcoesStatus(){return[{rotulo:"Linha",valor:"Linha"},{rotulo:"Fora de Linha",valor:"Fora de Linha"},{rotulo:"Promo\xE7\xE3o",valor:"Promo\xE7\xE3o"}]}},data(){return{doc:$db.jornada.doc,cTitulo:"",lista:[],listaOriginal:[],permissaoFicha:!1,permissaoEstoque:!1,sistemaPai:$utils.sistemaPai(),showFilters:!1,filtros:{ativo:null,descricaoAplicacao:null,codIdRef:null,codigoBarras:null,marca:null,fornecedores:null,grupo:null,subGrupo:null,status:null,estoque:null,tipo:"Arma\xE7\xE3o",codigoCompra:null},buscaCampo:"",opcoesMarca:[],opcoesGrupo:[],opcoesSubGrupo:[],opcoesTipo:[],paginacao:{atual:1,maximo:1,total:1,limite:28,ordenacao:["descricaoConcatenada"]},itemEspelho:{},mostrarEspelho:!1}},emits:["mudarTela","fecharModal"],methods:{async imagemCameraInput(a){if($q.platform.is.desktop){const e=await $g.promptCamera.show({sensor:!1});if(e.acao==="foto"){$q.loading.show();const u=e.foto,m=$utils.uuid();this.doc.espelhos[a.id]=m,await $db.jornada.salvarImagem({idImagem:m,imagem:u}),await $db.jornada.grava(),$db.jornada.b64Images.espelhos[a.id]=u,await this.atualizar(),$q.loading.hide()}}if($q.platform.is.mobile){const e=await $db.jornada.obterImagemCameraInput();if(e){$q.loading.show();const u=$utils.uuid();this.doc.espelhos[a.id]=u,await $db.jornada.salvarImagem({idImagem:u,imagem:e}),await $db.jornada.grava(),$db.jornada.b64Images.espelhos[a.id]=e,await this.atualizar(),$q.loading.hide()}}},fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","FormatoArmacao")},btProximo(a){a&&(this.mostrarEspelho=!1,this.doc.armacao.idItem=a,$db.jornada.grava()),this.$emit("mudarTela","TamanhoFoto")},btEspelho(){this.mostrarEspelho=!0},esconderEspelho(a){this.mostrarEspelho=a},async atualizar(){try{$q.loading.show(),await $db.jornada.carregaImagensEspelho();const a=$utils.eliminarVazios(this.filtros);a.ativo=!0,this.itemListaFiltro={...a,termoBusca:this.buscaCampo},localStorage.setItem("itemListaFiltro",JSON.stringify(this.itemListaFiltro));const e=await $db.item.ler({filtros:this.itemListaFiltro,limit:this.paginacao.limite,page:this.paginacao.atual,sort:this.paginacao.ordenacao});e.total||(e.total=e.total=e.data.length),e.totalPages||(e.totalPages=1);const u=$utils.clonarV2(e.data);if(this.doc.idItemTabelaPreco){const m=this.doc.idItemTabelaPreco,t=await $db.hibrido.lista({table:"itemTabelaPreco"}),i=t.find(n=>n.id===m);if(i!=null&&i.id)for(const n of u.filter(d=>d.valorVenda)){const d=await $db.itemTabelaPreco.obterValores(i,n,4,t);n.valorVenda=d.valorVenda||0}}this.listaOriginal=u,this.lista=$utils.clonar(u);for(const m of this.lista)$db.jornada.itens[m.id]=m;this.paginacao.total=e.total,this.paginacao.maximo=e.totalPages}catch(a){$q.notifyError("Erro iniciar",a)}finally{$q.loading.hide()}},onResize(){this.cTitulo=$utils.isMobile()?"Filtro: Escolha uma Arma\xE7\xE3o":"Filtro"},limparFiltros_click(){this.filtros={descricaoAplicacao:null,codIdRef:null,codigoBarras:null,marca:null,fornecedores:null,grupo:null,subGrupo:null,status:null,estoque:null,tipo:"Arma\xE7\xE3o",codigoCompra:null},this.atualizar()},async filtroFornecedor_click(){const a=await $g.promptContato.show({filtro:{ativo:!0}});a.nome&&(this.filtros.fornecedores=a.nome)},async leOpcoesMarca(){this.opcoesMarca=(await $db.item.leValoresUnicos("marca")).map(a=>({rotulo:a,valor:a}))},async leOpcoesGrupo(){this.opcoesGrupo=(await $db.item.leValoresUnicos("grupo")).map(a=>({rotulo:a,valor:a}))},async leOpcoesTipo(){this.sistemaPai==="optisoul"&&(this.opcoesTipo=[{rotulo:"Arma\xE7\xE3o",valor:"Arma\xE7\xE3o"},{rotulo:"\xD3culos de Sol",valor:"\xD3culos Sol"},{rotulo:"\xD3culos Vista (Pronto)",valor:"\xD3culos Pronto"}])},completarCodigoBarras(){!this.campos.codigoBarras&&!!this.campos.codigoItem&&(this.campos.codigoBarras=$utils.completarCodigoBarras(String(this.campos.codigoItem)))},async getImagesFromApi(a){try{const u=(await $utils.geeksApi({getImagesFromApi:{funcao:"DB75E495-D0F8-4F09-BB51-9F028BB87D8B",ean:a.codigoBarras}})).data.getImagesFromApi.replace(/(\[*\]*'*)/g,""),m=[];for(const t of u.split(",")){const i=await this.getImageB6FromApi(t);m.push({id:$utils.uuid(),dataCriacao:$utils.dataAtual(),nome:t,idTabelaMaster:a.id,arquivo:i})}return m}catch(e){console.log(e)}finally{$q.loading.hide()}},async getImageB6FromApi(a){const e=await $utils.geeksApi({getImagesFromApi:{funcao:"E480B438-2555-4936-B04D-77EC188E0ADB",path:a}});return e==null?void 0:e.data.getImagesFromApi}},async mounted(){$q.loading.show(),await $db.configuracoes.le({nome:"importarImagensEAN"}),this.permissaoFicha=await $db.permissao.objeto("item//ficha"),this.permissaoEstoque=await $db.permissao.objeto("item//estoque"),await this.atualizar(),$q.loading.hide()}},Dt={class:"fit bg-white rounded-borders"},Rt={class:"row q-col-gutter-x-sm q-pa-md"};function Et(a,e,u,m,t,i){const n=k("g-col"),d=k("g-row"),b=k("badge"),h=k("avatar"),s=k("g-label"),P=k("campo"),f=k("SeletorCampoTabela"),I=k("Fotos-Espelhadas");return p(),_(L,{id:"EscolherArmacao",view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,{class:"bg-primary text-white"},{default:l(()=>[o(d,{items:"center",justify:"between","no-wrap":"",class:"full-width"},{default:l(()=>[o(n,{col:"shrink"},{default:l(()=>[o(c,{onClick:e[0]||(e[0]=g=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(J,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),O(T,null,N(a.$db.jornada.menu,(g,E)=>y((p(),_(U,{key:E,onClick:V=>a.$emit("mudarTela",g.tela),clickable:""},{default:l(()=>[o(A,null,{default:l(()=>[v(q(g.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1})]),_:1})]),_:1}),o(n,{class:"hideonmobile",style:{"margin-left":"12px"}},{default:l(()=>[o(j,null,{default:l(()=>[v("Escolher Arma\xE7\xE3o")]),_:1})]),_:1}),o(n,{col:"xs sm6 md5 lg4"},{default:l(()=>[o(pe,{modelValue:t.buscaCampo,"onUpdate:modelValue":[e[3]||(e[3]=g=>t.buscaCampo=g),i.atualizar],debounce:500,placeholder:t.cTitulo,"clear-icon":"close",standout:"",filled:"",clearable:"",dense:"",dark:"",class:"q-mx-auto"},{prepend:l(()=>[o(B,{onClick:e[1]||(e[1]=()=>{t.showFilters=!t.showFilters}),name:"mdi-filter",class:"hideonmobile text-white cursor-pointer"}),o($,{anchor:"bottom middle",self:"center middle"},{default:l(()=>[v("Filtros Avan\xE7ados")]),_:1})]),append:l(()=>[o(B,{onClick:e[2]||(e[2]=()=>{t.showFilters=!t.showFilters}),name:"mdi-tune",class:"text-white cursor-pointer"}),o($,{anchor:"bottom middle",self:"center middle"},{default:l(()=>[v("Filtros Avan\xE7ados")]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue","placeholder"])]),_:1}),o(n,{col:"shrink sm",text:"right"},{default:l(()=>[y(o(c,{onClick:i.btEspelho,icon:"camera",round:"",flat:"",dense:""},null,8,["onClick"]),[[Q,Object.keys(t.doc.espelhos).length>1]]),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[4]||(e[4]=g=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[5]||(e[5]=g=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1})]),_:1})]),_:1})]),_:1}),o(W,null,{default:l(()=>[o(Z,null,{default:l(()=>[o(ae,{onResize:i.onResize},null,8,["onResize"]),o(d,{gutter:"md",justify:"center"},{default:l(()=>[(p(!0),O(T,null,N(t.lista,g=>(p(),_(n,{key:g.id,col:"12 sm6 md3","rounded-borders":"",class:"itemHover",bg:t.doc.espelhos[g.id]?"bg-tertiary":""},{default:l(()=>[r("div",Dt,[o(d,{gutter:"md","rounded-borders":"",class:"fit"},{default:l(()=>[o(n,{col:"12",self:"top",bordered:"bottom"},{default:l(()=>{var E,V;return[g.tipo?(p(),_(b,{key:0,cor:"primary",escuro:"",class:"absolute"},{default:l(()=>[v(q(g.tipo),1)]),_:2},1024)):w("",!0),t.doc.espelhos[g.id]?(p(),_(he,{src:(V=(E=a.$db.jornada.b64Images)==null?void 0:E.espelhos)==null?void 0:V[g.id],fit:"cover",key:"cover",position:"50% 0",style:{"max-width":"120px",height:"120px",display:"flex","align-self":"center",margin:"0 auto","border-radius":"10px"}},null,8,["src"])):(p(),_(h,{key:2,imagem:g.imagem,rotulo:g.descricaoConcatenada,tamanho:"120",style:{display:"flex","align-self":"center",margin:"0 auto"}},null,8,["imagem","rotulo"]))]}),_:2},1024),o(n,{col:"12",self:"top",bordered:"bottom"},{default:l(()=>[o(d,null,{default:l(()=>[o(n,null,{default:l(()=>[g.referencia?(p(),_(b,{key:0,cor:"tertiary",escuro:"",class:"q-mr-xs"},{default:l(()=>[v(q(g.referencia),1)]),_:2},1024)):w("",!0)]),_:2},1024),o(n,{text:"right"},{default:l(()=>[o(b,{cor:"positive",escuro:""},{default:l(()=>[v("#"+q((g.codigoItem||0).toString().padStart(4,"0")),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),g.descricaoConcatenada?(p(),_(s,{key:0,text:"left bold"},{default:l(()=>[v(q(g.descricaoConcatenada),1)]),_:2},1024)):w("",!0),g.marca?(p(),_(s,{key:1,text:"left caption"},{default:l(()=>[v(q(g.marca),1)]),_:2},1024)):w("",!0),g.grupo?(p(),_(b,{key:2},{default:l(()=>[v(q(g.grupo),1)]),_:2},1024)):w("",!0),g.subGrupo?(p(),_(b,{key:3,class:"q-ml-xs"},{default:l(()=>[v(q(g.subGrupo),1)]),_:2},1024)):w("",!0)]),_:2},1024),o(n,{self:"end"},{default:l(()=>[o(s,{text:"bold h6"},{default:l(()=>[v(q(a.$filters.numeroZerosDireita(g.valorVenda,4,2)),1)]),_:2},1024)]),_:2},1024),o(n,{col:"shrink",self:"end"},{default:l(()=>[t.doc.espelhos[g.id]?(p(),_(c,{key:1,onClick:i.btEspelho,icon:"camera",color:"tertiary",unelevated:"",round:"",class:"q-ml-sm"},null,8,["onClick"])):(p(),_(c,{key:0,onClick:E=>i.imagemCameraInput(g),icon:"camera",color:"primary",unelevated:"",round:"",class:"q-ml-sm"},null,8,["onClick"])),o(c,{onClick:E=>i.btProximo(g.id),label:"Comprar",color:"primary",unelevated:"",class:"q-ml-sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1032,["bg"]))),128))]),_:1})]),_:1})]),_:1}),o(ue,{class:"bg-light q-px-sm"},{default:l(()=>[o(d,{bordered:"top"},{default:l(()=>[o(n,null,{default:l(()=>[o(lo,{modelValue:t.paginacao.atual,"onUpdate:modelValue":[e[6]||(e[6]=g=>t.paginacao.atual=g),i.atualizar],max:t.paginacao.maximo,input:"",color:"tertiary",class:"justify-center"},null,8,["modelValue","onUpdate:modelValue","max"])]),_:1})]),_:1})]),_:1}),o(ao,{modelValue:t.showFilters,"onUpdate:modelValue":e[21]||(e[21]=g=>t.showFilters=g),side:"right",overlay:"",bordered:"",onKeyup:so(i.atualizar,["enter"])},{default:l(()=>[o(L,{view:"hHh lpR lFr"},{default:l(()=>[o(Y,{"height-hint":"98",class:"bg-white"},{default:l(()=>[o(R,{color:"white",class:"text-tertiary"},{default:l(()=>[o(B,{name:"mdi-filter",class:"text-h5"}),o(j,null,{default:l(()=>[v("Filtros Avan\xE7ados")]),_:1}),o(c,{onClick:e[7]||(e[7]=g=>t.showFilters=!t.showFilters),icon:"close",round:"",flat:"",dense:""})]),_:1})]),_:1}),o(W,{class:"q-pa-md"},{default:l(()=>[o(P,{modelValue:t.filtros.descricaoAplicacao,"onUpdate:modelValue":e[8]||(e[8]=g=>t.filtros.descricaoAplicacao=g),rotulo:"Descri\xE7\xE3o/Aplica\xE7\xE3o",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),o(P,{modelValue:t.filtros.codigoItem,"onUpdate:modelValue":e[9]||(e[9]=g=>t.filtros.codigoItem=g),rotulo:"C\xF3digo",prefix:"#",tipo:"decimal",decimals:"0",zerosDireita:"0",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),o(P,{modelValue:t.filtros.referencia,"onUpdate:modelValue":e[10]||(e[10]=g=>t.filtros.referencia=g),rotulo:"Refer\xEAncia",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),o(P,{modelValue:t.filtros.codigoBarras,"onUpdate:modelValue":e[11]||(e[11]=g=>t.filtros.codigoBarras=g),rotulo:"C\xF3d. Barras",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),o(f,{modelValue:t.filtros.marca,"onUpdate:modelValue":e[12]||(e[12]=g=>t.filtros.marca=g),tabela:"item",campo:"marca",label:"Marca",buscarSemCaractere:!0,dense:""},null,8,["modelValue"]),o(P,{modelValue:t.filtros.fornecedores,"onUpdate:modelValue":e[13]||(e[13]=g=>t.filtros.fornecedores=g),rotulo:"Fornecedor",after:[{icon:"search",handler:i.filtroFornecedor_click}],dense:"",class:"q-field--with-bottom"},null,8,["modelValue","after"]),o(f,{modelValue:t.filtros.grupo,"onUpdate:modelValue":e[14]||(e[14]=g=>t.filtros.grupo=g),tabela:"item",campo:"grupo",label:"Grupo",buscarSemCaractere:!0,dense:""},null,8,["modelValue"]),o(f,{modelValue:t.filtros.subGrupo,"onUpdate:modelValue":e[15]||(e[15]=g=>t.filtros.subGrupo=g),tabela:"item",campo:"subGrupo",label:"Subgrupo",buscarSemCaractere:!0,dense:""},null,8,["modelValue"]),o(P,{modelValue:t.filtros.status,"onUpdate:modelValue":e[16]||(e[16]=g=>t.filtros.status=g),rotuloFixo:"Status",tipo:"seletor",opcoes:i.opcoesStatus,dense:"",class:"q-field--with-bottom"},null,8,["modelValue","opcoes"]),o(P,{modelValue:t.filtros.estoque,"onUpdate:modelValue":e[17]||(e[17]=g=>t.filtros.estoque=g),rotulo:"Estoque",prefix:">",tipo:"decimal",decimals:"4",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),o(P,{modelValue:t.filtros.tipo,"onUpdate:modelValue":e[18]||(e[18]=g=>t.filtros.tipo=g),rotuloFixo:"Tipo",tipo:"seletor",opcoes:t.opcoesTipo,filter:"",onClick:i.leOpcoesTipo,dense:"",class:"q-field--with-bottom"},null,8,["modelValue","opcoes","onClick"]),o(P,{modelValue:t.filtros.codigoCompra,"onUpdate:modelValue":e[19]||(e[19]=g=>t.filtros.codigoCompra=g),rotulo:"Compra C\xF3d.",prefix:"#",tipo:"decimal",decimals:"0",zerosDireita:"0",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"]),o(P,{modelValue:t.paginacao.limite,"onUpdate:modelValue":e[20]||(e[20]=g=>t.paginacao.limite=g),min:"1",rotulo:"Quantidade por p\xE1gina",tipo:"quantidade",dense:"",class:"q-field--with-bottom"},null,8,["modelValue"])]),_:1}),o(ue,{class:"bg-white"},{default:l(()=>[r("div",Rt,[o(c,{onClick:i.limparFiltros_click,color:"tertiary",flat:"",label:"Limpar",unelevated:"",class:"col-6"},null,8,["onClick"]),o(c,{onClick:i.atualizar,color:"primary",label:"Aplicar",unelevated:"",class:"col-6 no-shadow"},null,8,["onClick"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onKeyup"]),o(de,{modelValue:t.mostrarEspelho,"onUpdate:modelValue":e[23]||(e[23]=g=>t.mostrarEspelho=g),persistent:"",maximized:""},{default:l(()=>[o(I,{onEsconderEspelho:i.esconderEspelho,onBtProximo:i.btProximo,onFechar:e[22]||(e[22]=()=>{t.mostrarEspelho=!1}),itemEspelho:t.itemEspelho},null,8,["onEsconderEspelho","onBtProximo","itemEspelho"])]),_:1},8,["modelValue"])]),_:1})}var It=H(Tt,[["render",Et],["__scopeId","data-v-4140ae34"]]);const jt={computed:{sensorHorizontalCor(){return this.sensor.horizontal<-10||this.sensor.horizontal>10?"red":"green"},sensorVerticalCor(){return this.sensor.vertical<85||this.sensor.vertical>95?"red":"green"},temFoto(){return this.dbPupilometro.foto!=="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC"}},data(){return{dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:90},zoom:3,camera:"environment",flashicon:"flash_off",orientation:{},capabilities:{},showModal:!1,cameras:[]}},emits:["mudarTela","fecharModal"],methods:{fecharModal(){this.closeCamera(),this.$emit("fecharModal")},btAnterior(){this.closeCamera(),this.$emit("mudarTela","EscolherArmacao")},btProximo(){this.closeCamera(),this.$emit("mudarTela","TamanhoFoto")},zoomMais(){try{this.zoom+=this.capabilities.zoom.step,this.zoom>this.capabilities.zoom.max&&(this.zoom=this.capabilities.zoom.max),this.track.applyConstraints({advanced:[{zoom:this.zoom}]})}catch(a){console.log("erro zoom + ",a)}},zoomMenos(){try{this.zoom-=this.capabilities.zoom.step,this.zoom<this.capabilities.zoom.min&&(this.zoom=this.capabilities.zoom.min),this.track.applyConstraints({advanced:[{zoom:this.zoom}]})}catch(a){console.log("erro zoom + ",a)}},async foto(){$q.loading.show();const a=this;a.flashicon==="flash_auto"&&(a.track.applyConstraints({advanced:[{torch:!0}]}),await new Promise(e=>setTimeout(e,1e3)));try{const e=await a.imageCapture.takePhoto(),u=document.createElement("canvas"),m=u.getContext("2d"),t=new Image;t.onload=async()=>{u.width=t.naturalWidth,u.height=t.naturalHeight,m.drawImage(t,0,0,t.naturalWidth,t.naturalHeight),a.dbPupilometro.fotoOriginal=u.toDataURL()+"",a.dbPupilometro.foto=u.toDataURL()+"",$db.jornada.b64Images.pupilometro=u.toDataURL()+"",await this.salvar(a.dbPupilometro.foto),a.$emit("mudarTela","TamanhoFoto"),a.flashicon==="flash_auto"&&a.track.applyConstraints({advanced:[{torch:!1}]}),a.closeCamera(),$q.loading.hide()},t.src=URL.createObjectURL(e)}catch(e){console.error("takePhoto() failed: ",e),$q.loading.hide()}},async salvar(a){try{$db.jornada.doc.pupilometro.idImagem=$utils.uuid(),await $db.jornada.grava(),await $db.jornada.salvarImagem({idImagem:$db.jornada.doc.pupilometro.idImagem,imagem:a})}catch(e){console.error(e),this.$q.notifyError(e.message)}},flash(){switch(this.flashicon){case"flash_on":this.flashicon="flash_off",this.track.applyConstraints({advanced:[{torch:!1}]});break;case"flash_off":this.flashicon="flash_auto",this.track.applyConstraints({advanced:[{torch:!1}]});break;case"flash_auto":this.flashicon="flash_on",this.track.applyConstraints({advanced:[{torch:!0}]})}},async uploadClick(){await $db.jornada.anexarFotoPupilometro()&&(this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.btProximo())},async trocarCamera(){try{let a=function(t=0){return new Promise(i=>setTimeout(i,t))},e={};const u=$db.jornada.lerCameraSelecionadaId();u&&(e={audio:!1,video:{deviceId:{exact:u},zoom:{ideal:3}}}),u||(this.camera==="user"?this.camera="environment":this.camera="user",e={audio:!1,video:{facingMode:this.camera,zoom:{ideal:3}}});let m=document.getElementById("trackTirarFoto");m||await new Promise(t=>{this.interval=setInterval(()=>{m=document.getElementById("trackTirarFoto"),m&&(clearInterval(this.interval),t())},10)}),m.setAttribute("playsinline",""),m.setAttribute("autoplay",""),m.setAttribute("muted","");try{m.srcObject.getTracks().forEach(t=>t.stop())}catch{}navigator.mediaDevices.getUserMedia(e).then(async t=>{m.srcObject=t,await a(1e3),this.track=t.getVideoTracks()[0],this.capabilities=this.track.getCapabilities();const i=this.track.getSettings();this.zoom=i.zoom,this.imageCapture=new ImageCapture(this.track)})}catch{}},escolherCamera(a){localStorage.setItem("cameraSelecionadaId",a),this.trocarCamera()},async closeCamera(){this.track&&this.track.stop()}},async created(){Object.keys($db.jornada.doc.pupilometro.medidas).length===0&&(this.dbPupilometro.limpar(),$db.jornada.doc.pupilometro.medidas=this.dbPupilometro.medidas,await $db.jornada.grava())},async mounted(){$q.notifyPositive("Tire uma foto usando a arma\xE7\xE3o, para a tomada de medidas do pupil\xF4metro."),$q.loading.show();try{window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",a=>{let e=0,u=0;window.orientation===90&&(u=parseInt(a.gamma),u=u<0?u*-1:180-Math.abs(u),u<91?e=parseInt(a.beta)*-1:(e=parseInt(a.beta)*-1,e=e>0?180-e:Math.abs(e)-180)),window.orientation===-90&&(e=parseInt(a.beta)*-1,u=parseInt(a.gamma),u=u<0?180+u:u,u<91?e=e===180?0:e:e=e>0?180-e:Math.abs(e)-180),window.orientation===0&&(u=parseInt(a.beta),u<91?e=parseInt(a.gamma)*-1:e=parseInt(a.gamma)),e>90&&(e=90),e<-90&&(e=-90),this.sensor.horizontal!==e&&(this.sensor.horizontal=e);let m=this.sensor.horizontal<-10||this.sensor.horizontal>10?"red":"green";m==="red"&&(document.querySelector(".SensorHorizontal .q-slider__thumb").style.visibility="visible"),m==="green"&&(document.querySelector(".SensorHorizontal .q-slider__thumb").style.visibility="hidden"),u>180&&(u=180),u<63&&(u=63),this.sensor.vertical!==u&&(this.sensor.vertical=u),m=this.sensor.vertical<85||this.sensor.vertical>95?"red":"green",m==="red"&&(document.querySelector(".SensorVertical .q-slider__thumb").style.visibility="visible"),m==="green"&&(document.querySelector(".SensorVertical .q-slider__thumb").style.visibility="hidden")},!1)}catch{}this.cameras=await $db.jornada.obterCamerasDisponiveis(),this.trocarCamera(),$q.loading.hide()},beforeUnmount(){try{this.track.stop(),clearInterval(this.interval)}catch{}}},Bt={class:"container"};function Nt(a,e,u,m,t,i){return p(),_(L,{class:"bg-light"},{default:l(()=>[r("div",Bt,[r("video",{id:"trackTirarFoto",class:"Video",onContextmenu:e[0]||(e[0]=F(()=>{},["prevent"]))},null,32),o(qe,{modelValue:t.sensor.horizontal,"onUpdate:modelValue":e[1]||(e[1]=n=>t.sensor.horizontal=n),ref:"horizontal",class:"SensorHorizontal",color:i.sensorHorizontalCor,min:-90,max:90},null,8,["modelValue","color"]),o(B,{class:"remove_red_eye",name:"remove_red_eye",color:i.sensorHorizontalCor},null,8,["color"]),o(qe,{modelValue:t.sensor.vertical,"onUpdate:modelValue":e[2]||(e[2]=n=>t.sensor.vertical=n),ref:"vertical",class:"SensorVertical",color:i.sensorVerticalCor,min:63,max:180},null,8,["modelValue","color"])]),o(R,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[3]||(e[3]=n=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(me,{vertical:"",inset:"",class:"q-mx-sm"}),o(c,{onClick:e[4]||(e[4]=n=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(j,null,{default:l(()=>[v("Tirar Foto")]),_:1}),o(c,{onClick:e[5]||(e[5]=n=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1}),o(c,{class:"BtUpload",onClick:e[6]||(e[6]=n=>i.uploadClick()),color:"primary",size:"md",round:"",icon:"attachment"}),o(c,{class:"BtTrocarCamera",color:"primary",size:"md",round:"",icon:"loop"},{default:l(()=>[o(ee,{anchor:"top left",self:"bottom middle","auto-close":""},{default:l(()=>[(p(!0),O(T,null,N(t.cameras,(n,d)=>(p(),_(U,{clickable:"",key:d,onClick:b=>i.escolherCamera(n.deviceId)},{default:l(()=>[o(A,null,{default:l(()=>[v(q(n.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),o(c,{class:"BtFlash",onClick:i.flash,icon:t.flashicon,color:"primary",size:"md",round:"",ref:"BtFlash"},null,8,["onClick","icon"]),o(c,{class:"ZoomMais",onClick:e[7]||(e[7]=n=>i.zoomMais()),icon:"zoom_in",color:"primary",size:"md",round:""}),o(c,{class:"ZoomMenos",onClick:e[8]||(e[8]=n=>i.zoomMenos()),icon:"zoom_out",color:"primary",size:"md",round:""}),o(c,{class:"BtFoto",onClick:e[9]||(e[9]=n=>i.foto()),icon:"camera",color:"primary",size:"xl",round:""})]),_:1})}var St=H(jt,[["render",Nt],["__scopeId","data-v-06c5a6fb"]]);const Lt={data(){return{doc:$db.jornada.doc,imagem:{nome:"",base64:"",extensao:""},dbPupilometro:$db.pupilometro,foto:{},fotoFator:1,tipoRosto:1,sensor:{horizontal:0,vertical:0},zoom:100,pinca:{zoom:0,scaling:!1,width:0,height:0,top:0,left:0},distancia:{x1i:0,y1i:0,x2i:0,y2i:0,x1f:0,y1f:0,x2f:0,y2f:0,distanciaInicial:0,distanciaFinal:0},qtde:0}},watch:{"dbPupilometro.fotoOriginal":function(){this.mudaCentralizaFoto()}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),this.carregarFoto(),$q.loading.hide()},carregarFoto(){this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.redimensiona();const a=this.$refs.quadro,e=this.$refs.foto;e.style.top=a.style.top,e.style.left=a.style.left,e.style.width=a.style.width,e.style.height=a.style.height,this.mudaCentralizaFoto()},async uploadClick(){await $db.jornada.anexarFotoPupilometro()&&(this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro)},excluirFoto(){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a imagem.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{$q.loading.show();const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAATklEQVR42u3OMQEAAAgDINc/9Czh4QEJSDuvRVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUPDSAovln7Gzmi7KAAAAAElFTkSuQmCC";this.dbPupilometro.fotoOriginal=a,this.dbPupilometro.foto=a,await this.salvar(a),$q.loading.hide()})},async imagemCameraInput(){if($q.platform.is.desktop){const a=await $g.promptCamera.show({sensor:!1});a.acao==="foto"&&($q.loading.show(),this.dbPupilometro.fotoOriginal=a.foto,this.dbPupilometro.foto=a.foto,await this.salvar(a.foto),$q.loading.hide())}if($q.platform.is.mobile){const a=await $db.jornada.obterImagemCameraInput();a&&($q.loading.show(),this.dbPupilometro.fotoOriginal=a,this.dbPupilometro.foto=a,await this.salvar(a),$q.loading.hide())}},touch(a){const e=this.$refs.foto;let u=0;try{u=a.evt.touches.length}catch{}if(this.qtde=u,this.pinca.scaling||u!==2&&Math.abs(a.delta.x+a.delta.y)<=20&&(e.style.left=parseFloat(e.style.left)+a.delta.x+"px",e.style.top=parseFloat(e.style.top)+a.delta.y+"px"),!this.pinca.scaling&&u===2){const m=this.distancia;m.x1i=a.evt.touches[0].pageX,m.y1i=a.evt.touches[0].pageY,m.x2i=a.evt.touches[1].pageX,m.y2i=a.evt.touches[1].pageY,m.distanciaInicial=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.width=parseFloat(e.style.width),this.pinca.height=parseFloat(e.style.height),this.pinca.top=parseFloat(e.style.top),this.pinca.left=parseFloat(e.style.left),this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.pinca.scaling=!0}if(this.pinca.scaling&&u===0&&setTimeout(()=>{this.pinca.scaling=!1},500),this.pinca.scaling&&u===2)try{const m=a.evt,t=Math.hypot(m.touches[0].pageX-m.touches[1].pageX,m.touches[0].pageY-m.touches[1].pageY)-this.pinca.zoom,i=this.$refs.foto;i.style.width=this.pinca.width+t+"px",i.style.height=this.pinca.height+t*this.fotoFator+"px",i.style.top=this.pinca.top-t/2*this.fotoFator+"px",i.style.left=this.pinca.left-t/2+"px"}catch(m){console.log(m)}},zoomMais(){const a=this.$refs.foto;a.style.width=parseFloat(a.style.width)+2+"px",a.style.height=parseFloat(a.style.height)+2*this.fotoFator+"px",a.style.top=parseFloat(a.style.top)-1*this.fotoFator+"px",a.style.left=parseFloat(a.style.left)-1+"px"},zoomMenos(){const a=this.$refs.foto;a.style.width=parseFloat(a.style.width)-2+"px",a.style.height=parseFloat(a.style.height)-2*this.fotoFator+"px",a.style.top=parseFloat(a.style.top)+1*this.fotoFator+"px",a.style.left=parseFloat(a.style.left)+1+"px"},moveUp(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)-1+"px"},moveDown(){this.$refs.foto.style.top=parseFloat(this.$refs.foto.style.top)+1+"px"},moveRight(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)+1+"px"},moveLeft(){this.$refs.foto.style.left=parseFloat(this.$refs.foto.style.left)-1+"px"},mudaCentralizaFoto(){const a=this.$refs.quadro,e={top:parseInt(a.style.top),left:parseInt(a.style.left),width:parseInt(a.style.width),height:parseInt(a.style.height)},u=this.$refs.foto,m=new Image,t=this;m.onload=()=>{let i=m.width,n=m.height,d=1.001;m.width>m.height?d=e.width/m.height:d=e.width/m.width,i=parseInt(i*d),n=parseInt(n*d),u.style.top=(e.height-n)/2+e.top+"px",u.style.left=(e.width-i)/2+e.left+"px",u.style.width=i+"px",u.style.height=n+"px",t.fotoFator=m.height/m.width},m.src=this.dbPupilometro.fotoOriginal},fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","EscolherArmacao")},async btProximo(){$q.loading.show(),await $utils.dormir(300);const a=document.createElement("canvas"),e=a.getContext("2d"),u=this.$refs.foto;a.width=1200,a.height=1200;const m={left:parseFloat(this.$refs.foto.style.left),width:parseFloat(this.$refs.foto.style.width),top:parseFloat(this.$refs.foto.style.top),height:parseFloat(this.$refs.foto.style.height),naturalWidth:this.$refs.foto.naturalWidth,naturalHeight:this.$refs.foto.naturalHeight},t={left:parseFloat(this.$refs.quadro.style.left),width:parseFloat(this.$refs.quadro.style.width),top:parseFloat(this.$refs.quadro.style.top),height:parseFloat(this.$refs.quadro.style.height)},i={left:t.left-m.left,top:t.top-m.top};e.drawImage(u,i.left/m.width*m.naturalWidth,i.top/m.height*m.naturalHeight,t.width/m.width*m.naturalWidth,t.height/m.height*m.naturalHeight,0,0,1200,1200),this.dbPupilometro.fotoOriginal=a.toDataURL()+"",this.dbPupilometro.foto=a.toDataURL()+"",$db.jornada.b64Images.pupilometro=a.toDataURL()+"",await this.salvar(this.dbPupilometro.foto),this.doc.pupilometro.id||(this.doc.pupilometro.id=$utils.uuid(),await $db.jornada.grava()),$q.loading.hide(),this.pularPupilometro()},pularPupilometro(){$q.dialog({persistent:!0,title:"Pupil\xF4metro",message:"Deseja adiar a tomada de medidas do pupil\xF4metro para o fim da jornada?",cancel:{label:"Tirar medidas",push:!0,color:"tertiary",flat:!0},ok:{label:"Adiar",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async()=>{this.doc.pupilometro.medidasAdiadas=!0,await $db.jornada.grava(),this.$emit("mudarTela","Anamnese")}).onCancel(async()=>{this.doc.pupilometro.medidasAdiadas=!1,await $db.jornada.grava(),this.$emit("mudarTela","TamanhoArmacao")})},redimensiona(){const a=this.$refs.quadro,e=document.body.clientWidth-20,u=window.innerHeight-100-20;e>u?a.style.height=u+"px":a.style.height=e+"px",a.style.width=a.style.height,a.style.top=(window.innerHeight-parseInt(a.style.height)-20)/2+"px",a.style.left=(document.body.clientWidth-parseInt(a.style.width))/2+"px";const m=document.getElementsByClassName("rosto");for(const t of m)t.style.position="absolute",t.style.top=a.style.top,t.style.left=a.style.left,t.style.width=a.style.width,t.style.height=a.style.height},async salvar(a){try{this.doc.pupilometro.idImagem=$utils.uuid(),await $db.jornada.grava(),await $db.jornada.salvarImagem({idImagem:this.doc.pupilometro.idImagem,imagem:a})}catch(e){console.error(e),this.$q.notifyError(e.message)}}},mounted(){this.carregarFoto()}},be=a=>(se("data-v-d59766a4"),a=a(),ie(),a),Ht=["src"],Qt={class:"quadro",ref:"quadro"},Gt={key:0,class:"rosto",viewBox:"0 0 300 420"},Xt=be(()=>r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M154.7,27.6c41,0,95.2,20.4,112.7,77.9c21,69.1,9.3,153.6-3,190.6c-11.5,34.6-62.2,96.4-122,96.4c-27.9,0-69.5-19-109.8-109.7c-11.4-25.6-21-128.4,6.3-195.2C62,30.8,130.2,27.9,143.7,27.9c0.8,0,1.3,0,1.4,0l0.6,0l0.6,0C148.9,27.7,151.7,27.6,154.7,27.6z"},null,-1)),Yt=[Xt],Wt={key:1,class:"rosto",viewBox:"0 0 300 420"},Jt=be(()=>r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M264.7,94.6C249.3,32.9,176.4,19,152,19l-1.1,0v0c-0.1,0-0.3,0-0.4,0l-0.5,0l-0.5,0c-0.1,0-0.3,0-0.4,0v0l-1.1,0c-24.3,0-97.2,13.9-112.6,75.6c-15.5,62-18.1,176.7,0.3,213.6c18.2,36.4,73.9,89.5,76.2,91.6l1.2,1.1l36,0.1v0l1,0l1,0v0l36-0.1l1.2-1.1c2.4-2.1,58-55.1,76.2-91.6C282.8,271.3,280.2,156.6,264.7,94.6z"},null,-1)),Zt=[Jt],Kt={key:2,class:"rosto",viewBox:"0 0 300 420"},$t=be(()=>r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M289.8,214.2c-5.9-82.9-9.5-133-34.3-159.2C232.1,30.3,189.1,13.9,150,14.5C110.9,13.9,67.9,30.3,44.5,55c-24.8,26.2-28.4,76.2-34.3,159.2l-0.1,0.9l0.3,0.9C42.2,305.7,98.9,407,150,405.5c51.1,1.5,107.8-99.9,139.6-189.5l0.3-0.9L289.8,214.2z"},null,-1)),el=[$t],ol={key:3,class:"btRosto",viewBox:"0 0 300 420"},tl=be(()=>r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M264.7,101C255,52.4,204.6,12.7,151,10.4v-0.1c-0.3,0-0.7,0-1,0c-0.3,0-0.7,0-1,0v0.1,C95.4,12.7,45,52.4,35.3,101c-7.4,37-6.8,100.2-6.3,150.9c0.1,11.9,0.2,23.2,0.2,33.5v0.6l0.2,0.6,c14.3,48.7,74.8,115.3,119.6,122.8v0.3c0.3,0,0.7-0.1,1-0.2c0.3,0,0.7,0.1,1,0.2v-0.3c44.8-7.5,105.3-74.1,119.6-122.8l0.2-0.6,v-0.6c0-10.2,0.1-21.5,0.2-33.5C271.5,201.2,272.1,138.1,264.7,101z"},null,-1)),ll=[tl],al={key:4,class:"btRosto",viewBox:"0 0 300 420"},sl=be(()=>r("path",{"stroke-width":"2",stroke:"#18ffff",fill:"none",d:"M280.7,173.8c-13.1-65.3-32.8-109.4-60.4-134.8c-24.7-22.7-51.4-25.6-70.3-25.3c-18.9-0.3-45.6,2.6-70.3,25.3c-27.6,25.3-47.3,69.4-60.4,134.8l-0.1,0.5l0,0.5c1.5,68.2,15.3,97.7,36.1,142.3l0.4,0.9c26.2,56.1,60,88.3,92.8,88.3c0.5,0,1,0,1.5,0c0.5,0,1,0,1.5,0c32.8,0,66.6-32.2,92.8-88.3l0.4-0.9c20.8-44.6,34.6-74.1,36.1-142.3l0-0.5L280.7,173.8z"},null,-1)),il=[sl],rl={class:"ZonaTouch"},nl=be(()=>r("div",{class:"BaseBotoes"},null,-1));function dl(a,e,u,m,t,i){return p(),_(L,{class:"bg-light",style:{overflow:"hidden"}},{default:l(()=>[o(ae,{onResize:i.redimensiona},null,8,["onResize"]),r("img",{class:"Foto",ref:"foto",src:t.dbPupilometro.fotoOriginal,onContextmenu:e[0]||(e[0]=F(()=>{},["prevent"]))},null,40,Ht),r("div",Qt,null,512),o(R,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[1]||(e[1]=n=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(J,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),O(T,null,N(a.$db.jornada.menu,(n,d)=>y((p(),_(U,{key:d,onClick:b=>a.$emit("mudarTela",n.tela),clickable:""},{default:l(()=>[o(A,null,{default:l(()=>[v(q(n.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1})]),_:1}),o(j,null,{default:l(()=>[v("Pupil\xF4metro")]),_:1}),o(c,{onClick:e[2]||(e[2]=n=>i.atualizar()),icon:"refresh",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=n=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[4]||(e[4]=n=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),r("div",null,[t.tipoRosto===1?(p(),O("svg",Gt,Yt)):w("",!0),t.tipoRosto===2?(p(),O("svg",Wt,Zt)):w("",!0),t.tipoRosto===3?(p(),O("svg",Kt,el)):w("",!0),t.tipoRosto===4?(p(),O("svg",ol,ll)):w("",!0),t.tipoRosto===5?(p(),O("svg",al,il)):w("",!0)]),o(c,{class:"ExcluirFoto",onClick:e[5]||(e[5]=n=>i.excluirFoto()),color:"primary",size:"md",round:"",icon:"delete"}),o(c,{class:"BtUpload",icon:"attachment",size:"md",round:"",color:"primary",onContextmenu:e[6]||(e[6]=F(()=>{},["prevent"])),onClick:e[7]||(e[7]=n=>i.uploadClick())}),o(c,{class:"TirarFoto",onClick:e[8]||(e[8]=n=>i.imagemCameraInput()),color:"primary",size:"md",round:"",icon:"camera"}),y(o(c,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in",onContextmenu:e[9]||(e[9]=F(()=>{},["prevent"]))},null,512),[[D,i.zoomMais,"0:20",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out",onContextmenu:e[10]||(e[10]=F(()=>{},["prevent"]))},null,512),[[D,i.zoomMenos,"0:20",{mouse:!0,enter:!0,space:!0}]]),y(r("div",rl,null,512),[[ne,i.touch,void 0,{prevent:!0,mouse:!0}]]),nl,y(o(c,{class:"moveUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[11]||(e[11]=F(()=>{},["prevent"]))},null,512),[[D,i.moveUp,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"moveDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[12]||(e[12]=F(()=>{},["prevent"]))},null,512),[[D,i.moveDown,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"moveRight",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:e[13]||(e[13]=F(()=>{},["prevent"]))},null,512),[[D,i.moveRight,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"moveLeft",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:e[14]||(e[14]=F(()=>{},["prevent"]))},null,512),[[D,i.moveLeft,"0:50",{mouse:!0,enter:!0,space:!0}]])]),_:1})}var ul=H(Lt,[["render",dl],["__scopeId","data-v-d59766a4"]]);const ml={data(){return{doc:$db.jornada.doc,dbPupilometro:$db.pupilometro}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.dbPupilometro.medidas=$utils.clonar(this.doc.pupilometro.medidas),$q.loading.hide()},async fecharModal(){await this.salvar(),this.$emit("fecharModal")},async btAnterior(){await this.salvar(),this.$emit("mudarTela","TamanhoFoto")},async btProximo(){this.dbPupilometro.medidas.tamanhoArmacao>10?(await this.salvar(),this.$emit("mudarTela","Olho")):$q.notify({message:"Informe o tamanho da arma\xE7\xE3o",type:"negative"})},calcTamanhoArmacao(){const a=this.doc.pupilometro.tamanhoArmacao.aro,e=this.doc.pupilometro.tamanhoArmacao.nasal;this.dbPupilometro.medidas.tamanhoArmacao=a*2+e},redimensiona(){const a=this.$refs.foto;a.style.position="absolute";const e=document.body.clientWidth-20,u=window.innerHeight-120-20;e>u?a.style.height=u+"px":a.style.height=e+"px",a.style.width=a.style.height,a.style.top="101px",a.style.left=(document.body.clientWidth-parseInt(a.style.width))/2+"px"},async salvar(){$q.loading.show(),this.doc.pupilometro.medidas={...this.dbPupilometro.medidas},await $db.jornada.grava(),$q.loading.hide()}},mounted(){this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.dbPupilometro.medidas=$utils.clonar(this.doc.pupilometro.medidas)}},cl=r("span",null,"2x",-1),pl=r("span",null,"+",-1),fl=r("span",null,"=",-1),hl=["src"];function bl(a,e,u,m,t,i){const n=k("campo");return p(),_(L,{class:"bg-light",style:{overflow:"hidden"}},{default:l(()=>[o(R,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[0]||(e[0]=d=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(J,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),O(T,null,N(a.$db.jornada.menu,(d,b)=>y((p(),_(U,{key:b,onClick:h=>a.$emit("mudarTela",d.tela),clickable:""},{default:l(()=>[o(A,null,{default:l(()=>[v(q(d.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1})]),_:1}),o(j,null,{default:l(()=>[v("Tamanho Arma\xE7\xE3o")]),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[1]||(e[1]=d=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[2]||(e[2]=d=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),o(R,{class:"bg-light text-tertiary"},{default:l(()=>[o(Ve),cl,o(n,{modelValue:t.doc.pupilometro.tamanhoArmacao.aro,"onUpdate:modelValue":e[3]||(e[3]=d=>t.doc.pupilometro.tamanhoArmacao.aro=d),onBlur:i.calcTamanhoArmacao,tipo:"decimal",decimals:"2",suffix:"mm",rotulo:"Aro",color:"tertiary",outlined:"",dense:"",class:"q-mx-xs",style:{"max-width":"130px"}},null,8,["modelValue","onBlur"]),pl,o(n,{modelValue:t.doc.pupilometro.tamanhoArmacao.nasal,"onUpdate:modelValue":e[4]||(e[4]=d=>t.doc.pupilometro.tamanhoArmacao.nasal=d),onBlur:i.calcTamanhoArmacao,tipo:"decimal",decimals:"2",suffix:"mm",rotulo:"Nasal",color:"tertiary",outlined:"",dense:"",class:"q-mx-xs",style:{"max-width":"145px"}},null,8,["modelValue","onBlur"]),fl,o(n,{modelValue:t.dbPupilometro.medidas.tamanhoArmacao,"onUpdate:modelValue":e[5]||(e[5]=d=>t.dbPupilometro.medidas.tamanhoArmacao=d),onBlur:i.salvar,tipo:"decimal",decimals:"2",suffix:"mm",rotulo:"Tamanho",color:"tertiary",outlined:"",dense:"",class:"q-ml-xs q-px-none",style:{"max-width":"100px"}},null,8,["modelValue","onBlur"]),o(Ve)]),_:1}),r("img",{ref:"foto",class:"Foto",src:t.dbPupilometro.foto,onContextmenu:e[6]||(e[6]=F(()=>{},["prevent"]))},null,40,hl),o(ae,{onResize:i.redimensiona},null,8,["onResize"])]),_:1})}var gl=H(ml,[["render",bl]]);const vl={data(){return{doc:$db.jornada.doc,dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:2,pinca:{scaling:!1},qtde:0}},computed:{titulo(){const a=[];return a[1]="Olho Direito",a[2]="Olho Direito",a[3]="Centro Olho Direito",a[4]="Olho Esquerdo",a[5]="Olho Esquerdo",a[6]="Centro Olho Esquerdo",a[this.passo]}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.dbPupilometro.medidas=$utils.clonar(this.doc.pupilometro.medidas),$q.loading.hide()},sleep(a=0){return new Promise(e=>setTimeout(e,a))},desenha(){const a=this.$refs.quadro;let e=`scale(${this.zoom})`;[1,2,3].indexOf(this.passo)!==-1?e+=" translateX(15%)":e+=" translateX(-15%)",a.style.transform=e},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(a){let e=0;try{e=a.evt.touches.length}catch{}if(this.qtde=e,this.pinca.scaling||e!==2&&(this.$refs["p"+this.passo].style.left=parseFloat(this.$refs["p"+this.passo].style.left)+a.delta.x/this.zoom+"px",this.$refs["p"+this.passo].style.top=parseFloat(this.$refs["p"+this.passo].style.top)+a.delta.y/this.zoom+"px"),!this.pinca.scaling&&e===2&&(this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&e===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&e===2)try{const u=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+u/1e3,this.desenha()}catch{}},fecharModal(){this.$emit("fecharModal")},async btProximo(){if(this.passo>=1&&this.passo<=5){this.passo+=1,this.desenha();return}this.passo===6&&(this.dbPupilometro.medidas.olhoDireito={...this.dbPupilometro.medidas.olhoDireito,superior:{top:parseFloat(this.$refs.p1.style.top),left:parseFloat(this.$refs.p1.style.left)},centroOlho:{top:parseFloat(this.$refs.p3.style.top),left:parseFloat(this.$refs.p3.style.left)},inferior:{top:parseFloat(this.$refs.p2.style.top),left:parseFloat(this.$refs.p2.style.left)}},this.dbPupilometro.medidas.olhoEsquerdo={...this.dbPupilometro.medidas.olhoEsquerdo,superior:{top:parseFloat(this.$refs.p5.style.top),left:parseFloat(this.$refs.p5.style.left)},centroOlho:{top:parseFloat(this.$refs.p6.style.top),left:parseFloat(this.$refs.p6.style.left)},inferior:{top:parseFloat(this.$refs.p4.style.top),left:parseFloat(this.$refs.p4.style.left)}},this.dbPupilometro.medidas.diagonal.p1.left===0&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left,this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top,this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left,this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top),this.dbPupilometro.calcularDistancias(),await this.salvar(),this.$emit("mudarTela","Diagonal"))},btAnterior(){if(this.passo===1){this.$emit("mudarTela","TamanhoArmacao");return}this.passo>=2&&this.passo<=6&&(this.passo-=1,this.desenha())},moveu(a){const e=this.$refs["p"+this.passo];if(a==="up"){let u=parseFloat(e.style.top)-1;u<0&&(u=0),e.style.top=u+"px"}if(a==="down"&&(this.$refs["p"+this.passo].style.top=parseFloat(this.$refs["p"+this.passo].style.top)+1+"px"),a==="left"){let u=parseFloat(e.style.left)-1;u<0&&(u=0),e.style.left=u+"px"}a==="right"&&(this.$refs["p"+this.passo].style.left=parseFloat(this.$refs["p"+this.passo].style.left)+1+"px")},redimensiona(){const a=this.$refs.quadro;a.style.position="absolute";const e=document.body.clientWidth-20,u=window.innerHeight-60-20;e>u?this.zoom=u/1200:this.zoom=e/1200,this.zoom=this.zoom*2,a.style.top=(window.innerHeight-1200)/2+"px",a.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},async salvar(){$q.loading.show(),this.doc.pupilometro.medidas={...this.dbPupilometro.medidas},await $db.jornada.grava(),$q.loading.hide()}},async created(){this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px";const a=this.dbPupilometro.medidas;this.$refs.p1.style.top=a.olhoDireito.superior.top+"px",this.$refs.p1.style.left=a.olhoDireito.superior.left+"px",this.$refs.p3.style.top=a.olhoDireito.centroOlho.top+"px",this.$refs.p3.style.left=a.olhoDireito.centroOlho.left+"px",this.$refs.p2.style.top=a.olhoDireito.inferior.top+"px",this.$refs.p2.style.left=a.olhoDireito.inferior.left+"px",this.$refs.p5.style.top=a.olhoEsquerdo.superior.top+"px",this.$refs.p5.style.left=a.olhoEsquerdo.superior.left+"px",this.$refs.p6.style.top=a.olhoEsquerdo.centroOlho.top+"px",this.$refs.p6.style.left=a.olhoEsquerdo.centroOlho.left+"px",this.$refs.p4.style.top=a.olhoEsquerdo.inferior.top+"px",this.$refs.p4.style.left=a.olhoEsquerdo.inferior.left+"px",this.redimensiona()}},_l=a=>(se("data-v-6acf5e24"),a=a(),ie(),a),yl={ref:"quadro"},xl=["src"],Vl={ref:"p1",id:"p1"},wl={ref:"p2",id:"p2"},Cl={ref:"p3",id:"p3"},kl={ref:"p4",id:"p4"},Ol={ref:"p5",id:"p5"},ql={ref:"p6",id:"p6"},zl={class:"ZonaTouch"},Al=_l(()=>r("div",{class:"BaseBotoes"},null,-1));function Fl(a,e,u,m,t,i){return p(),_(L,{class:"bg-light",style:{overflow:"hidden"}},{default:l(()=>[o(ae,{onResize:i.redimensiona},null,8,["onResize"]),r("div",yl,[r("img",{ref:"foto",class:"Foto",src:t.dbPupilometro.foto,onContextmenu:e[0]||(e[0]=F(()=>{},["prevent"]))},null,40,xl),y(r("div",Vl,null,512),[[Q,t.passo===1]]),y(r("div",wl,null,512),[[Q,t.passo===2]]),y(r("div",Cl,null,512),[[Q,t.passo===3]]),y(r("div",kl,null,512),[[Q,t.passo===4]]),y(r("div",Ol,null,512),[[Q,t.passo===5]]),y(r("div",ql,null,512),[[Q,t.passo===6]])],512),o(R,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[1]||(e[1]=n=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(J,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),O(T,null,N(a.$db.jornada.menu,(n,d)=>y((p(),_(U,{key:d,onClick:b=>a.$emit("mudarTela",n.tela),clickable:""},{default:l(()=>[o(A,null,{default:l(()=>[v(q(n.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1})]),_:1}),o(j,null,{default:l(()=>[v(q(i.titulo),1)]),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[2]||(e[2]=n=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=n=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),y(o(c,{class:"ZoomMais",icon:"zoom_in",size:"md",round:"",color:"primary",onContextmenu:e[4]||(e[4]=F(()=>{},["prevent"]))},null,512),[[D,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"ZoomMenos",icon:"zoom_out",size:"md",round:"",color:"primary",onContextmenu:e[5]||(e[5]=F(()=>{},["prevent"]))},null,512),[[D,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(r("div",zl,null,512),[[ne,i.touch,void 0,{prevent:!0,mouse:!0}]]),Al,y(o(c,{class:"BtUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[6]||(e[6]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"BtDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[7]||(e[7]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"BtLeft",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:e[8]||(e[8]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"BtRight",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:e[9]||(e[9]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("right"),"0:50",{mouse:!0,enter:!0,space:!0}]])]),_:1})}var Pl=H(vl,[["render",Fl],["__scopeId","data-v-6acf5e24"]]);const Ml={data(){return{doc:$db.jornada.doc,dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:.87,pinca:{scaling:!1},linhaDiagonal:{x1:0,y1:0,x2:0,y2:0}}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.dbPupilometro.medidas=$utils.clonar(this.doc.pupilometro.medidas),$q.loading.hide()},fecharModal(){this.$emit("fecharModal")},async btProximo(){this.dbPupilometro.calcularDistancias(),await this.salvar(),this.$emit("mudarTela","Bifocal")},btAnterior(){this.$emit("mudarTela","Olho")},desenha(){const a=this.dbPupilometro.medidas;a.diagonal.distanciapx=Math.hypot(Math.abs(a.diagonal.p2.left-a.diagonal.p1.left),Math.abs(a.diagonal.p1.top-a.diagonal.p2.top)),a.diagonal.distancia=a.diagonal.distanciapx/a.fator,this.$refs.p1.style.top=a.diagonal.p1.top+"px",this.$refs.p1.style.left=a.diagonal.p1.left+"px",this.$refs.p2.style.top=a.diagonal.p2.top+"px",this.$refs.p2.style.left=a.diagonal.p2.left+"px",this.$refs.p2.style.height=a.diagonal.distanciapx+"px";const e=this.$refs.quadro;let u=`scale(${this.zoom.toFixed(2)})`;e.style.transform=u,this.linhaDiagonal.x1=a.diagonal.p1.left,this.linhaDiagonal.y1=a.diagonal.p1.top,this.linhaDiagonal.x2=a.diagonal.p2.left,this.linhaDiagonal.y2=a.diagonal.p2.top},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(a){let e=0;try{e=a.evt.touches.length}catch{}if(this.qtde=e,this.pinca.scaling||e!==2&&Math.abs(a.delta.x+a.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+a.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+a.delta.y+"px"),!this.pinca.scaling&&e===2&&(this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&e===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&e===2)try{const u=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+u/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},touchP(a,e){let u=0;try{u=a.evt.touches.length}catch{}this.pinca.scaling||u!==2&&(this.dbPupilometro.medidas.diagonal[e].top=this.dbPupilometro.medidas.diagonal[e].top+a.delta.y/this.zoom,this.dbPupilometro.medidas.diagonal[e].left=this.dbPupilometro.medidas.diagonal[e].left+a.delta.x/this.zoom,this.desenha())},touchP1(a){this.touchP(a,"p1")},touchP2(a){this.touchP(a,"p2")},moveu(a){a==="Bt1Up"&&(this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.diagonal.p1.top-1),a==="Bt1Down"&&(this.dbPupilometro.medidas.diagonal.p1.top=this.dbPupilometro.medidas.diagonal.p1.top+1),a==="Bt1Left"&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.diagonal.p1.left-1),a==="Bt1Right"&&(this.dbPupilometro.medidas.diagonal.p1.left=this.dbPupilometro.medidas.diagonal.p1.left+1),a==="Bt2Up"&&(this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.diagonal.p2.top-1),a==="Bt2Down"&&(this.dbPupilometro.medidas.diagonal.p2.top=this.dbPupilometro.medidas.diagonal.p2.top+1),a==="Bt2Left"&&(this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.diagonal.p2.left-1),a==="Bt2Right"&&(this.dbPupilometro.medidas.diagonal.p2.left=this.dbPupilometro.medidas.diagonal.p2.left+1),this.desenha()},redimensiona(){const a=this.$refs.quadro;a.style.position="absolute";const e=document.body.clientWidth-20,u=window.innerHeight-60-20;a.style.top=(window.innerHeight-1200)/2+"px",e>u?(this.zoom=u/1e3,a.style.left=(document.body.clientWidth-1200)/2+"px"):(this.zoom=e/600,a.style.left="-520px"),this.desenha()},async salvar(){$q.loading.show(),this.doc.pupilometro.medidas={...this.dbPupilometro.medidas},await $db.jornada.grava(),$q.loading.hide()}},async created(){this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px";const a=this.$refs.quadro;this.$refs.svgDiagonal.style.position="absolute",this.$refs.svgDiagonal.style.top=0,this.$refs.svgDiagonal.style.left=0,this.$refs.svgDiagonal.style.width=a.style.width,this.$refs.svgDiagonal.style.height=a.style.height,this.redimensiona()}},Ul={ref:"quadro"},Tl=["src"],Dl={ref:"svgDiagonal",class:"svgDiagonal"},Rl=["x1","y1","x2","y2"],El={ref:"p2",id:"p2",class:"text-primary"},Il={ref:"p1",id:"p1",class:"text-primary"};function jl(a,e,u,m,t,i){return p(),_(L,{class:"bg-light",style:{overflow:"hidden"}},{default:l(()=>[o(ae,{onResize:i.redimensiona},null,8,["onResize"]),r("div",Ul,[r("img",{ref:"foto",class:"Foto",src:t.dbPupilometro.foto,onContextmenu:e[0]||(e[0]=F(()=>{},["prevent"]))},null,40,Tl),y((p(),O("svg",Dl,[r("line",{stroke:"#0397ef","stroke-width":"5",x1:t.linhaDiagonal.x1,y1:t.linhaDiagonal.y1,x2:t.linhaDiagonal.x2,y2:t.linhaDiagonal.y2},null,8,Rl)])),[[ne,i.touch,void 0,{prevent:!0,mouse:!0}]]),r("div",El,[y(o(B,{name:"open_with",style:{"font-size":"4rem"}},null,512),[[ne,i.touchP2,void 0,{prevent:!0,mouse:!0}]])],512),r("div",Il,[y(o(B,{name:"open_with",style:{"font-size":"4rem"}},null,512),[[ne,i.touchP1,void 0,{prevent:!0,mouse:!0}]]),r("div",null,q(a.$filters.numero(t.dbPupilometro.medidas.diagonal.distancia,2))+" mm",1)],512)],512),o(R,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[1]||(e[1]=n=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(J,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),O(T,null,N(a.$db.jornada.menu,(n,d)=>y((p(),_(U,{key:d,onClick:b=>a.$emit("mudarTela",n.tela),clickable:""},{default:l(()=>[o(A,null,{default:l(()=>[v(q(n.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1})]),_:1}),o(j,null,{default:l(()=>[v("Diagonal")]),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[2]||(e[2]=n=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=n=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),y(o(c,{class:"ZoomMais",color:"primary",size:"md",round:"",icon:"zoom_in",onContextmenu:e[4]||(e[4]=F(()=>{},["prevent"]))},null,512),[[D,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"ZoomMenos",color:"primary",size:"md",round:"",icon:"zoom_out",onContextmenu:e[5]||(e[5]=F(()=>{},["prevent"]))},null,512),[[D,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"Bt1Up",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[6]||(e[6]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("Bt1Up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"Bt1Down",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[7]||(e[7]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("Bt1Down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"Bt1Left",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:e[8]||(e[8]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("Bt1Left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"Bt1Right",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:e[9]||(e[9]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("Bt1Right"),"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"Bt2Up",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[10]||(e[10]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("Bt2Up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"Bt2Down",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[11]||(e[11]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("Bt2Down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"Bt2Left",icon:"keyboard_arrow_left",size:"md",round:"",color:"primary",onContextmenu:e[12]||(e[12]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("Bt2Left"),"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"Bt2Right",icon:"keyboard_arrow_right",size:"md",round:"",color:"primary",onContextmenu:e[13]||(e[13]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("Bt2Right"),"0:50",{mouse:!0,enter:!0,space:!0}]])]),_:1})}var Bl=H(Ml,[["render",jl],["__scopeId","data-v-0e584ae7"]]);const Nl={data(){return{doc:$db.jornada.doc,dbPupilometro:$db.pupilometro,sensor:{horizontal:0,vertical:0},foto:"",passo:1,isDown:!1,x:0,y:0,zoom:3,pinca:{scaling:!1}}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.dbPupilometro.medidas=$utils.clonar(this.doc.pupilometro.medidas),$q.loading.hide()},sleep(a=0){return new Promise(e=>setTimeout(e,a))},desenha(){const a=this.dbPupilometro.medidas;this.$refs.odbifocal.style.height=a.olhoDireito.bifocalAltura+"px",this.$refs.odbifocal.style.left=a.olhoDireito.centroOlho.left+"px",this.$refs.odbifocal.style.top=a.olhoDireito.inferior.top-a.olhoDireito.bifocalAltura+"px",this.$refs.oebifocal.style.height=a.olhoEsquerdo.bifocalAltura+"px",this.$refs.oebifocal.style.left=a.olhoEsquerdo.centroOlho.left+"px",this.$refs.oebifocal.style.top=a.olhoEsquerdo.inferior.top-a.olhoEsquerdo.bifocalAltura+"px";const e=this.$refs.quadro;let u=`scale(${this.zoom.toFixed(2)})`;e.style.transform=u},zoomMais(){this.zoom+=.01,this.desenha()},zoomMenos(){this.zoom-=.01,this.desenha()},touch(a){let e=0;try{e=a.evt.touches.length}catch{}if(this.qtde=e,!this.pinca.scaling&&e===2&&(this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&e===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&e===2)try{const u=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+u/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}},moveu(a){a==="od-up"&&(this.dbPupilometro.medidas.olhoDireito.bifocalAltura=this.dbPupilometro.medidas.olhoDireito.bifocalAltura+1,this.desenha()),a==="od-down"&&(this.dbPupilometro.medidas.olhoDireito.bifocalAltura=this.dbPupilometro.medidas.olhoDireito.bifocalAltura-1,this.desenha()),a==="oe-up"&&(this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura=this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura+1,this.desenha()),a==="oe-down"&&(this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura=this.dbPupilometro.medidas.olhoEsquerdo.bifocalAltura-1,this.desenha())},fecharModal(){this.$emit("fecharModal")},async btProximo(){this.dbPupilometro.calcularDistancias(),await this.salvar(),this.$emit("mudarTela","Medidas")},btAnterior(){this.$emit("mudarTela","Diagonal")},redimensiona(){const a=this.$refs.quadro;a.style.position="absolute";const e=document.body.clientWidth-20,u=window.innerHeight-60-20;e>u?this.zoom=u/1e3:this.zoom=e/600,a.style.top=(window.innerHeight-1200)/2+"px",a.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},async salvar(){$q.loading.show(),this.doc.pupilometro.medidas={...this.dbPupilometro.medidas},await $db.jornada.grava(),$q.loading.hide()}},async created(){this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.$refs.quadro.style.width="1200px",this.$refs.quadro.style.height="1200px",this.redimensiona()}},ge=a=>(se("data-v-9219a58c"),a=a(),ie(),a),Sl={ref:"quadro"},Ll=["src"],Hl={ref:"p1",id:"p1"},Ql={ref:"p2",id:"p2"},Gl={ref:"odbifocal",id:"odbifocal"},Xl=ge(()=>r("div",null,null,-1)),Yl=ge(()=>r("div",null,null,-1)),Wl=ge(()=>r("div",null,null,-1)),Jl=[Xl,Yl,Wl],Zl={ref:"oebifocal",id:"oebifocal"},Kl=ge(()=>r("div",null,null,-1)),$l=ge(()=>r("div",null,null,-1)),ea=ge(()=>r("div",null,null,-1)),oa=[Kl,$l,ea];function ta(a,e,u,m,t,i){return p(),_(L,{class:"bg-light",style:{overflow:"hidden"}},{default:l(()=>[o(ae,{onResize:i.redimensiona},null,8,["onResize"]),r("div",Sl,[y(r("img",{ref:"foto",class:"Foto",src:t.dbPupilometro.foto,onContextmenu:e[0]||(e[0]=F(()=>{},["prevent"]))},null,40,Ll),[[ne,i.touch,void 0,{prevent:!0,mouse:!0}]]),y(r("div",Hl,null,512),[[Q,t.passo===1]]),y(r("div",Ql,null,512),[[Q,t.passo===2]]),r("div",Gl,Jl,512),r("div",Zl,oa,512)],512),o(R,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[1]||(e[1]=n=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(J,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),O(T,null,N(a.$db.jornada.menu,(n,d)=>y((p(),_(U,{key:d,onClick:b=>a.$emit("mudarTela",n.tela),clickable:""},{default:l(()=>[o(A,null,{default:l(()=>[v(q(n.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1})]),_:1}),o(j,null,{default:l(()=>[v("Bifocal")]),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[2]||(e[2]=n=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=n=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),y(o(c,{class:"ZoomMais",icon:"zoom_in",size:"md",round:"",color:"primary",onContextmenu:e[4]||(e[4]=F(()=>{},["prevent"]))},null,512),[[D,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"ZoomMenos",icon:"zoom_out",size:"md",round:"",color:"primary",onContextmenu:e[5]||(e[5]=F(()=>{},["prevent"]))},null,512),[[D,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"BtOdUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[6]||(e[6]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("od-up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"BtOdDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[7]||(e[7]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("od-down"),"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"BtOeUp",icon:"keyboard_arrow_up",size:"md",round:"",color:"primary",onContextmenu:e[8]||(e[8]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("oe-up"),"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"BtOeDown",icon:"keyboard_arrow_down",size:"md",round:"",color:"primary",onContextmenu:e[9]||(e[9]=F(()=>{},["prevent"]))},null,512),[[D,()=>i.moveu("oe-down"),"0:50",{mouse:!0,enter:!0,space:!0}]])]),_:1})}var la=H(Nl,[["render",ta],["__scopeId","data-v-9219a58c"]]);const aa={data(){return{doc:$db.jornada.doc,dbPupilometro:$db.pupilometro,foto:"",isDown:!1,x:0,y:0,zoom:1.6,zoomAnt:0,pinca:{scaling:!1},tela:{},qtde:0}},watch:{"dbPupilometro.medidas.bifocal":function(){this.dbPupilometro.medidas.bifocal&&this.$emit("mudarTela","Bifocal")}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro,this.dbPupilometro.medidas=$utils.clonar(this.doc.pupilometro.medidas),$q.loading.hide()},fecharModal(){this.$emit("fecharModal")},btAnterior(){this.dbPupilometro.medidas.bifocal?this.$emit("mudarTela","Bifocal"):this.$emit("mudarTela","Diagonal")},btProximo(){this.$emit("mudarTela","Anamnese")},btBifocal(){this.dbPupilometro.medidas.bifocal=!this.dbPupilometro.medidas.bifocal,this.dbPupilometro.medidas.bifocal&&this.$emit("mudarTela","Bifocal")},desenha(){try{const a=this.dbPupilometro.medidas;this.$refs.ods.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top+"px",this.$refs.ods.style.left=this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.odi.style.top=this.dbPupilometro.medidas.olhoDireito.inferior.top+"px",this.$refs.odi.style.left=this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.odc.style.top=this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.odc.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.oes.style.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top+"px",this.$refs.oes.style.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left+"px",this.$refs.oei.style.top=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top+"px",this.$refs.oei.style.left=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left+"px",this.$refs.oec.style.top=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.oec.style.left=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left+"px",this.$refs.tamanhoarmacao.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-120+"px",this.$refs.tamanhoarmacao.style.left=this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.tamanhoarmacao.style.width=this.dbPupilometro.medidas.olhoEsquerdo.superior.left-this.dbPupilometro.medidas.olhoDireito.superior.left+"px",this.$refs.diptotal.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-80+"px",this.$refs.diptotal.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.diptotal.style.width=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left-this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top-40+"px",this.$refs.dnpOd.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left+"px",this.$refs.dnpOd.style.width=a.tamanhoArmacaoPx/2-(a.olhoDireito.centroOlho.left-a.olhoDireito.superior.left)+"px",this.$refs.dnpOe.style.top=this.dbPupilometro.medidas.olhoEsquerdo.superior.top-40+"px",this.$refs.dnpOe.style.width=this.dbPupilometro.medidas.tamanhoArmacaoPx/2-(a.olhoEsquerdo.superior.left-a.olhoEsquerdo.centroOlho.left)+"px",this.$refs.dnpOe.style.left=this.dbPupilometro.medidas.olhoEsquerdo.superior.left-this.dbPupilometro.medidas.tamanhoArmacaoPx/2+"px",this.$refs.ponte.style.top=this.dbPupilometro.medidas.olhoDireito.superior.top+30+"px",this.$refs.ponte.style.left=this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.ponte.style.width=this.dbPupilometro.medidas.olhoEsquerdo.inferior.left-this.dbPupilometro.medidas.olhoDireito.inferior.left+"px",this.$refs.odaltura.style.top=this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.odaltura.style.left=this.dbPupilometro.medidas.olhoDireito.centroOlho.left-60+"px",this.$refs.odaltura.style.height=this.dbPupilometro.medidas.olhoDireito.inferior.top-this.dbPupilometro.medidas.olhoDireito.centroOlho.top+"px",this.$refs.oealtura.style.top=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.oealtura.style.left=this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.left+60+"px",this.$refs.oealtura.style.height=this.dbPupilometro.medidas.olhoEsquerdo.inferior.top-this.dbPupilometro.medidas.olhoEsquerdo.centroOlho.top+"px",this.$refs.odbifocal.style.height=a.olhoDireito.bifocalAltura+"px",this.$refs.odbifocal.style.left=a.olhoDireito.centroOlho.left+"px",this.$refs.odbifocal.style.top=a.olhoDireito.inferior.top-a.olhoDireito.bifocalAltura+"px",this.$refs.oebifocal.style.height=a.olhoEsquerdo.bifocalAltura+"px",this.$refs.oebifocal.style.left=a.olhoEsquerdo.centroOlho.left+"px",this.$refs.oebifocal.style.top=a.olhoEsquerdo.inferior.top-a.olhoEsquerdo.bifocalAltura+"px",this.$refs.oddiagonal.style.height=a.diagonal.distanciapx+"px",this.$refs.oddiagonal.style.left=a.diagonal.p2.left+"px",this.$refs.oddiagonal.style.top=a.diagonal.p2.top+"px";let e=a.diagonal.p2.left-a.diagonal.p1.left;e=Math.asin(e/a.diagonal.distanciapx)*(180/Math.PI),this.$refs.oddiagonal.style.transform=`rotate(${e}deg)`,this.$refs.oddiagonal.style["transform-origin"]="0% 0%",document.querySelector("#oddiagonal div:nth-child(1)").style.transform=`rotate(-${e}deg)`;const u=this.$refs.quadro;let m=`scale(${this.zoom.toFixed(2)})`;u.style.transform=m}catch(a){console.log(a)}},redimensiona(){const a=this.$refs.quadro;a.style.position="absolute";const e={clientWidth:document.body.clientWidth,clientHeight:window.innerHeight};if(JSON.stringify(this.tela)!==JSON.stringify(e)){this.tela=e;const u=document.body.clientWidth-20,m=window.innerHeight-60-20;u>m?this.zoom=m/1e3:this.zoom=u/800}a.style.top=(window.innerHeight-1200)/2+"px",a.style.left=(document.body.clientWidth-1200)/2+"px",this.desenha()},zoomMais(){this.zoom+=.01,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`},zoomMenos(){this.zoom-=.01,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`},touch(a){let e=0;try{e=a.evt.touches.length}catch{}if(this.qtde=e,this.pinca.scaling||e!==2&&Math.abs(a.delta.x+a.delta.y)<=20&&(this.$refs.quadro.style.left=parseFloat(this.$refs.quadro.style.left)+a.delta.x+"px",this.$refs.quadro.style.top=parseFloat(this.$refs.quadro.style.top)+a.delta.y+"px"),!this.pinca.scaling&&e===2&&(this.pinca.zoom=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY),this.zoomIni=parseFloat(this.zoom+""),this.pinca.scaling=!0),this.pinca.scaling&&e===0&&setTimeout(()=>{this.pinca.scaling=!1},250),this.pinca.scaling&&e===2)try{const u=Math.hypot(a.evt.touches[0].pageX-a.evt.touches[1].pageX,a.evt.touches[0].pageY-a.evt.touches[1].pageY)-this.pinca.zoom;this.zoom=this.zoomIni+u/1e3,this.$refs.quadro.style.transform=`scale(${this.zoom.toFixed(2)})`}catch{}}},async created(){this.dbPupilometro.fotoOriginal=$db.jornada.b64Images.pupilometro,this.dbPupilometro.foto=$db.jornada.b64Images.pupilometro},mounted(){this.$refs.quadro.style.top="0px",this.$refs.quadro.style.left="0px",this.redimensiona()}},K=a=>(se("data-v-73650bb2"),a=a(),ie(),a),sa={ref:"quadro",class:"Quadro"},ia=["src"],ra={ref:"ods",id:"ods"},na={ref:"odi",id:"odi"},da={ref:"odc",id:"odc"},ua={ref:"oei",id:"oei"},ma={ref:"oes",id:"oes"},ca={ref:"oec",id:"oec"},pa={ref:"tamanhoarmacao",id:"tamanhoarmacao"},fa=K(()=>r("div",null,null,-1)),ha=K(()=>r("div",null,null,-1)),ba={ref:"ponte",id:"ponte"},ga=K(()=>r("div",null,null,-1)),va=K(()=>r("div",null,null,-1)),_a={ref:"diptotal",id:"diptotal"},ya=K(()=>r("div",null,null,-1)),xa=K(()=>r("div",null,null,-1)),Va={ref:"dnpOd",id:"dnpOd",class:"medidaHorizontal"},wa=K(()=>r("div",null,null,-1)),Ca=K(()=>r("div",null,null,-1)),ka={ref:"dnpOe",id:"dnpOe",class:"medidaHorizontal"},Oa=K(()=>r("div",null,null,-1)),qa=K(()=>r("div",null,null,-1)),za={ref:"odaltura",id:"odaltura"},Aa=K(()=>r("div",null,null,-1)),Fa=K(()=>r("div",null,null,-1)),Pa={ref:"oealtura",id:"oealtura"},Ma=K(()=>r("div",null,null,-1)),Ua=K(()=>r("div",null,null,-1)),Ta={ref:"odbifocal",id:"odbifocal"},Da=K(()=>r("div",null,null,-1)),Ra=K(()=>r("div",null,null,-1)),Ea={ref:"oebifocal",id:"oebifocal"},Ia=K(()=>r("div",null,null,-1)),ja=K(()=>r("div",null,null,-1)),Ba={ref:"oddiagonal",id:"oddiagonal",class:"medidaVerticalAzul"},Na=K(()=>r("div",null,null,-1)),Sa=K(()=>r("div",null,null,-1));function La(a,e,u,m,t,i){return p(),_(L,{class:"bg-light",style:{overflow:"hidden"}},{default:l(()=>[o(ae,{onResize:i.redimensiona},null,8,["onResize"]),r("div",sa,[y(r("img",{ref:"foto",class:"Foto",src:t.dbPupilometro.foto,onContextmenu:e[0]||(e[0]=F(()=>{},["prevent"]))},null,40,ia),[[ne,i.touch,void 0,{prevent:!0,stop:!0,mouse:!0}]]),r("div",ra,null,512),r("div",na,null,512),r("div",da,null,512),r("div",ua,null,512),r("div",ma,null,512),r("div",ca,null,512),r("div",pa,[r("div",null,q(a.$filters.numero(t.dbPupilometro.medidas.tamanhoArmacao,2)),1),fa,ha],512),r("div",ba,[r("div",null,q(a.$filters.numero(t.dbPupilometro.medidas.ponte,2)),1),ga,va],512),r("div",_a,[r("div",null,q(a.$filters.numero(t.dbPupilometro.medidas.dip.total,2)),1),ya,xa],512),r("div",Va,[r("div",null,q(a.$filters.numero(t.dbPupilometro.medidas.dnp.od,2)),1),wa,Ca],512),r("div",ka,[r("div",null,q(a.$filters.numero(t.dbPupilometro.medidas.dnp.oe,2)),1),Oa,qa],512),r("div",za,[r("div",null,q(a.$filters.numero(t.dbPupilometro.medidas.dip.od.altura,2)),1),Aa,Fa],512),r("div",Pa,[r("div",null,q(a.$filters.numero(t.dbPupilometro.medidas.dip.oe.altura,2)),1),Ma,Ua],512),y(r("div",Ta,[r("div",null,q(a.$filters.numero(t.dbPupilometro.medidas.bifocalOlhoDireito,2)),1),Da,Ra],512),[[Q,t.dbPupilometro.medidas.bifocal]]),y(r("div",Ea,[r("div",null,q(a.$filters.numero(t.dbPupilometro.medidas.bifocalOlhoEsquerdo,2)),1),Ia,ja],512),[[Q,t.dbPupilometro.medidas.bifocal]]),r("div",Ba,[r("div",null,q(a.$filters.numero(t.dbPupilometro.medidas.diagonal.distancia,2)),1),Na,Sa],512)],512),o(R,{class:"bg-primary text-white"},{default:l(()=>[o(c,{onClick:e[1]||(e[1]=n=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(J,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),O(T,null,N(a.$db.jornada.menu,(n,d)=>y((p(),_(U,{key:d,onClick:b=>a.$emit("mudarTela",n.tela),clickable:""},{default:l(()=>[o(A,null,{default:l(()=>[v(q(n.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1})]),_:1}),o(j,null,{default:l(()=>[v("Medidas")]),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[2]||(e[2]=n=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(c,{onClick:e[3]||(e[3]=n=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1}),y(o(c,{class:"ZoomMais",icon:"zoom_in",size:"md",round:"",color:"primary",onContextmenu:e[4]||(e[4]=F(()=>{},["prevent"]))},null,512),[[D,i.zoomMais,"0:50",{mouse:!0,enter:!0,space:!0}]]),y(o(c,{class:"ZoomMenos",icon:"zoom_out",size:"md",round:"",color:"primary",onContextmenu:e[5]||(e[5]=F(()=>{},["prevent"]))},null,512),[[D,i.zoomMenos,"0:50",{mouse:!0,enter:!0,space:!0}]]),o(c,{class:"Bifocal",label:"Bifocal",color:"primary",onClick:i.btBifocal,onContextmenu:e[6]||(e[6]=F(()=>{},["prevent"]))},null,8,["onClick"])]),_:1})}var Ha=H(aa,[["render",La],["__scopeId","data-v-73650bb2"]]);const Qa={data(){return{doc:$db.jornada.doc}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){$q.loading.show(),await $db.jornada.carrega(this.doc.id),$q.loading.hide()},fecharModal(){this.$emit("fecharModal")},btAnterior(){this.doc.pupilometro.medidasAdiadas?this.$emit("mudarTela","TamanhoFoto"):this.$emit("mudarTela","Medidas")},btProximo(){this.$emit("mudarTela","Materiais")},async salvar(a){await $db.jornada.grava()}}};function Ga(a,e,u,m,t,i){const n=k("g-label"),d=k("g-col"),b=k("campo"),h=k("g-row");return p(),_(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=s=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(J,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),O(T,null,N(a.$db.jornada.menu,(s,P)=>y((p(),_(U,{key:P,onClick:f=>a.$emit("mudarTela",s.tela),clickable:""},{default:l(()=>[o(A,null,{default:l(()=>[v(q(s.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1})]),_:1}),o(j,null,{default:l(()=>[v("Anamnese")]),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:i.fecharModal,icon:"close",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[1]||(e[1]=s=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:""})]),_:1})]),_:1}),o(W,null,{default:l(()=>[o(Z,{class:"u-container q-pa-md q-mx-auto"},{default:l(()=>[o(h,null,{default:l(()=>[o(d,null,{default:l(()=>[o(h,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium regular",bordered:"bottom"},{default:l(()=>[v("Trabalho")]),_:1})]),_:1}),o(d,{col:"12 sm4 md3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[2]||(e[2]=s=>t.doc.anamnese.trabalho.profissao=s),e[3]||(e[3]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"estudante",label:"Estudante",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4 md3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[4]||(e[4]=s=>t.doc.anamnese.trabalho.profissao=s),e[5]||(e[5]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"empresario",label:"Empres\xE1rio(a)",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4 md3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[6]||(e[6]=s=>t.doc.anamnese.trabalho.profissao=s),e[7]||(e[7]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"do_lar",label:"Do lar",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4 md3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[8]||(e[8]=s=>t.doc.anamnese.trabalho.profissao=s),e[9]||(e[9]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"escritorio",label:"Escrit\xF3rio",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4 md3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[10]||(e[10]=s=>t.doc.anamnese.trabalho.profissao=s),e[11]||(e[11]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"motorista",label:"Motorista",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4 md3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[12]||(e[12]=s=>t.doc.anamnese.trabalho.profissao=s),e[13]||(e[13]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"saude",label:"Sa\xFAde (M\xE9dicos, enfermaria, etc...)",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4 md3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[14]||(e[14]=s=>t.doc.anamnese.trabalho.profissao=s),e[15]||(e[15]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"alto_risco_visual",label:"Alto risco visual",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12",mg:"lg-t"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>[v("Outros")]),_:1}),o(h,null,{default:l(()=>[o(d,{col:"6 sm4 md3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[16]||(e[16]=s=>t.doc.anamnese.trabalho.profissao=s),e[17]||(e[17]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"interno",label:"Interno",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.trabalho.profissao,"onUpdate:modelValue":[e[18]||(e[18]=s=>t.doc.anamnese.trabalho.profissao=s),e[19]||(e[19]=s=>i.salvar("anamnese.trabalho.profissao"))],val:"externo",label:"Externo",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm-grow"},{default:l(()=>[o(b,{modelValue:t.doc.anamnese.trabalho.outros,"onUpdate:modelValue":e[20]||(e[20]=s=>t.doc.anamnese.trabalho.outros=s),tipo:"textoArea",rows:"1",rotulo:"Descreva a profiss\xE3o",disable:!(t.doc.anamnese.trabalho.profissao==="interno"||t.doc.anamnese.trabalho.profissao=="externo"),onBlur:e[21]||(e[21]=s=>i.salvar("anamnese.trabalho.outros"))},null,8,["modelValue","disable"])]),_:1})]),_:1})]),_:1}),o(d,{col:"12",mg:"lg-t"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>[v("No trabalho, qual a dist\xE2ncia uso da vis\xE3o predominante?")]),_:1}),o(h,null,{default:l(()=>[o(d,{col:"6 sm3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.trabalho.predominancia,"onUpdate:modelValue":[e[22]||(e[22]=s=>t.doc.anamnese.trabalho.predominancia=s),e[23]||(e[23]=s=>i.salvar("anamnese.trabalho.predominancia"))],val:"nao_uso",label:"N\xE3o uso",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.trabalho.predominancia,"onUpdate:modelValue":[e[24]||(e[24]=s=>t.doc.anamnese.trabalho.predominancia=s),e[25]||(e[25]=s=>i.salvar("anamnese.trabalho.predominancia"))],val:"perto",label:"Perto",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.trabalho.predominancia,"onUpdate:modelValue":[e[26]||(e[26]=s=>t.doc.anamnese.trabalho.predominancia=s),e[27]||(e[27]=s=>i.salvar("anamnese.trabalho.predominancia"))],val:"intermediario",label:"Intermedi\xE1rio",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.trabalho.predominancia,"onUpdate:modelValue":[e[28]||(e[28]=s=>t.doc.anamnese.trabalho.predominancia=s),e[29]||(e[29]=s=>i.salvar("anamnese.trabalho.predominancia"))],val:"longe",label:"Longe",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(h,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>[v("Dire\xE7\xE3o")]),_:1})]),_:1}),o(d,{col:"12",mg:"lg-t"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>[v("Diurno")]),_:1}),o(h,{items:"center"},{default:l(()=>[o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.direcao.diurno,"onUpdate:modelValue":[e[30]||(e[30]=s=>t.doc.anamnese.direcao.diurno=s),e[31]||(e[31]=s=>i.salvar("anamnese.direcao.diurno"))],val:"nao_dirijo",label:"N\xE3o dirijo",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.direcao.diurno,"onUpdate:modelValue":[e[32]||(e[32]=s=>t.doc.anamnese.direcao.diurno=s),e[33]||(e[33]=s=>i.salvar("anamnese.direcao.diurno"))],val:"1",label:"1 hora",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.direcao.diurno,"onUpdate:modelValue":[e[34]||(e[34]=s=>t.doc.anamnese.direcao.diurno=s),e[35]||(e[35]=s=>i.salvar("anamnese.direcao.diurno"))],val:"1a2",label:" 1 \xE1 2 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.direcao.diurno,"onUpdate:modelValue":[e[36]||(e[36]=s=>t.doc.anamnese.direcao.diurno=s),e[37]||(e[37]=s=>i.salvar("anamnese.direcao.diurno"))],val:"4",label:"4 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.direcao.diurno,"onUpdate:modelValue":[e[38]||(e[38]=s=>t.doc.anamnese.direcao.diurno=s),e[39]||(e[39]=s=>i.salvar("anamnese.direcao.diurno"))],val:"8",label:"8 horas",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(d,{col:"12",mg:"lg-t"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>[v("Noturno")]),_:1}),o(h,{items:"center"},{default:l(()=>[o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.direcao.noturno,"onUpdate:modelValue":[e[40]||(e[40]=s=>t.doc.anamnese.direcao.noturno=s),e[41]||(e[41]=s=>i.salvar("anamnese.direcao.noturno"))],val:"nao_dirijo",label:"N\xE3o dirijo",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.direcao.noturno,"onUpdate:modelValue":[e[42]||(e[42]=s=>t.doc.anamnese.direcao.noturno=s),e[43]||(e[43]=s=>i.salvar("anamnese.direcao.noturno"))],val:"1",label:"1 hora",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.direcao.noturno,"onUpdate:modelValue":[e[44]||(e[44]=s=>t.doc.anamnese.direcao.noturno=s),e[45]||(e[45]=s=>i.salvar("anamnese.direcao.noturno"))],val:"1a2",label:" 1 \xE1 2 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.direcao.noturno,"onUpdate:modelValue":[e[46]||(e[46]=s=>t.doc.anamnese.direcao.noturno=s),e[47]||(e[47]=s=>i.salvar("anamnese.direcao.noturno"))],val:"4",label:"4 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.direcao.noturno,"onUpdate:modelValue":[e[48]||(e[48]=s=>t.doc.anamnese.direcao.noturno=s),e[49]||(e[49]=s=>i.salvar("anamnese.direcao.noturno"))],val:"8",label:"8 horas",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(h,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>[v("Celular / Redes sociais")]),_:1})]),_:1}),o(d,{col:"12",mg:"lg-t"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>[v("Diurno")]),_:1}),o(h,{items:"center"},{default:l(()=>[o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.celular.diurno,"onUpdate:modelValue":[e[50]||(e[50]=s=>t.doc.anamnese.celular.diurno=s),e[51]||(e[51]=s=>i.salvar("anamnese.celular.diurno"))],val:"nao_uso",label:"N\xE3o uso",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.celular.diurno,"onUpdate:modelValue":[e[52]||(e[52]=s=>t.doc.anamnese.celular.diurno=s),e[53]||(e[53]=s=>i.salvar("anamnese.celular.diurno"))],val:"1",label:"1 hora",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.celular.diurno,"onUpdate:modelValue":[e[54]||(e[54]=s=>t.doc.anamnese.celular.diurno=s),e[55]||(e[55]=s=>i.salvar("anamnese.celular.diurno"))],val:"1a2",label:" 1 \xE1 2 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.celular.diurno,"onUpdate:modelValue":[e[56]||(e[56]=s=>t.doc.anamnese.celular.diurno=s),e[57]||(e[57]=s=>i.salvar("anamnese.celular.diurno"))],val:"4",label:"4 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.celular.diurno,"onUpdate:modelValue":[e[58]||(e[58]=s=>t.doc.anamnese.celular.diurno=s),e[59]||(e[59]=s=>i.salvar("anamnese.celular.diurno"))],val:"8",label:"8 horas",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(d,{col:"12",mg:"lg-t"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>[v("Noturno")]),_:1}),o(h,{items:"center"},{default:l(()=>[o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.celular.noturno,"onUpdate:modelValue":[e[60]||(e[60]=s=>t.doc.anamnese.celular.noturno=s),e[61]||(e[61]=s=>i.salvar("anamnese.celular.noturno"))],val:"nao_uso",label:"N\xE3o uso",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.celular.noturno,"onUpdate:modelValue":[e[62]||(e[62]=s=>t.doc.anamnese.celular.noturno=s),e[63]||(e[63]=s=>i.salvar("anamnese.celular.noturno"))],val:"1",label:"1 hora",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.celular.noturno,"onUpdate:modelValue":[e[64]||(e[64]=s=>t.doc.anamnese.celular.noturno=s),e[65]||(e[65]=s=>i.salvar("anamnese.celular.noturno"))],val:"1a2",label:" 1 \xE1 2 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.celular.noturno,"onUpdate:modelValue":[e[66]||(e[66]=s=>t.doc.anamnese.celular.noturno=s),e[67]||(e[67]=s=>i.salvar("anamnese.celular.noturno"))],val:"4",label:"4 horas",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.celular.noturno,"onUpdate:modelValue":[e[68]||(e[68]=s=>t.doc.anamnese.celular.noturno=s),e[69]||(e[69]=s=>i.salvar("anamnese.celular.noturno"))],val:"8",label:"8 horas",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(h,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>[v("Lazer")]),_:1})]),_:1}),o(d,{col:"12"},{default:l(()=>[o(h,{gutter:"none-y",mg:"lg-b",items:"center",justify:"between"},{default:l(()=>[o(d,{col:"12 sm-grow"}),o(d,{col:"shrink"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("Nenhum")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("Pouco")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("Regular")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("Muito")]),_:1})]),_:1})]),_:1}),o(h,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("TV (Filmes, S\xE9ries, Esportes)")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.tv,"onUpdate:modelValue":[e[70]||(e[70]=s=>t.doc.anamnese.lazer.tv=s),e[71]||(e[71]=s=>i.salvar("anamnese.lazer.tv"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.tv,"onUpdate:modelValue":[e[72]||(e[72]=s=>t.doc.anamnese.lazer.tv=s),e[73]||(e[73]=s=>i.salvar("anamnese.lazer.tv"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.tv,"onUpdate:modelValue":[e[74]||(e[74]=s=>t.doc.anamnese.lazer.tv=s),e[75]||(e[75]=s=>i.salvar("anamnese.lazer.tv"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.tv,"onUpdate:modelValue":[e[76]||(e[76]=s=>t.doc.anamnese.lazer.tv=s),e[77]||(e[77]=s=>i.salvar("anamnese.lazer.tv"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(h,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("Cozinhar")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.cozinhar,"onUpdate:modelValue":[e[78]||(e[78]=s=>t.doc.anamnese.lazer.cozinhar=s),e[79]||(e[79]=s=>i.salvar("anamnese.lazer.cozinhar"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.cozinhar,"onUpdate:modelValue":[e[80]||(e[80]=s=>t.doc.anamnese.lazer.cozinhar=s),e[81]||(e[81]=s=>i.salvar("anamnese.lazer.cozinhar"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.cozinhar,"onUpdate:modelValue":[e[82]||(e[82]=s=>t.doc.anamnese.lazer.cozinhar=s),e[83]||(e[83]=s=>i.salvar("anamnese.lazer.cozinhar"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.cozinhar,"onUpdate:modelValue":[e[84]||(e[84]=s=>t.doc.anamnese.lazer.cozinhar=s),e[85]||(e[85]=s=>i.salvar("anamnese.lazer.cozinhar"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(h,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("Leituras")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.leituras,"onUpdate:modelValue":[e[86]||(e[86]=s=>t.doc.anamnese.lazer.leituras=s),e[87]||(e[87]=s=>i.salvar("anamnese.lazer.leituras"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.leituras,"onUpdate:modelValue":[e[88]||(e[88]=s=>t.doc.anamnese.lazer.leituras=s),e[89]||(e[89]=s=>i.salvar("anamnese.lazer.leituras"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.leituras,"onUpdate:modelValue":[e[90]||(e[90]=s=>t.doc.anamnese.lazer.leituras=s),e[91]||(e[91]=s=>i.salvar("anamnese.lazer.leituras"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.leituras,"onUpdate:modelValue":[e[92]||(e[92]=s=>t.doc.anamnese.lazer.leituras=s),e[93]||(e[93]=s=>i.salvar("anamnese.lazer.leituras"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(h,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("Academia")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.academia,"onUpdate:modelValue":[e[94]||(e[94]=s=>t.doc.anamnese.lazer.academia=s),e[95]||(e[95]=s=>i.salvar("anamnese.lazer.academia"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.academia,"onUpdate:modelValue":[e[96]||(e[96]=s=>t.doc.anamnese.lazer.academia=s),e[97]||(e[97]=s=>i.salvar("anamnese.lazer.academia"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.academia,"onUpdate:modelValue":[e[98]||(e[98]=s=>t.doc.anamnese.lazer.academia=s),e[99]||(e[99]=s=>i.salvar("anamnese.lazer.academia"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.academia,"onUpdate:modelValue":[e[100]||(e[100]=s=>t.doc.anamnese.lazer.academia=s),e[101]||(e[101]=s=>i.salvar("anamnese.lazer.academia"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(h,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("Esportes de perto (Xadrez, tabuleiro, etc...)")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesPerto,"onUpdate:modelValue":[e[102]||(e[102]=s=>t.doc.anamnese.lazer.esportesPerto=s),e[103]||(e[103]=s=>i.salvar("anamnese.lazer.esportesPerto"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesPerto,"onUpdate:modelValue":[e[104]||(e[104]=s=>t.doc.anamnese.lazer.esportesPerto=s),e[105]||(e[105]=s=>i.salvar("anamnese.lazer.esportesPerto"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesPerto,"onUpdate:modelValue":[e[106]||(e[106]=s=>t.doc.anamnese.lazer.esportesPerto=s),e[107]||(e[107]=s=>i.salvar("anamnese.lazer.esportesPerto"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesPerto,"onUpdate:modelValue":[e[108]||(e[108]=s=>t.doc.anamnese.lazer.esportesPerto=s),e[109]||(e[109]=s=>i.salvar("anamnese.lazer.esportesPerto"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(h,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("Esportes ao ar livre diurnos")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesArLivreDiurnos,"onUpdate:modelValue":[e[110]||(e[110]=s=>t.doc.anamnese.lazer.esportesArLivreDiurnos=s),e[111]||(e[111]=s=>i.salvar("anamnese.lazer.esportesArLivreDiurnos"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesArLivreDiurnos,"onUpdate:modelValue":[e[112]||(e[112]=s=>t.doc.anamnese.lazer.esportesArLivreDiurnos=s),e[113]||(e[113]=s=>i.salvar("anamnese.lazer.esportesArLivreDiurnos"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesArLivreDiurnos,"onUpdate:modelValue":[e[114]||(e[114]=s=>t.doc.anamnese.lazer.esportesArLivreDiurnos=s),e[115]||(e[115]=s=>i.salvar("anamnese.lazer.esportesArLivreDiurnos"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesArLivreDiurnos,"onUpdate:modelValue":[e[116]||(e[116]=s=>t.doc.anamnese.lazer.esportesArLivreDiurnos=s),e[117]||(e[117]=s=>i.salvar("anamnese.lazer.esportesArLivreDiurnos"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(h,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("Esportes ao ar livre noturno")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesArLivreNoturno,"onUpdate:modelValue":[e[118]||(e[118]=s=>t.doc.anamnese.lazer.esportesArLivreNoturno=s),e[119]||(e[119]=s=>i.salvar("anamnese.lazer.esportesArLivreNoturno"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesArLivreNoturno,"onUpdate:modelValue":[e[120]||(e[120]=s=>t.doc.anamnese.lazer.esportesArLivreNoturno=s),e[121]||(e[121]=s=>i.salvar("anamnese.lazer.esportesArLivreNoturno"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesArLivreNoturno,"onUpdate:modelValue":[e[122]||(e[122]=s=>t.doc.anamnese.lazer.esportesArLivreNoturno=s),e[123]||(e[123]=s=>i.salvar("anamnese.lazer.esportesArLivreNoturno"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesArLivreNoturno,"onUpdate:modelValue":[e[124]||(e[124]=s=>t.doc.anamnese.lazer.esportesArLivreNoturno=s),e[125]||(e[125]=s=>i.salvar("anamnese.lazer.esportesArLivreNoturno"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(h,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("Esportes ambiente fechado")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesAmbienteFechado,"onUpdate:modelValue":[e[126]||(e[126]=s=>t.doc.anamnese.lazer.esportesAmbienteFechado=s),e[127]||(e[127]=s=>i.salvar("anamnese.lazer.esportesAmbienteFechado"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesAmbienteFechado,"onUpdate:modelValue":[e[128]||(e[128]=s=>t.doc.anamnese.lazer.esportesAmbienteFechado=s),e[129]||(e[129]=s=>i.salvar("anamnese.lazer.esportesAmbienteFechado"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesAmbienteFechado,"onUpdate:modelValue":[e[130]||(e[130]=s=>t.doc.anamnese.lazer.esportesAmbienteFechado=s),e[131]||(e[131]=s=>i.salvar("anamnese.lazer.esportesAmbienteFechado"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesAmbienteFechado,"onUpdate:modelValue":[e[132]||(e[132]=s=>t.doc.anamnese.lazer.esportesAmbienteFechado=s),e[133]||(e[133]=s=>i.salvar("anamnese.lazer.esportesAmbienteFechado"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(h,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("Esportes radicais (automobilismo, escalada, etc...)")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesRadicais,"onUpdate:modelValue":[e[134]||(e[134]=s=>t.doc.anamnese.lazer.esportesRadicais=s),e[135]||(e[135]=s=>i.salvar("anamnese.lazer.esportesRadicais"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesRadicais,"onUpdate:modelValue":[e[136]||(e[136]=s=>t.doc.anamnese.lazer.esportesRadicais=s),e[137]||(e[137]=s=>i.salvar("anamnese.lazer.esportesRadicais"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesRadicais,"onUpdate:modelValue":[e[138]||(e[138]=s=>t.doc.anamnese.lazer.esportesRadicais=s),e[139]||(e[139]=s=>i.salvar("anamnese.lazer.esportesRadicais"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.esportesRadicais,"onUpdate:modelValue":[e[140]||(e[140]=s=>t.doc.anamnese.lazer.esportesRadicais=s),e[141]||(e[141]=s=>i.salvar("anamnese.lazer.esportesRadicais"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(h,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("Pesca")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.pesca,"onUpdate:modelValue":[e[142]||(e[142]=s=>t.doc.anamnese.lazer.pesca=s),e[143]||(e[143]=s=>i.salvar("anamnese.lazer.pesca"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.pesca,"onUpdate:modelValue":[e[144]||(e[144]=s=>t.doc.anamnese.lazer.pesca=s),e[145]||(e[145]=s=>i.salvar("anamnese.lazer.pesca"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.pesca,"onUpdate:modelValue":[e[146]||(e[146]=s=>t.doc.anamnese.lazer.pesca=s),e[147]||(e[147]=s=>i.salvar("anamnese.lazer.pesca"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.pesca,"onUpdate:modelValue":[e[148]||(e[148]=s=>t.doc.anamnese.lazer.pesca=s),e[149]||(e[149]=s=>i.salvar("anamnese.lazer.pesca"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(h,{gutter:"none-y",mg:"xl-b",items:"center",justify:"between",bordered:"bottom"},{default:l(()=>[o(d,{col:"12 sm-grow"},{default:l(()=>[o(n,{text:"sub1 medium"},{default:l(()=>[v("Ciclismo")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.ciclismo,"onUpdate:modelValue":[e[150]||(e[150]=s=>t.doc.anamnese.lazer.ciclismo=s),e[151]||(e[151]=s=>i.salvar("anamnese.lazer.ciclismo"))],val:"nenhum",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.ciclismo,"onUpdate:modelValue":[e[152]||(e[152]=s=>t.doc.anamnese.lazer.ciclismo=s),e[153]||(e[153]=s=>i.salvar("anamnese.lazer.ciclismo"))],val:"pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.ciclismo,"onUpdate:modelValue":[e[154]||(e[154]=s=>t.doc.anamnese.lazer.ciclismo=s),e[155]||(e[155]=s=>i.salvar("anamnese.lazer.ciclismo"))],val:"regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.ciclismo,"onUpdate:modelValue":[e[156]||(e[156]=s=>t.doc.anamnese.lazer.ciclismo=s),e[157]||(e[157]=s=>i.salvar("anamnese.lazer.ciclismo"))],val:"muito",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(d,{col:"12"},{default:l(()=>[o(b,{modelValue:t.doc.anamnese.lazer.observacao,"onUpdate:modelValue":e[158]||(e[158]=s=>t.doc.anamnese.lazer.observacao=s),tipo:"textoArea",rotuloFixo:"Observa\xE7\xE3o",onBlur:e[159]||(e[159]=s=>i.salvar("anamnese.lazer.observacao"))},null,8,["modelValue"])]),_:1}),o(d,{col:"12",mg:"lg-t"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>[v("Observa algum inc\xF4modo nos olhos durante ou ap\xF3s a pr\xE1tica de atividades f\xEDsicas?")]),_:1}),o(h,null,{default:l(()=>[o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.incomodo,"onUpdate:modelValue":[e[160]||(e[160]=s=>t.doc.anamnese.lazer.incomodo=s),e[161]||(e[161]=s=>i.salvar("anamnese.lazer.incomodo"))],val:"sim",label:"Sim",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.lazer.incomodo,"onUpdate:modelValue":[e[162]||(e[162]=s=>t.doc.anamnese.lazer.incomodo=s),e[163]||(e[163]=s=>i.salvar("anamnese.lazer.incomodo"))],val:"nao",label:"N\xE3o",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(h,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>[v("Outras atividades")]),_:1})]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.atividades,"onUpdate:modelValue":[e[164]||(e[164]=s=>t.doc.anamnese.atividades=s),e[165]||(e[165]=s=>i.salvar("anamnese.atividades"))],val:"professor",label:"Professor pardal (Eletr\xF4nicos, Madeira...)",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.atividades,"onUpdate:modelValue":[e[166]||(e[166]=s=>t.doc.anamnese.atividades=s),e[167]||(e[167]=s=>i.salvar("anamnese.atividades"))],val:"costura",label:"Corte, Costura, Trico",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(h,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>[v("Lente de contato")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.ldc.usa,"onUpdate:modelValue":[e[168]||(e[168]=s=>t.doc.anamnese.ldc.usa=s),e[169]||(e[169]=s=>i.salvar("anamnese.ldc.usa"))],val:"sim",label:"Uso",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.ldc.usa,"onUpdate:modelValue":[e[170]||(e[170]=s=>t.doc.anamnese.ldc.usa=s),e[171]||(e[171]=s=>i.salvar("anamnese.ldc.usa"))],val:"nao",label:"N\xE3o uso",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12"},{default:l(()=>[t.doc.anamnese.ldc.usa?(p(),_(n,{key:0,text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>[v("Motivo do uso")]),_:1})):w("",!0),y(o(h,{items:"center"},{default:l(()=>[o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.ldc.status,"onUpdate:modelValue":[e[172]||(e[172]=s=>t.doc.anamnese.ldc.status=s),e[173]||(e[173]=s=>i.salvar("anamnese.ldc.status"))],val:"regularmente",label:"Uso regularmente",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.ldc.status,"onUpdate:modelValue":[e[174]||(e[174]=s=>t.doc.anamnese.ldc.status=s),e[175]||(e[175]=s=>i.salvar("anamnese.ldc.status"))],val:"esportes",label:"S\xF3 para esportes",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.ldc.status,"onUpdate:modelValue":[e[176]||(e[176]=s=>t.doc.anamnese.ldc.status=s),e[177]||(e[177]=s=>i.salvar("anamnese.ldc.status"))],val:"estetica",label:"Est\xE9tica (Eventos)",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1},512),[[Q,t.doc.anamnese.ldc.usa==="sim"]]),y(o(h,{items:"center"},{default:l(()=>[o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.ldc.status,"onUpdate:modelValue":[e[178]||(e[178]=s=>t.doc.anamnese.ldc.status=s),e[179]||(e[179]=s=>i.salvar("anamnese.ldc.status"))],val:"nao_gostei",label:"Usei e n\xE3o gostei",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.ldc.status,"onUpdate:modelValue":[e[180]||(e[180]=s=>t.doc.anamnese.ldc.status=s),e[181]||(e[181]=s=>i.salvar("anamnese.ldc.status"))],val:"nunca",label:"Nunca usei",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1},512),[[Q,t.doc.anamnese.ldc.usa==="nao"]])]),_:1})]),_:1}),o(h,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>[v("\xD3culos de sol")]),_:1})]),_:1}),o(d,{col:"6 sm3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.solar.usa,"onUpdate:modelValue":[e[182]||(e[182]=s=>t.doc.anamnese.solar.usa=s),e[183]||(e[183]=s=>i.salvar("anamnese.solar.usa"))],val:"nao",label:"N\xE3o uso",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.solar.usa,"onUpdate:modelValue":[e[184]||(e[184]=s=>t.doc.anamnese.solar.usa=s),e[185]||(e[185]=s=>i.salvar("anamnese.solar.usa"))],val:"pouco",label:"Pouco",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.solar.usa,"onUpdate:modelValue":[e[186]||(e[186]=s=>t.doc.anamnese.solar.usa=s),e[187]||(e[187]=s=>i.salvar("anamnese.solar.usa"))],val:"regular",label:"Regular",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.solar.usa,"onUpdate:modelValue":[e[188]||(e[188]=s=>t.doc.anamnese.solar.usa=s),e[189]||(e[189]=s=>i.salvar("anamnese.solar.usa"))],val:"muito",label:"Muito",size:"lg"},null,8,["modelValue"])]),_:1}),y(o(d,{col:"12"},{default:l(()=>[o(n,{text:"sub1 medium",class:"q-pl-sm"},{default:l(()=>[v("Possui gradua\xE7\xE3o")]),_:1}),o(h,{items:"center"},{default:l(()=>[o(d,{col:"6 sm4 md3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.solar.graduacao,"onUpdate:modelValue":[e[190]||(e[190]=s=>t.doc.anamnese.solar.graduacao=s),e[191]||(e[191]=s=>i.salvar("anamnese.solar.graduacao"))],val:"sim",label:"Sim",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"6 sm4 md3"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.solar.graduacao,"onUpdate:modelValue":[e[192]||(e[192]=s=>t.doc.anamnese.solar.graduacao=s),e[193]||(e[193]=s=>i.salvar("anamnese.solar.graduacao"))],val:"nao",label:"N\xE3o",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},512),[[Q,t.doc.anamnese.solar.usa!=="nao"]])]),_:1}),o(h,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>[v("Moda")]),_:1})]),_:1}),o(d,{col:"12 sm4"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.moda,"onUpdate:modelValue":[e[194]||(e[194]=s=>t.doc.anamnese.moda=s),e[195]||(e[195]=s=>i.salvar("anamnese.moda"))],val:"aprecio",label:"Aprecio muito",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.moda,"onUpdate:modelValue":[e[196]||(e[196]=s=>t.doc.anamnese.moda=s),e[197]||(e[197]=s=>i.salvar("anamnese.moda"))],val:"nao",label:"N\xE3o ligo",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"12 sm4"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.moda,"onUpdate:modelValue":[e[198]||(e[198]=s=>t.doc.anamnese.moda=s),e[199]||(e[199]=s=>i.salvar("anamnese.moda"))],val:"dinheiro",label:"Gosto, mas n\xE3o tenho dinheiro",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(h,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>[v("Observa algum inc\xF4modo nos olhos durante ou ap\xF3s o uso de telas?")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.telas,"onUpdate:modelValue":[e[200]||(e[200]=s=>t.doc.anamnese.telas=s),e[201]||(e[201]=s=>i.salvar("anamnese.telas"))],val:"sim",label:"Sim",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.telas,"onUpdate:modelValue":[e[202]||(e[202]=s=>t.doc.anamnese.telas=s),e[203]||(e[203]=s=>i.salvar("anamnese.telas"))],val:"nao",label:"N\xE3o",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(h,{gutter:"md",mg:"xl-b","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>[v("Voc\xEA sente algum tipo de incomodo quando exposto(a) a claridade?")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.claridade,"onUpdate:modelValue":[e[204]||(e[204]=s=>t.doc.anamnese.claridade=s),e[205]||(e[205]=s=>i.salvar("anamnese.claridade"))],val:"sim",label:"Sim",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.claridade,"onUpdate:modelValue":[e[206]||(e[206]=s=>t.doc.anamnese.claridade=s),e[207]||(e[207]=s=>i.salvar("anamnese.claridade"))],val:"nao",label:"N\xE3o",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1}),o(h,{gutter:"md","rounded-borders":"",bg:"bg-white"},{default:l(()=>[o(d,{col:"12"},{default:l(()=>[o(n,{icon:"label sm tertiary left",text:"h6 medium",bordered:"bottom"},{default:l(()=>[v("Faz pausas regulares para descansar a vis\xE3o enquanto utiliza telas?")]),_:1})]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.pausas,"onUpdate:modelValue":[e[208]||(e[208]=s=>t.doc.anamnese.pausas=s),e[209]||(e[209]=s=>i.salvar("anamnese.pausas"))],val:"sim",label:"Sim",size:"lg"},null,8,["modelValue"])]),_:1}),o(d,{col:"shrink"},{default:l(()=>[o(C,{modelValue:t.doc.anamnese.pausas,"onUpdate:modelValue":[e[210]||(e[210]=s=>t.doc.anamnese.pausas=s),e[211]||(e[211]=s=>i.salvar("anamnese.pausas"))],val:"nao",label:"N\xE3o",size:"lg"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var Xa=H(Qa,[["render",Ga]]);const Ya={computed:{sliderTransitionBg:function(){return this.sliderTransition*100+"%"},sliderTransitionWhite:function(){return 1-this.sliderTransition}},data(){return{sliderTransition:0,labelsConsultorOtico:{}}},async mounted(){this.labelsConsultorOtico.consultorOticoFotossensivel=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Fotossensivel"),this.labelsConsultorOtico.consultorOticoFotossensivel||(this.labelsConsultorOtico.consultorOticoFotossensivel="Fotossens\xEDvel")}};function Wa(a,e,u,m,t,i){const n=k("g-col"),d=k("g-row");return p(),_(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(j,null,{default:l(()=>[v(q(t.labelsConsultorOtico.consultorOticoFotossensivel),1)]),_:1}),y(o(c,{icon:"close",round:"",flat:"",dense:""},null,512),[[M]])]),_:1})]),_:1}),o(W,null,{default:l(()=>[o(Z,null,{default:l(()=>[o(d,{items:"center",justify:"center",class:"imagemBackground",style:_e([{"background-image":"url(statics/jornada/transition.jpg)"},{backgroundPositionX:i.sliderTransitionBg}])},{default:l(()=>[o(n,{col:"12",text:"center"},{default:l(()=>[r("img",{src:"statics/jornada/transition-black.png",class:"imagemFotossensivel",style:_e({opacity:t.sliderTransition})},null,4),r("img",{src:"statics/jornada/transition-white.png",class:"imagemFotossensivel",style:_e({opacity:i.sliderTransitionWhite})},null,4)]),_:1})]),_:1},8,["style"])]),_:1})]),_:1}),o(ue,{class:"q-pa-none bg-white",reveal:""},{default:l(()=>[o(d,{gutter:"sm",justify:"center",bordered:"top"},{default:l(()=>[o(n,{col:"11 md10 lg9"},{default:l(()=>[o(qe,{modelValue:t.sliderTransition,"onUpdate:modelValue":e[0]||(e[0]=b=>t.sliderTransition=b),min:0,max:1,step:.01,class:"fotossensivelSlider"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}var Ja=H(Ya,[["render",Wa],["__scopeId","data-v-49b5b02f"]]);const Za={components:{Fotossensivel:Ja,PromptItemV2:io},data(){return{indice:$db.jornada.doc.value.materiais.esferico,espessura:{},visibilidade:{configuracoes:!1,fotossensivel:!1,textoIndice:!1,textoLente:!1},imagemCorredor:{img1:"statics/jornada/multifocal/SVG/01_ADAPT_CORREDOR-PROGRESSIVO.png",img2:"statics/jornada/multifocal/SVG/02_ACTUAL_CORREDOR-PROGRESSIVO.png",img3:"statics/jornada/multifocal/SVG/03_MOVE_CORREDOR-PROGRESSIVO.png",img4:"statics/jornada/multifocal/SVG/01_DINAMIC_CORREDOR-PROGRESSIVO.png",img5:"statics/jornada/multifocal/SVG/02_VIVID_CORREDOR-PROGRESSIVO.png",img6:"statics/jornada/multifocal/SVG/03_RETINA-FULL_CORREDOR-PROGRESSIVO.png",img7:"statics/jornada/multifocal/SVG/04_MONOFOCAL_CORREDOR-PROGRESSIVO.png",img8:"statics/jornada/multifocal/SVG/04_RELAX_CORREDOR-PROGRESSIVO.png"},item:{},configuracoes:{},cardapio:{mostrar:!1,idIndice:"",idOpcao:"",selecionarLente:{mostrar:!1,lente:null,filtros:{tipo:"Lente",ativo:!0,bloquearVenda:!1,idTabelaPreco:$db.jornada.doc.value.idItemTabelaPreco,idEmpresa:$db.jornada.doc.value.idContatoEmpresa,idContato:$db.jornada.doc.value.idContato}}}}},emits:["mudarTela","fecharModal"],methods:{async atualizar(){try{$q.loading.show(),await $db.jornada.carrega($db.jornada.doc.value.id),await this.mudarEspessura($db.jornada.doc.value.materiais.esferico);let a=await $db.jornada.lerConfiguracoes();if(a!=null&&a.id){this.configuracoesOriginal=a,this.configuracoesAtual=$utils.clonar(this.configuracoesOriginal),this.configuracoes=$utils.clonar(this.configuracoesOriginal);return}const e={};e.id=$utils.uuid(),e.indices={};let u={};u[$utils.uuid()]={nome:"Op\xE7\xE3o 1"},u[$utils.uuid()]={nome:"Op\xE7\xE3o 2"},e.indices[$utils.uuid()]={material:"Alto \xCDndice",peso:23,resistencia:4,espessuraCentral:26,espessuraBorda:16,texto:"Texto explicativo Alto \xCDndice",opcoes:u},u={},u[$utils.uuid()]={nome:"Op\xE7\xE3o 1"},u[$utils.uuid()]={nome:"Op\xE7\xE3o 2"},e.indices[$utils.uuid()]={material:"Policarbonato",peso:15,resistencia:5,espessuraCentral:12,espessuraBorda:10,texto:"Texto explicativo Policarbonato",opcoes:u},u={},u[$utils.uuid()]={nome:"Op\xE7\xE3o 1"},u[$utils.uuid()]={nome:"Op\xE7\xE3o 2"},e.indices[$utils.uuid()]={material:"Baixo \xCDndice",peso:0,resistencia:3,espessuraCentral:0,espessuraBorda:0,texto:"Texto explicativo Baixo \xCDndice",opcoes:u},await $db.jornada.salvarConfiguracoes(e),this.configuracoesOriginal=$utils.clonar(e),this.configuracoesAtual=$utils.clonar(this.configuracoesOriginal),this.configuracoes=$utils.clonar(this.configuracoesOriginal)}catch(a){console.error(a),$q.notify({message:"N\xE3o foi poss\xEDvel carregar as configura\xE7\xF5es.",type:"negative"})}finally{$q.loading.hide()}},btAnterior(){this.$emit("mudarTela","Anamnese")},btProximo(a,e){this.$emit("mudarTela","CardapioLentes",{idIndice:a,idOpcao:e})},async mudarEspessura(a){const e={};if(a>=-4&&a<=-1){const u=Math.abs(a);e["Alto \xCDndice"]=`statics/jornada/espessura/${u}negativoAltoIndice.svg`,e.Policarbonato=`statics/jornada/espessura/${u}negativoPoli.svg`,e["Baixo \xCDndice"]=`statics/jornada/espessura/${u}negativoCr.svg`}if(a>=1&&a<=4){const u=28-a;e["Alto \xCDndice"]=`statics/jornada/espessura/Espessura lente v2-${u}.svg`,e.Policarbonato=`statics/jornada/espessura/Espessura lente v2-${u}.svg`,e["Baixo \xCDndice"]=`statics/jornada/espessura/Espessura lente v2-${u}.svg`}this.indice=a,this.espessura=e,a!==$db.jornada.doc.value.materiais.esferico&&($db.jornada.doc.value.materiais.esferico=a,await $db.jornada.grava())},async carregarItens(a,e){const u=this.configuracoes.indices[a].opcoes[e].lentes,m=[];for(const i in u){const n=u[i].idItem;!n||this.item[n]||m.push(n)}const t=await $db.hibrido.lista({table:"item",whereIn:{id:m}});if($db.jornada.doc.value.idItemTabelaPreco){const i=$db.jornada.doc.value.idItemTabelaPreco;let n=await $db.hibrido.lista({table:"itemTabelaPreco"});const d=n.find(b=>b.id===i);if(d!=null&&d.id)for(const b of t.filter(h=>h.valorVenda)){const h=await $db.itemTabelaPreco.obterValores(d,b,4,n);b.valorVenda=h.valorVenda||0}}for(const i of t)i.valorVenda=i.valorVenda||0,this.item[i.id]=i;this.item[""]={descricao:""}},async configurarCardapio(a,e){await this.carregarItens(a,e),this.cardapio.idIndice=a,this.cardapio.idOpcao=e,this.cardapio.mostrar=!0},cardapioSelecionarLente(a){this.cardapio.selecionarLente.lente=a,this.cardapio.selecionarLente.mostrar=!0},async selecionarItens(a){var u;let e;for(const m in a)if(e=(u=a[m])==null?void 0:u.item,!!(e!=null&&e.id)){this.item[e.id]=e;break}this.cardapio.selecionarLente.lente.idItem=e.id,this.cardapio.selecionarLente.lente.valorSegundoPar=$utils.arredondar(e.valorVenda*2),await this.salvarCampoX()},async adicionarLente(a,e){try{this.configuracoesAtual.indices[a].opcoes[e].lentes||(this.configuracoesAtual.indices[a].opcoes[e].lentes={});const u=this.configuracoesAtual.indices[a].opcoes[e].lentes,m={titulo:"",idItem:"",imagemCorredor:"img1",texto:"",beneficios:{},tipoPromocao:"umPar",valorSegundoPar:0};m.beneficios[$utils.uuid()]={nome:""},u[$utils.uuid()]=m,await this.salvar()}catch(u){console.error(u),$q.notify({message:"N\xE3o foi poss\xEDvel criar a lente.",type:"negative"})}},async adicionarOpcao(a){try{this.configuracoesAtual.indices[a].opcoes[$utils.uuid()]={nome:""},await this.salvar()}catch(e){console.error(e),$q.notify({message:"N\xE3o foi poss\xEDvel criar a op\xE7\xE3o.",type:"negative"})}},async adicionarBeneficio(a,e,u){try{this.configuracoesAtual.indices[a].opcoes[e].lentes[u].beneficios[$utils.uuid()]={nome:""},await this.salvar()}catch(m){console.error(m),$q.notify({message:"N\xE3o foi poss\xEDvel criar o benef\xEDcio.",type:"negative"})}},async removerBeneficio(a,e,u,m){try{this.configuracoesAtual.indices[a].opcoes[e].lentes[u].beneficios[m]=null,await this.salvar(),delete this.configuracoes.indices[a].opcoes[e].lentes[u].beneficios[m],this.configuracoesOriginal=$utils.clonar(this.configuracoes),this.configuracoesAtual=$utils.clonar(this.configuracoes)}catch(t){console.error(t),$q.notify({message:"N\xE3o foi poss\xEDvel criar o benef\xEDcio.",type:"negative"})}},async salvarValorSegundoPar(a){const e=$utils.arredondar(this.item[a.idItem].valorVenda*2);if(a.valorSegundoPar<e){this.configuracoes=$utils.clonar(this.configuracoesOriginal),$q.notify({message:"Valor n\xE3o permitido.",type:"negative"});return}await this.salvarCampoX({errorMessage:"N\xE3o foi poss\xEDvel salvar o valor do segundo par."})},async salvarCampoX(a){const{errorMessage:e}=a!=null?a:{};try{this.configuracoesAtual=$utils.clonar(this.configuracoes),await this.salvar()}catch(u){console.error(u);const m=e!=null?e:"N\xE3o foi poss\xEDvel salvar o campo.";$q.notify({message:m,type:"negative"})}},async salvar(){const a={startAt:300,stopAt:1e3};this.showLazyLoading(a);try{await $db.jornada.salvarConfiguracoes(this.configuracoesAtual),await this.hideLazyLoading(a),this.configuracoesOriginal=$utils.clonar(this.configuracoesAtual),this.configuracoes=$utils.clonar(this.configuracoesAtual)}catch(e){throw this.configuracoesAtual=$utils.clonar(this.configuracoesOriginal),this.configuracoes=$utils.clonar(this.configuracoesAtual),new Error(e)}finally{await this.hideLazyLoading(a)}},removerLente(a,e,u){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a lente e suas depend\xEAncias.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{this.configuracoesAtual.indices[a].opcoes[e].lentes[u]=null,await this.salvar(),delete this.configuracoes.indices[a].opcoes[e].lentes[u],this.configuracoesOriginal=$utils.clonar(this.configuracoes),this.configuracoesAtual=$utils.clonar(this.configuracoes)}catch(m){console.error(m),$q.notify({message:"N\xE3o foi poss\xEDvel remover a lente.",type:"negative"})}})},showLazyLoading(a){a.t0=new Date,a.timeouID=setTimeout(()=>{a.started=!0,$q.loading.show({message:a.message})},a.startAt)},async hideLazyLoading(a){return new Promise(e=>{clearTimeout(a.timeouID),a.started?setTimeout(()=>{$q.loading.hide(),e()},a.t0-new Date+a.stopAt):e()})},removerOpcao(a,e){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a op\xE7\xE3o e suas depend\xEAncias.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{this.configuracoesAtual.indices[a].opcoes[e]=null,await this.salvar(),delete this.configuracoes.indices[a].opcoes[e],this.configuracoesOriginal=$utils.clonar(this.configuracoes),this.configuracoesAtual=$utils.clonar(this.configuracoes)}catch(u){console.error(u),$q.notify({message:"N\xE3o foi poss\xEDvel remover a op\xE7\xE3o.",type:"negative"})}})},onMouseDown(a){this.isDown=!0,this.startX=a.pageX-this.$refs.lentesContainer.offsetLeft,this.scrollLeft=this.$refs.lentesContainer.scrollLeft},onMouseLeave(){this.isDown=!1},onMouseUp(){this.isDown=!1},onMouseMove(a){if(!this.isDown)return;a.preventDefault();const u=(a.pageX-this.$refs.lentesContainer.offsetLeft-this.startX)*1.5;this.$refs.lentesContainer.scrollLeft=this.scrollLeft-u},calcularIcones(a){const e=Math.abs(a)/100*5,u=Math.round(e);return Math.min(Math.max(u,0),5)}},async created(){await this.atualizar()}},De=a=>(se("data-v-8a45e66c"),a=a(),ie(),a),Ka=De(()=>r("span",{class:"q-ml-xs labelBtnHideMobile"},"Fotossensivel",-1)),$a={class:"indicesRowCard bg-white full-height bordered rounded-borders"},es=["src"],os={class:"q-mt-md text-center"},ts=De(()=>r("span",{class:"q-ml-xs labelBtnHideMobile"},"Lente",-1)),ls={key:0,class:"cardapioRowCard bg-white full-height bordered rounded-borders"},as=["src"],ss={class:"q-mt-md text-center"},is={class:"q-mt-md text-center"};function rs(a,e,u,m,t,i){const n=k("g-label"),d=k("g-col"),b=k("campo"),h=k("g-row"),s=k("Fotossensivel"),P=k("PromptItemV2");return p(),_(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=f=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(c,{icon:"menu",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(J,{style:{"min-width":"100px"}},{default:l(()=>[(p(!0),O(T,null,N(a.$db.jornada.menu,(f,I)=>y((p(),_(U,{key:I,onClick:g=>a.$emit("mudarTela",f.tela),clickable:""},{default:l(()=>[o(A,null,{default:l(()=>[v(q(f.descricao),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[M]])),128))]),_:1})]),_:1})]),_:1}),o(j,{class:"hideonmobile"},{default:l(()=>[v("Materiais")]),_:1}),o(Ve),o(c,{onClick:e[1]||(e[1]=f=>t.visibilidade.configuracoes=!t.visibilidade.configuracoes),icon:"settings",color:"white",round:"",flat:""}),o(we,{label:t.indice,color:"white",outline:"",class:"q-px-sm"},{default:l(()=>[o(J,null,{default:l(()=>[y((p(),_(U,{clickable:"",class:z(["q-px-sm q-py-xs",t.indice===-4?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[2]||(e[2]=f=>i.mudarEspessura(-4))},{default:l(()=>[o(A,null,{default:l(()=>[o(S,{class:"text-center"},{default:l(()=>[v("-4")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{clickable:"",class:z(["q-px-sm q-py-xs",t.indice===-3?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[3]||(e[3]=f=>i.mudarEspessura(-3))},{default:l(()=>[o(A,null,{default:l(()=>[o(S,{class:"text-center"},{default:l(()=>[v("-3")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{clickable:"",class:z(["q-px-sm q-py-xs",t.indice===-2?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[4]||(e[4]=f=>i.mudarEspessura(-2))},{default:l(()=>[o(A,null,{default:l(()=>[o(S,{class:"text-center"},{default:l(()=>[v("-2")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{clickable:"",class:z(["q-px-sm q-py-xs",t.indice===-1?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[5]||(e[5]=f=>i.mudarEspessura(-1))},{default:l(()=>[o(A,null,{default:l(()=>[o(S,{class:"text-center"},{default:l(()=>[v("-1")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{clickable:"",class:z(["q-px-sm q-py-xs",t.indice===1?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[6]||(e[6]=f=>i.mudarEspessura(1))},{default:l(()=>[o(A,null,{default:l(()=>[o(S,{class:"text-center"},{default:l(()=>[v("1")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{clickable:"",class:z(["q-px-sm q-py-xs",t.indice===2?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[7]||(e[7]=f=>i.mudarEspessura(2))},{default:l(()=>[o(A,null,{default:l(()=>[o(S,{class:"text-center"},{default:l(()=>[v("2")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{clickable:"",class:z(["q-px-sm q-py-xs",t.indice===3?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[8]||(e[8]=f=>i.mudarEspessura(3))},{default:l(()=>[o(A,null,{default:l(()=>[o(S,{class:"text-center"},{default:l(()=>[v("3")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{clickable:"",class:z(["q-px-sm q-py-xs",t.indice===4?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),onClick:e[9]||(e[9]=f=>i.mudarEspessura(4))},{default:l(()=>[o(A,null,{default:l(()=>[o(S,{class:"text-center"},{default:l(()=>[v("4")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]])]),_:1})]),_:1},8,["label"]),o(c,{onClick:e[10]||(e[10]=f=>t.visibilidade.fotossensivel=!0),outline:"",class:"q-ml-sm q-px-sm"},{default:l(()=>[o(B,{name:"vrpano"}),Ka]),_:1}),o(c,{onClick:i.atualizar,icon:"refresh",round:"",flat:"",dense:""},null,8,["onClick"]),o(c,{onClick:e[11]||(e[11]=f=>a.$emit("fecharModal")),icon:"close",round:"",flat:"",dense:""})]),_:1})]),_:1}),o(W,null,{default:l(()=>[o(Z,null,{default:l(()=>[o(h,{gutter:"md","min-height":"calc(100vh - 50px)",height:"100%"},{default:l(()=>[(p(!0),O(T,null,N(t.configuracoes.indices,(f,I)=>(p(),_(d,{key:I,col:"12 md4",relative:""},{default:l(()=>[r("div",$a,[o(h,{gutter:"md"},{default:l(()=>[o(d,{col:"12 sm7 md12",bg:"bg-white",style:{overflow:"hidden"}},{default:l(()=>[o(n,{text:"body1 bold center",bg:"bg-white",bordered:"bottom",class:"q-py-xs q-px-sm",relative:"",zindex:"1"},{default:l(()=>[v(q(f.material),1)]),_:2},1024),r("img",{src:t.espessura[f.material],style:{width:"92%",display:"block",margin:"-25px auto"}},null,8,es)]),_:2},1024),o(d,{col:"12 sm10 md12",bg:"bg-white"},{default:l(()=>[o(h,{bg:"bg-white",class:"q-pb-md"},{default:l(()=>[o(d,null,{default:l(()=>[o(ye,null,{default:l(()=>[t.visibilidade.textoIndice?(p(),_(b,{key:0,modelValue:f.texto,"onUpdate:modelValue":g=>f.texto=g,modelModifiers:{trim:!0},tipo:"textoArea",placeholder:"Descreva o \xEDndice",autogrow:"",autofocus:"",somenteLeitura:!t.visibilidade.configuracoes,class:"q-col-12",onBlur:e[12]||(e[12]=g=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar o texto explicativo do ind\xEDce."}))},null,8,["modelValue","onUpdate:modelValue","somenteLeitura"])):w("",!0)]),_:2},1024)]),_:2},1024),o(d,{col:"shrink"},{default:l(()=>[o(c,{onClick:e[13]||(e[13]=g=>t.visibilidade.textoIndice=!t.visibilidade.textoIndice),unelevated:"",round:"",icon:t.visibilidade.textoIndice?"keyboard_arrow_up":"keyboard_arrow_down",color:"light","text-color":"tertiary",class:"float-right"},null,8,["icon"])]),_:1})]),_:2},1024),o(h,{gutter:"none",items:"center",bordered:"bottom"},{default:l(()=>[o(d,{col:"grow"},{default:l(()=>[o(n,{text:"sub1 bold"},{default:l(()=>[v(" Peso"+q(f.peso?` (-${f.peso}%)`:"")+": ",1)]),_:2},1024)]),_:2},1024),o(d,{col:"grow"},{default:l(()=>[(p(),O(T,null,N(5,(g,E)=>o(B,{key:E,color:E>=i.calcularIcones(100-f.peso)?"tertiary":"primary",name:"fitness_center",size:"sm",class:"float-right"},null,8,["color"])),64))]),_:2},1024)]),_:2},1024),o(h,{gutter:"none",items:"center",bordered:"bottom"},{default:l(()=>[o(d,{col:"grow"},{default:l(()=>[o(n,{text:"sub1 bold"},{default:l(()=>[v(" Resist\xEAncia: ")]),_:1})]),_:1}),o(d,{col:"grow"},{default:l(()=>[(p(),O(T,null,N(5,(g,E)=>o(B,{key:E,color:E>=f.resistencia?"tertiary":"primary",name:"diamond",size:"sm",class:"float-right"},null,8,["color"])),64))]),_:2},1024)]),_:2},1024),o(h,{gutter:"none",items:"center",bordered:"bottom"},{default:l(()=>[o(d,{col:"grow"},{default:l(()=>[o(n,{text:"sub1 bold"},{default:l(()=>[v(" Espessura Central"+q(f.espessuraCentral?` (-${f.espessuraCentral}%)`:"")+": ",1)]),_:2},1024)]),_:2},1024),o(d,{col:"grow"},{default:l(()=>[(p(),O(T,null,N(5,(g,E)=>o(B,{key:E,color:E>=i.calcularIcones(100-f.espessuraCentral)?"tertiary":"primary",name:"straighten",size:"sm",class:"float-right"},null,8,["color"])),64))]),_:2},1024)]),_:2},1024),o(h,{gutter:"none",items:"center",bordered:"bottom"},{default:l(()=>[o(d,{col:"grow"},{default:l(()=>[o(n,{text:"sub1 bold"},{default:l(()=>[v(" Espessura Borda"+q(f.espessuraBorda?` (-${f.espessuraBorda}%)`:"")+": ",1)]),_:2},1024)]),_:2},1024),o(d,{col:"grow"},{default:l(()=>[(p(),O(T,null,N(5,(g,E)=>o(B,{key:E,color:E>=i.calcularIcones(100-f.espessuraBorda)?"tertiary":"primary",name:"straighten",size:"sm",class:"float-right"},null,8,["color"])),64))]),_:2},1024)]),_:2},1024)]),_:2},1024),t.visibilidade.configuracoes?w("",!0):(p(),_(d,{key:0,col:"xs8 sm7 md12",bg:"bg-white",class:"indicesBtns"},{default:l(()=>[(p(!0),O(T,null,N(f.opcoes,(g,E)=>(p(),O(T,{key:E},[g?(p(),_(c,{key:0,onClick:V=>i.btProximo(I,E),label:g.nome?g.nome:"Sem descri\xE7\xE3o",color:"primary",class:"full-width q-py-sm q-my-sm",unelevated:""},null,8,["onClick","label"])):w("",!0)],64))),128))]),_:2},1024)),t.visibilidade.configuracoes?(p(),_(d,{key:1,col:"xs12 sm9 md12",bg:"bg-white",text:"center"},{default:l(()=>[(p(!0),O(T,null,N(f.opcoes,(g,E)=>(p(),O(T,{key:E},[g?(p(),_(h,{key:0,items:"center"},{default:l(()=>[o(d,null,{default:l(()=>[o(pe,{modelValue:g.nome,"onUpdate:modelValue":V=>g.nome=V,modelModifiers:{trim:!0},placeholder:"Descreva a op\xE7\xE3o",onBlur:e[14]||(e[14]=V=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar o nome da op\xE7\xE3o."})),rotulo:"Benef\xEDcios",dense:"","input-class":"text-subtitle1 text-weight-medium text-tertiary text-center"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(d,{col:"shrink"},{default:l(()=>[o(c,{onClick:V=>i.configurarCardapio(I,E),icon:"tune",dark:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024),o(d,{col:"shrink"},{default:l(()=>[o(c,{onClick:V=>i.removerOpcao(I,E),icon:"delete",flat:"",round:"",dense:"",color:"tertiary"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):w("",!0)],64))),128)),r("div",os,[o(c,{onClick:g=>i.adicionarOpcao(I),outline:"",icon:"add",label:"Op\xE7\xE3o",color:"positive",size:"sm"},null,8,["onClick"])])]),_:2},1024)):w("",!0)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),o(de,{modelValue:t.visibilidade.fotossensivel,"onUpdate:modelValue":e[15]||(e[15]=f=>t.visibilidade.fotossensivel=f),persistent:"",maximized:""},{default:l(()=>[o(s)]),_:1},8,["modelValue"]),o(de,{modelValue:t.cardapio.mostrar,"onUpdate:modelValue":e[32]||(e[32]=f=>t.cardapio.mostrar=f),persistent:"",maximized:""},{default:l(()=>[o(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(j,null,{default:l(()=>[v("Configurar lentes")]),_:1}),o(c,{onClick:e[16]||(e[16]=f=>i.adicionarLente(t.cardapio.idIndice,t.cardapio.idOpcao)),outline:"",class:"q-px-sm"},{default:l(()=>[o(B,{name:"add"}),ts]),_:1}),y(o(c,{icon:"close",round:"",flat:"",dense:""},null,512),[[M]])]),_:1})]),_:1}),o(W,null,{default:l(()=>[o(Z,null,{default:l(()=>[r("div",{class:"lentesContainer",ref:"lentesContainer",onMousedown:e[28]||(e[28]=(...f)=>i.onMouseDown&&i.onMouseDown(...f)),onMouseleave:e[29]||(e[29]=(...f)=>i.onMouseLeave&&i.onMouseLeave(...f)),onMouseup:e[30]||(e[30]=(...f)=>i.onMouseUp&&i.onMouseUp(...f)),onMousemove:e[31]||(e[31]=(...f)=>i.onMouseMove&&i.onMouseMove(...f))},[o(h,{gutter:"md","min-height":"calc(100vh - 58px)",height:"100%",class:"cardapioContainerCard"},{default:l(()=>[(p(!0),O(T,null,N(t.configuracoes.indices[t.cardapio.idIndice].opcoes[t.cardapio.idOpcao].lentes,(f,I)=>(p(),_(d,{key:I,col:"12 md4",relative:""},{default:l(()=>[f?(p(),O("div",ls,[o(h,{height:"100%",mg:"none",bg:"bg-white"},{default:l(()=>[o(d,{col:"12 sm7 md12",self:"start",bg:"bg-white",style:{padding:"12px!important"}},{default:l(()=>[o(h,null,{default:l(()=>[o(d,{col:"12",self:"start",bg:"bg-white"},{default:l(()=>[o(R,{class:"q-px-none"},{default:l(()=>[o(pe,{modelValue:t.item[f.idItem].descricao,"onUpdate:modelValue":g=>t.item[f.idItem].descricao=g,dense:"",filled:"",readonly:"",label:"Selecionar item",color:"primary","input-class":"text-weight-medium"},{prepend:l(()=>[o(c,{onClick:g=>i.cardapioSelecionarLente(f),icon:"edit",color:"tertiary",flat:"",round:""},null,8,["onClick"])]),append:l(()=>[o(c,{onClick:g=>i.removerLente(t.cardapio.idIndice,t.cardapio.idOpcao,I),icon:"delete",color:"tertiary",flat:"",round:""},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(R,{class:"q-px-none"},{default:l(()=>[o(pe,{modelValue:f.titulo,"onUpdate:modelValue":g=>f.titulo=g,modelModifiers:{trim:!0},placeholder:"Descreva o t\xEDtulo",dense:"","input-class":"text-h6 text-weight-medium text-primary",color:"primary",onBlur:e[17]||(e[17]=g=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar o nome da op\xE7\xE3o."}))},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(fo,{modelValue:f.imagemCorredor,"onUpdate:modelValue":[g=>f.imagemCorredor=g,e[18]||(e[18]=g=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar a imagem."}))],animated:"",arrows:"",infinite:"","control-color":"primary",class:"q-pa-none",style:{height:"calc(100% - 100px)"}},{default:l(()=>[(p(!0),O(T,null,N(t.imagemCorredor,(g,E)=>(p(),_(ho,{key:E,name:E},{default:l(()=>[r("img",{src:g,class:"q-mx-auto",style:{width:"85%",display:"block"}},null,8,as)]),_:2},1032,["name"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(d,{col:"12",self:"start",bg:"bg-white",class:"cardapioBeneficiosDesktop",style:{padding:"12px!important"}},{default:l(()=>[o(h,null,{default:l(()=>[o(d,null,{default:l(()=>[o(ye,null,{default:l(()=>[t.visibilidade.textoLente?(p(),_(b,{key:0,modelValue:f.texto,"onUpdate:modelValue":g=>f.texto=g,modelModifiers:{trim:!0},onBlur:e[19]||(e[19]=g=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar o texto explicativo da lente."})),somenteLeitura:!t.visibilidade.configuracoes,autogrow:"",autofocus:"",tipo:"textoArea",placeholder:"Descreva a lente"},null,8,["modelValue","onUpdate:modelValue","somenteLeitura"])):w("",!0)]),_:2},1024)]),_:2},1024),o(d,{col:"shrink"},{default:l(()=>[o(c,{onClick:e[20]||(e[20]=g=>t.visibilidade.textoLente=!t.visibilidade.textoLente),icon:t.visibilidade.textoLente?"keyboard_arrow_up":"keyboard_arrow_down",color:"light","text-color":"tertiary",class:"float-right",unelevated:"",round:""},null,8,["icon"])]),_:1})]),_:2},1024),(p(!0),O(T,null,N(f.beneficios,(g,E)=>(p(),O(T,{key:E},[g?(p(),_(h,{key:0,items:"center"},{default:l(()=>[o(d,null,{default:l(()=>[o(pe,{modelValue:g.nome,"onUpdate:modelValue":V=>g.nome=V,modelModifiers:{trim:!0},onBlur:e[21]||(e[21]=V=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar o nome do benef\xEDcio."})),"input-class":"text-subtitle1 text-weight-medium text-tertiary text-center",rotulo:"Benef\xEDcios",placeholder:"Descreva o benef\xEDcio",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(d,{col:"shrink"},{default:l(()=>[o(c,{onClick:V=>i.removerBeneficio(t.cardapio.idIndice,t.cardapio.idOpcao,I,E),icon:"delete",flat:"",round:"",dense:"",color:"tertiary"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):w("",!0)],64))),128)),r("div",ss,[o(c,{onClick:g=>i.adicionarBeneficio(t.cardapio.idIndice,t.cardapio.idOpcao,I),icon:"add",label:"Benef\xEDcios",color:"positive",outline:"",size:"sm"},null,8,["onClick"])])]),_:2},1024)]),_:2},1024)]),_:2},1024),o(d,{col:"12 sm8 md12",self:"start",bg:"bg-white",class:"cardapioBeneficiosMobile",style:{padding:"12px!important"}},{default:l(()=>[o(h,null,{default:l(()=>[o(d,null,{default:l(()=>[o(ye,null,{default:l(()=>[t.visibilidade.textoLente?(p(),_(b,{key:0,modelValue:f.texto,"onUpdate:modelValue":g=>f.texto=g,modelModifiers:{trim:!0},onBlur:e[22]||(e[22]=g=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar o texto explicativo da lente."})),somenteLeitura:!t.visibilidade.configuracoes,autogrow:"",autofocus:"",tipo:"textoArea",placeholder:"Descreva a lente"},null,8,["modelValue","onUpdate:modelValue","somenteLeitura"])):w("",!0)]),_:2},1024)]),_:2},1024),o(d,{col:"shrink"},{default:l(()=>[o(c,{onClick:e[23]||(e[23]=g=>t.visibilidade.textoLente=!t.visibilidade.textoLente),icon:t.visibilidade.textoLente?"keyboard_arrow_up":"keyboard_arrow_down",color:"light","text-color":"tertiary",class:"float-right",unelevated:"",round:""},null,8,["icon"])]),_:1})]),_:2},1024),(p(!0),O(T,null,N(f.beneficios,(g,E)=>(p(),O(T,{key:E},[g?(p(),_(h,{key:0,items:"center"},{default:l(()=>[o(d,null,{default:l(()=>[o(pe,{modelValue:g.nome,"onUpdate:modelValue":V=>g.nome=V,modelModifiers:{trim:!0},onBlur:e[24]||(e[24]=V=>i.salvarCampoX({errorMessage:"N\xE3o poss\xEDvel salvar o nome do benef\xEDcio."})),"input-class":"text-subtitle1 text-weight-medium text-tertiary text-center",rotulo:"Benef\xEDcios",placeholder:"Descreva o benef\xEDcio",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(d,{col:"shrink"},{default:l(()=>[o(c,{onClick:V=>i.removerBeneficio(t.cardapio.idIndice,t.cardapio.idOpcao,I,E),icon:"delete",flat:"",round:"",dense:"",color:"tertiary"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):w("",!0)],64))),128)),r("div",is,[o(c,{onClick:g=>i.adicionarBeneficio(t.cardapio.idIndice,t.cardapio.idOpcao,I),icon:"add",label:"Benef\xEDcios",color:"positive",outline:"",size:"sm"},null,8,["onClick"])])]),_:2},1024),o(d,{col:"12 sm7 md12",self:"end",bg:"bg-white",style:{padding:"12px!important"}},{default:l(()=>[o(h,{height:"100%",items:"center"},{default:l(()=>[o(d,{class:"q-my-sm"},{default:l(()=>[o(h,{justify:"center"},{default:l(()=>[o(d,{col:"shrink sm4"},{default:l(()=>[o(C,{modelValue:f.tipoPromocao,"onUpdate:modelValue":[g=>f.tipoPromocao=g,e[25]||(e[25]=g=>i.salvarCampoX({errorMessage:"N\xE3o foi poss\xEDvel salvar o tipo de promo\xE7\xE3o."}))],val:"umPar",label:"1 par",size:"lg"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(d,{col:"shrink sm4"},{default:l(()=>[o(C,{modelValue:f.tipoPromocao,"onUpdate:modelValue":[g=>f.tipoPromocao=g,e[26]||(e[26]=g=>i.salvarCampoX({errorMessage:"N\xE3o foi poss\xEDvel salvar o tipo de promo\xE7\xE3o."}))],val:"doisPares",label:"2 pares",size:"lg"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(d,{col:"shrink sm4"},{default:l(()=>[o(C,{modelValue:f.tipoPromocao,"onUpdate:modelValue":[g=>f.tipoPromocao=g,e[27]||(e[27]=g=>i.salvarCampoX({errorMessage:"N\xE3o foi poss\xEDvel salvar o tipo de promo\xE7\xE3o."}))],val:"parGratis",label:"1 par, +1 gr\xE1tis",size:"lg"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),o(h,{text:"center",items:"center"},{default:l(()=>[o(d,{bordered:f.tipoPromocao==="parGratis"?"right":"none"},{default:l(()=>[o(n,{text:"body1 medium"},{default:l(()=>[v(" Valor do par ")]),_:1}),o(n,{text:"h5 bold"},{default:l(()=>[v(q(a.$filters.numero(t.item[f.idItem].valorVenda*2,2)),1)]),_:2},1024)]),_:2},1032,["bordered"]),f.tipoPromocao!=="umPar"?(p(),_(d,{key:0},{default:l(()=>[f.tipoPromocao==="doisPares"?(p(),_(n,{key:0,text:"body1 medium"},{default:l(()=>[v(" 2 Pares por ")]),_:1})):(p(),_(n,{key:1,text:"body1 medium"},{default:l(()=>[v(" 2\xBA Par ")]),_:1})),f.tipoPromocao==="doisPares"?(p(),_(n,{key:2,text:"h5 bold"},{default:l(()=>[o(b,{modelValue:f.valorSegundoPar,"onUpdate:modelValue":g=>f.valorSegundoPar=g,tipo:"decimal",decimals:"4",zerosDireita:"2",dense:"",onBlur:g=>i.salvarValorSegundoPar(f),"input-style":"font-size:1.5rem;font-weight:700;line-height:2rem;letter-spacing:normal;text-align:center;color:#555;"},null,8,["modelValue","onUpdate:modelValue","onBlur"])]),_:2},1024)):(p(),_(n,{key:3,text:"h5 bold"},{default:l(()=>[v(" Gr\xE1tis ")]),_:1}))]),_:2},1024)):w("",!0)]),_:2},1024),o(h,{text:"center",items:"center",class:"q-pt-lg"},{default:l(()=>[o(d,null,{default:l(()=>[o(c,{label:"Comprar",color:"primary",class:"q-px-lg",unelevated:"",disabled:""})]),_:1}),f.tipoPromocao==="doisPares"?(p(),_(d,{key:0},{default:l(()=>[o(c,{label:"Comprar",color:"primary",class:"q-px-lg",unelevated:"",disabled:""})]),_:1})):w("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)])):w("",!0)]),_:2},1024))),128))]),_:1})],544)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(P,{modelValue:t.cardapio.selecionarLente.mostrar,"onUpdate:modelValue":e[33]||(e[33]=f=>t.cardapio.selecionarLente.mostrar=f),onSelecionarItens:i.selecionarItens,filtro:t.cardapio.selecionarLente.filtros},null,8,["modelValue","onSelecionarItens","filtro"])]),_:1})}var ns=H(Za,[["render",rs],["__scopeId","data-v-8a45e66c"]]);const ds={data(){return{imageFirstColoracao:"statics/jornada/coloracao/plena/preto1.jpg",checkedDegrade:!1,grauCor:"1",cor:"preto"}},methods:{mudarCor(a){this.cor=a,this.checkedDegrade?this.imageFirstColoracao="statics/jornada/coloracao/degrade/"+this.cor+this.grauCor+".jpg":this.imageFirstColoracao="statics/jornada/coloracao/plena/"+this.cor+this.grauCor+".jpg"},mudarGrauCor(a){this.grauCor=a,this.checkedDegrade?this.imageFirstColoracao="statics/jornada/coloracao/degrade/"+this.cor+this.grauCor+".jpg":this.imageFirstColoracao="statics/jornada/coloracao/plena/"+this.cor+this.grauCor+".jpg"}}};function us(a,e,u,m,t,i){const n=k("g-col"),d=k("g-row");return p(),_(L,{view:"hHh LpR fFf",class:"bg-white"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(j,null,{default:l(()=>[v("Colora\xE7\xE3o")]),_:1}),o(we,{label:"Cor",color:"white",outline:"",class:"q-px-sm"},{default:l(()=>[o(J,null,{default:l(()=>[y((p(),_(U,{onClick:e[0]||(e[0]=b=>i.mudarCor("azul")),clickable:"",class:z(["q-px-sm q-py-xs",t.cor==="azul"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(A,null,{default:l(()=>[o(S,null,{default:l(()=>[o(B,{name:"circle",color:"light-blue-10",class:"q-mr-sm"}),v("Azul")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{onClick:e[1]||(e[1]=b=>i.mudarCor("g15")),clickable:"",class:z(["q-px-sm q-py-xs",t.cor==="g15"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(A,null,{default:l(()=>[o(S,null,{default:l(()=>[o(B,{name:"circle",color:"teal-10",class:"q-mr-sm"}),v("G15")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{onClick:e[2]||(e[2]=b=>i.mudarCor("marrom")),clickable:"",class:z(["q-px-sm q-py-xs",t.cor==="marrom"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(A,null,{default:l(()=>[o(S,null,{default:l(()=>[o(B,{name:"circle",color:"brow",class:"q-mr-sm"}),v("Marrom")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{onClick:e[3]||(e[3]=b=>i.mudarCor("preto")),clickable:"",class:z(["q-px-sm q-py-xs",t.cor==="preto"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(A,null,{default:l(()=>[o(S,null,{default:l(()=>[o(B,{name:"circle",color:"black",class:"q-mr-sm"}),v("Preto")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{onClick:e[4]||(e[4]=b=>i.mudarCor("rosa")),clickable:"",class:z(["q-px-sm q-py-xs",t.cor==="rosa"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(A,null,{default:l(()=>[o(S,null,{default:l(()=>[o(B,{name:"circle",color:"pink",class:"q-mr-sm"}),v("Rosa")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{onClick:e[5]||(e[5]=b=>i.mudarCor("verde")),clickable:"",class:z(["q-px-sm q-py-xs",t.cor==="verde"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(A,null,{default:l(()=>[o(S,null,{default:l(()=>[o(B,{name:"circle",color:"green",class:"q-mr-sm"}),v("Verde")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]])]),_:1})]),_:1}),y(o(c,{icon:"close",round:"",flat:"",dense:""},null,512),[[M]])]),_:1})]),_:1}),o(W,null,{default:l(()=>[o(Z,null,{default:l(()=>[o(he,{src:t.imageFirstColoracao,key:"cover",fit:"cover","no-transition":"",height:"calc(100vh - 164px)"},null,8,["src"])]),_:1})]),_:1}),o(ue,{class:"bg-light border-top",reveal:""},{default:l(()=>[o(d,{bordered:"bottom"},{default:l(()=>[o(n,{text:"center"},{default:l(()=>[o(c,{onClick:e[6]||(e[6]=b=>i.mudarGrauCor("1")),label:"1",size:"md",unelevated:"",class:z(["fit q-py-md border-right",t.grauCor==="1"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},null,8,["class"])]),_:1}),o(n,{text:"center"},{default:l(()=>[o(c,{onClick:e[7]||(e[7]=b=>i.mudarGrauCor("2")),label:"2",size:"md",unelevated:"",class:z(["fit q-py-md border-right",t.grauCor==="2"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},null,8,["class"])]),_:1}),o(n,{text:"center"},{default:l(()=>[o(c,{onClick:e[8]||(e[8]=b=>i.mudarGrauCor("3")),label:"3",size:"md",unelevated:"",class:z(["fit q-py-md border-right",t.grauCor==="3"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},null,8,["class"])]),_:1}),o(n,{text:"center"},{default:l(()=>[o(c,{onClick:e[9]||(e[9]=b=>i.mudarGrauCor("4")),label:"4",size:"md",unelevated:"",class:z(["fit q-py-md",t.grauCor==="4"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},null,8,["class"])]),_:1}),o(n,{col:"shrink sm",style:{display:"none"}},{default:l(()=>[o(we,{label:"Cor",color:"tertiary",stretch:"",flat:"",class:"fit border-left"},{default:l(()=>[o(J,null,{default:l(()=>[y((p(),_(U,{onClick:e[10]||(e[10]=b=>i.mudarCor("azul")),clickable:"",class:z(["q-pa-sm",t.cor==="azul"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(A,null,{default:l(()=>[o(S,null,{default:l(()=>[o(B,{name:"circle",color:"light-blue-10",class:"q-mr-sm"}),v("Azul")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{onClick:e[11]||(e[11]=b=>i.mudarCor("g15")),clickable:"",class:z(["q-pa-sm",t.cor==="g15"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(A,null,{default:l(()=>[o(S,null,{default:l(()=>[o(B,{name:"circle",color:"teal-10",class:"q-mr-sm"}),v("G15")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{onClick:e[12]||(e[12]=b=>i.mudarCor("marrom")),clickable:"",class:z(["q-pa-sm",t.cor==="marrom"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(A,null,{default:l(()=>[o(S,null,{default:l(()=>[o(B,{name:"circle",color:"brow",class:"q-mr-sm"}),v("Marrom")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{onClick:e[13]||(e[13]=b=>i.mudarCor("preto")),clickable:"",class:z(["q-pa-sm",t.cor==="preto"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(A,null,{default:l(()=>[o(S,null,{default:l(()=>[o(B,{name:"circle",color:"black",class:"q-mr-sm"}),v("Preto")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{onClick:e[14]||(e[14]=b=>i.mudarCor("rosa")),clickable:"",class:z(["q-pa-sm",t.cor==="rosa"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(A,null,{default:l(()=>[o(S,null,{default:l(()=>[o(B,{name:"circle",color:"pink",class:"q-mr-sm"}),v("Rosa")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]]),y((p(),_(U,{onClick:e[15]||(e[15]=b=>i.mudarCor("verde")),clickable:"",class:z(["q-pa-sm",t.cor==="verde"?"bg-blue-1 text-primary":"bg-transparent text-tertiary"])},{default:l(()=>[o(A,null,{default:l(()=>[o(S,null,{default:l(()=>[o(B,{name:"circle",color:"green",class:"q-mr-sm"}),v("Verde")]),_:1})]),_:1})]),_:1},8,["class"])),[[M]])]),_:1})]),_:1})]),_:1})]),_:1}),o(d,null,{default:l(()=>[o(n,{col:"6",bordered:"right"},{default:l(()=>[o(c,{onClick:e[16]||(e[16]=()=>{t.checkedDegrade=!1,i.mudarCor(t.cor)}),label:"S\xF3lido",size:"md",class:z(["full-width q-py-md",t.checkedDegrade===!1?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),unelevated:""},null,8,["class"])]),_:1}),o(n,{col:"6"},{default:l(()=>[o(c,{onClick:e[17]||(e[17]=()=>{t.checkedDegrade=!0,i.mudarCor(t.cor)}),label:"Degrad\xEA",size:"md",class:z(["full-width q-py-md",t.checkedDegrade===!0?"bg-blue-1 text-primary":"bg-transparent text-tertiary"]),unelevated:""},null,8,["class"])]),_:1})]),_:1})]),_:1})]),_:1})}var Re=H(ds,[["render",us]]);const ms={data(){return{splitterModel:50}},methods:{}};function cs(a,e,u,m,t,i){return p(),_(L,{view:"hHh LpR fFf",class:"bg-white"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(j,null,{default:l(()=>[v("Polarizado")]),_:1}),y(o(c,{icon:"close",round:"",flat:"",dense:"",class:"q-ml-sm"},null,512),[[M]])]),_:1})]),_:1}),o(W,null,{default:l(()=>[o(Z,null,{default:l(()=>[o(Te,{modelValue:t.splitterModel,"onUpdate:modelValue":e[0]||(e[0]=n=>t.splitterModel=n),limits:[0,100],id:"photos","before-class":"overflow-hidden","after-class":"overflow-hidden",class:"hide-scrollbar",style:{width:"100vw",height:"calc(100vh - 50px)"}},{before:l(()=>[o(he,{src:"statics/jornada/polarizado/antes.jpg",key:"cover",fit:"cover",style:{width:"100vw",height:"calc(100vh - 50px)",position:"absolute",top:"0",left:"0"}})]),after:l(()=>[o(he,{src:"statics/jornada/polarizado/depois.jpg",key:"cover",fit:"cover",style:{width:"100vw",height:"calc(100vh - 50px)",position:"absolute",top:"0",right:"0"}})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}var Ee=H(ms,[["render",cs]]);const ps={components:{Coloracao:Re,Polarizado:Ee},data(){return{tipo:"reflexo",tipoT:"reflexo",intensidadeT:"basico",splitterModel:50,imageFirstFiltro:"statics/jornada/antireflexo/reflexo.jpg",imageLastFiltro:"statics/jornada/antireflexo/reflexo-basico.jpg",labelsConsultorOtico:{},mostrarColoracao:!1,mostrarPolarizado:!1}},emits:["mudarTela","fecharModal"],methods:{mudarIntensidade(a){this.intensidadeT=a,this.imageFirstFiltro="statics/jornada/antireflexo/"+this.tipoT+".jpg",this.imageLastFiltro="statics/jornada/antireflexo/"+this.tipoT+"-"+this.intensidadeT+".jpg"},mudarFiltro(a){this.intensidadeT="basico",this.tipoT=a,this.imageFirstFiltro="statics/jornada/antireflexo/"+this.tipoT+".jpg",this.imageLastFiltro="statics/jornada/antireflexo/"+this.tipoT+"-"+this.intensidadeT+".jpg"}},async mounted(){this.labelsConsultorOtico.consultorOticoTratamentoAmplo=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Amplo"),this.labelsConsultorOtico.consultorOticoTratamentoBasico=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Basico"),this.labelsConsultorOtico.consultorOticoTratamentoDigital=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Digital"),this.labelsConsultorOtico.consultorOticoTratamentoGotas=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Gotas"),this.labelsConsultorOtico.consultorOticoTratamentoMedio=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Medio"),this.labelsConsultorOtico.consultorOticoTratamentoReflexo=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Reflexo"),this.labelsConsultorOtico.consultorOticoTratamentoRisco=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Risco"),this.labelsConsultorOtico.consultorOticoTratamentoSujeira=await $db.configuracoes.leValorComFiltroEmpresa("ConsultorOtico.Tratamento.Sujeira"),this.labelsConsultorOtico.consultorOticoTratamentoAmplo||(this.labelsConsultorOtico.consultorOticoTratamentoAmplo="Amplo"),this.labelsConsultorOtico.consultorOticoTratamentoBasico||(this.labelsConsultorOtico.consultorOticoTratamentoBasico="B\xE1sico"),this.labelsConsultorOtico.consultorOticoTratamentoDigital||(this.labelsConsultorOtico.consultorOticoTratamentoDigital="Digital"),this.labelsConsultorOtico.consultorOticoTratamentoGotas||(this.labelsConsultorOtico.consultorOticoTratamentoGotas="Gotas"),this.labelsConsultorOtico.consultorOticoTratamentoMedio||(this.labelsConsultorOtico.consultorOticoTratamentoMedio="M\xE9dio"),this.labelsConsultorOtico.consultorOticoTratamentoReflexo||(this.labelsConsultorOtico.consultorOticoTratamentoReflexo="Reflexo"),this.labelsConsultorOtico.consultorOticoTratamentoRisco||(this.labelsConsultorOtico.consultorOticoTratamentoRisco="Risco"),this.labelsConsultorOtico.consultorOticoTratamentoSujeira||(this.labelsConsultorOtico.consultorOticoTratamentoSujeira="Sujeira")}},Ie=a=>(se("data-v-460726c9"),a=a(),ie(),a),fs=Ie(()=>r("span",{class:"q-ml-xs labelBtnHideMobile"},"Colora\xE7\xE3o",-1)),hs=Ie(()=>r("span",{class:"q-ml-xs labelBtnHideMobile"},"Polarizado",-1)),bs=["src"],gs=["src"],vs={class:"row",style:{"border-bottom":"1px solid #cccccc"}},_s={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},ys={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},xs={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},Vs={class:"row"},ws={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},Cs={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},ks={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},Os={class:"col text-center",style:{"border-right":"1px solid #cccccc"}},qs={class:"col text-center",style:{"border-right":"1px solid #cccccc"}};function zs(a,e,u,m,t,i){const n=k("g-col"),d=k("g-row"),b=k("Coloracao"),h=k("Polarizado");return p(),_(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(j,null,{default:l(()=>[v("Tratamentos")]),_:1}),o(c,{onClick:e[0]||(e[0]=s=>t.mostrarColoracao=!0),outline:"",class:"q-px-sm"},{default:l(()=>[o(B,{name:"color_lens"}),fs]),_:1}),o(c,{onClick:e[1]||(e[1]=s=>t.mostrarPolarizado=!0),outline:"",class:"q-ml-sm q-px-sm"},{default:l(()=>[o(B,{name:"tonality"}),hs]),_:1}),y(o(c,{icon:"close",round:"",flat:"",dense:""},null,512),[[M]])]),_:1})]),_:1}),o(W,null,{default:l(()=>[o(Z,null,{default:l(()=>[o(d,{items:"stretch",width:"100vw",height:"calc(100vh - 164px)"},{default:l(()=>[o(n,null,{default:l(()=>[t.tipo==="reflexo"?(p(),_(Te,{key:0,modelValue:t.splitterModel,"onUpdate:modelValue":e[2]||(e[2]=s=>t.splitterModel=s),limits:[0,100],"before-class":"overflow-hidden","after-class":"overflow-hidden",style:{width:"100vw",height:"calc(100vh - 115px)"}},{before:l(()=>[r("img",{src:t.imageFirstFiltro,class:"absolute-top-left",style:{width:"100vw",height:"calc(100vh - 164px)"}},null,8,bs)]),after:l(()=>[r("img",{src:t.imageLastFiltro,class:"absolute-top-right",style:{width:"100vw",height:"calc(100vh - 164px)"}},null,8,gs)]),_:1},8,["modelValue"])):w("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),o(ue,{class:"bg-light no-shadow q-pa-none col-12 col-lg-9",reveal:"",style:{"border-top":"1px solid #cccccc"}},{default:l(()=>[r("div",vs,[r("div",_s,[o(c,{onClick:e[3]||(e[3]=s=>i.mudarIntensidade("basico")),label:t.labelsConsultorOtico.consultorOticoTratamentoBasico,class:z([t.intensidadeT==="basico"?"bg-blue-1 text-primary":"bg-transparent text-tertiary","q-pa-md q-mx-sm full-width"]),size:"md",unelevated:"",dense:""},null,8,["label","class"])]),r("div",ys,[o(c,{onClick:e[4]||(e[4]=s=>i.mudarIntensidade("medio")),label:t.labelsConsultorOtico.consultorOticoTratamentoMedio,class:z([t.intensidadeT==="medio"?"bg-blue-1 text-primary":"bg-transparent text-tertiary","q-pa-md q-mx-sm full-width"]),size:"md",unelevated:"",dense:""},null,8,["label","class"])]),r("div",xs,[o(c,{onClick:e[5]||(e[5]=s=>i.mudarIntensidade("amplo")),label:t.labelsConsultorOtico.consultorOticoTratamentoAmplo,class:z([t.intensidadeT==="amplo"?"bg-blue-1 text-primary":"bg-transparent text-tertiary","q-pa-md q-mx-sm full-width"]),size:"md",unelevated:"",dense:""},null,8,["label","class"])])]),r("div",Vs,[r("div",ws,[o(c,{onClick:e[6]||(e[6]=s=>i.mudarFiltro("reflexo")),label:t.labelsConsultorOtico.consultorOticoTratamentoReflexo,class:z([t.tipoT==="reflexo"?"bg-blue-1 text-primary":"bg-transparent text-tertiary","q-pa-md q-mx-sm full-width"]),size:"md",unelevated:"",dense:""},null,8,["label","class"])]),r("div",Cs,[o(c,{onClick:e[7]||(e[7]=s=>i.mudarFiltro("digital")),label:t.labelsConsultorOtico.consultorOticoTratamentoDigital,class:z([t.tipoT==="digital"?"bg-blue-1 text-primary":"bg-transparent text-tertiary","q-pa-md q-mx-sm full-width"]),size:"md",unelevated:"",dense:""},null,8,["label","class"])]),r("div",ks,[o(c,{onClick:e[8]||(e[8]=s=>i.mudarFiltro("gotas")),label:t.labelsConsultorOtico.consultorOticoTratamentoGotas,class:z([t.tipoT==="gotas"?"bg-blue-1 text-primary":"bg-transparent text-tertiary","q-pa-md q-mx-sm full-width"]),size:"md",unelevated:"",dense:""},null,8,["label","class"])]),r("div",Os,[o(c,{onClick:e[9]||(e[9]=s=>i.mudarFiltro("risco")),label:t.labelsConsultorOtico.consultorOticoTratamentoRisco,class:z([t.tipoT==="risco"?"bg-blue-1 text-primary":"bg-transparent text-tertiary","q-pa-md q-mx-sm full-width"]),size:"md",unelevated:"",dense:""},null,8,["label","class"])]),r("div",qs,[o(c,{onClick:e[10]||(e[10]=s=>i.mudarFiltro("sujeira")),label:t.labelsConsultorOtico.consultorOticoTratamentoSujeira,class:z([t.tipoT==="sujeira"?"bg-blue-1 text-primary":"bg-transparent text-tertiary","q-pa-md q-mx-sm full-width"]),size:"md",unelevated:"",dense:""},null,8,["label","class"])])])]),_:1}),o(de,{modelValue:t.mostrarColoracao,"onUpdate:modelValue":e[11]||(e[11]=s=>t.mostrarColoracao=s),persistent:"",maximized:""},{default:l(()=>[o(b)]),_:1},8,["modelValue"]),o(de,{modelValue:t.mostrarPolarizado,"onUpdate:modelValue":e[12]||(e[12]=s=>t.mostrarPolarizado=s),persistent:"",maximized:""},{default:l(()=>[o(h)]),_:1},8,["modelValue"])]),_:1})}var As=H(ps,[["render",zs],["__scopeId","data-v-460726c9"]]);const Fs={data(){return{backgroundLentes:"",imageLente:"",tabLentes:"",imagemCorredor:{img1:"statics/jornada/multifocal/SVG/01_ADAPT_CORREDOR-PROGRESSIVO.png",img2:"statics/jornada/multifocal/SVG/02_ACTUAL_CORREDOR-PROGRESSIVO.png",img3:"statics/jornada/multifocal/SVG/03_MOVE_CORREDOR-PROGRESSIVO.png",img4:"statics/jornada/multifocal/SVG/01_DINAMIC_CORREDOR-PROGRESSIVO.png",img5:"statics/jornada/multifocal/SVG/02_VIVID_CORREDOR-PROGRESSIVO.png",img6:"statics/jornada/multifocal/SVG/03_RETINA-FULL_CORREDOR-PROGRESSIVO.png"}}},props:{lentes:{required:!0,type:Object}},methods:{mudarBackground(a){this.backgroundLentes="statics/jornada/cenarios/"+a+".jpg"},mudarLente(a){const e=this.lentes[a].imagemCorredor,u=this.imagemCorredor[e];this.imageLente=u}},mounted(){const a=Object.keys(this.lentes)[0];this.mudarLente(a),this.mudarBackground("Tv"),this.tabLentes=this.lentes[a].titulo}},xe=a=>(se("data-v-77349386"),a=a(),ie(),a),Ps=xe(()=>r("img",{src:"statics/jornada/cenarios/Tv.jpg",class:"dropdownImg cursor-pointer"},null,-1)),Ms=xe(()=>r("img",{src:"statics/jornada/cenarios/celular.jpg",class:"dropdownImg cursor-pointer"},null,-1)),Us=xe(()=>r("img",{src:"statics/jornada/cenarios/carro.jpg",class:"dropdownImg cursor-pointer"},null,-1)),Ts=xe(()=>r("img",{src:"statics/jornada/cenarios/lazer.jpg",class:"dropdownImg cursor-pointer"},null,-1)),Ds=xe(()=>r("img",{src:"statics/jornada/cenarios/paisagem.jpg",class:"dropdownImg cursor-pointer"},null,-1)),Rs=["src"],Es=["src"];function Is(a,e,u,m,t,i){const n=k("g-col"),d=k("g-row");return p(),_(L,{view:"hHh LpR fFf",class:"bg-white"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(j,null,{default:l(()=>[v("Aplica\xE7\xF5es")]),_:1}),o(we,{label:"Foto",color:"white",outline:"",class:"q-px-sm"},{default:l(()=>[o(J,null,{default:l(()=>[y((p(),_(U,{onClick:e[0]||(e[0]=b=>i.mudarBackground("Tv")),clickable:"",class:"q-pa-sm"},{default:l(()=>[Ps]),_:1})),[[M]]),y((p(),_(U,{onClick:e[1]||(e[1]=b=>i.mudarBackground("celular")),clickable:"",class:"q-pa-sm"},{default:l(()=>[Ms]),_:1})),[[M]]),y((p(),_(U,{onClick:e[2]||(e[2]=b=>i.mudarBackground("carro")),clickable:"",class:"q-pa-sm"},{default:l(()=>[Us]),_:1})),[[M]]),y((p(),_(U,{onClick:e[3]||(e[3]=b=>i.mudarBackground("lazer")),clickable:"",class:"q-pa-sm"},{default:l(()=>[Ts]),_:1})),[[M]]),y((p(),_(U,{onClick:e[4]||(e[4]=b=>i.mudarBackground("paisagem")),clickable:"",class:"q-pa-sm"},{default:l(()=>[Ds]),_:1})),[[M]])]),_:1})]),_:1}),y(o(c,{icon:"close",round:"",flat:"",dense:""},null,512),[[M]])]),_:1})]),_:1}),o(W,null,{default:l(()=>[o(Z,null,{default:l(()=>[o(d,{style:{"min-height":"calc(100vh - 100px)"}},{default:l(()=>[o(n,{col:"12",class:"backgroundLentes",style:_e([{"background-image":"url('statics/jornada/cenarios/Tv.jpg')"},{"background-image":"url("+t.backgroundLentes+")"}])},{default:l(()=>[o(d,{items:"center",justify:"center",height:"100%"},{default:l(()=>[o(n,{col:"12 sm6",class:"imageEsquerda"},{default:l(()=>[r("img",{src:t.imageLente,class:"imageLente q-pa-lg"},null,8,Rs)]),_:1}),o(n,{col:"12 sm6",class:"imageDireita"},{default:l(()=>[r("img",{src:t.imageLente,class:"imageLente q-pa-lg"},null,8,Es)]),_:1})]),_:1})]),_:1},8,["style"])]),_:1})]),_:1})]),_:1}),o(ue,{class:"bg-light"},{default:l(()=>[o(Ue,{modelValue:t.tabLentes,"onUpdate:modelValue":e[5]||(e[5]=b=>t.tabLentes=b),"inline-label":"",class:"bg-light text-tertiary shadow-2"},{default:l(()=>[(p(!0),O(T,null,N(Object.keys(u.lentes),b=>(p(),_(ze,{key:b,onClick:h=>i.mudarLente(b),name:u.lentes[b].titulo,label:u.lentes[b].titulo},null,8,["onClick","name","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})}var je=H(Fs,[["render",Is],["__scopeId","data-v-77349386"]]);const js={components:{Tratamentos:As,CampoVisao:je},data(){return{filtroLentesAdicionas:"",mostrarLentesAdicionais:!1,mostrarTratamentos:!1,mostrarAplicacoes:!1,visibilidade:{texto:!1},item:{},lentes:null,lentesAdicionais:{},imagemCorredor:{img1:"statics/jornada/multifocal/SVG/01_ADAPT_CORREDOR-PROGRESSIVO.png",img2:"statics/jornada/multifocal/SVG/02_ACTUAL_CORREDOR-PROGRESSIVO.png",img3:"statics/jornada/multifocal/SVG/03_MOVE_CORREDOR-PROGRESSIVO.png",img4:"statics/jornada/multifocal/SVG/01_DINAMIC_CORREDOR-PROGRESSIVO.png",img5:"statics/jornada/multifocal/SVG/02_VIVID_CORREDOR-PROGRESSIVO.png",img6:"statics/jornada/multifocal/SVG/03_RETINA-FULL_CORREDOR-PROGRESSIVO.png"}}},emits:["mudarTela","fecharModal"],props:{opts:{required:!0,type:Object,default:()=>({})}},methods:{carregarLentesAdicionais(){var e;const a={};for(const u in this.configuracoesOriginal.indices){const m=this.configuracoesOriginal.indices[u].opcoes;for(const t in m){const i=(e=this.configuracoesOriginal.indices[u].opcoes[t].lentes)!=null?e:{};for(const n in i)this.lentes[n]||!i[n].idItem||(a[n]=i[n])}}this.lentesAdicionaisOriginal=a,this.lentesAdicionais=$utils.clonar(a)},async carregarItens(){const a=[];for(const u in this.configuracoesOriginal.indices)for(const m in this.configuracoesOriginal.indices[u].opcoes){const t=this.configuracoesOriginal.indices[u].opcoes[m].lentes;for(const i in t){const n=t[i].idItem;!n||a.some(d=>d===n)||a.push(n)}}const e=await $db.hibrido.lista({table:"item",whereIn:{id:a}});if($db.jornada.doc.value.idItemTabelaPreco&&e.length>0){const u=$db.jornada.doc.value.idItemTabelaPreco;let m=await $db.hibrido.lista({table:"itemTabelaPreco"});const t=m.find(i=>i.id===u);if(t!=null&&t.id)for(const i of e){const n=await $db.itemTabelaPreco.obterValores(t,i,4,m);i.valorVenda=n.valorVenda||0}}for(const u of e)u.valorVenda=(u.valorVenda||0)*2,this.item[u.id]=u},btAnterior(){this.$emit("mudarTela","Materiais")},async comprar({lente:a,opcao:e}){$q.loading.show();let u=a.tipoPromocao;a.tipoPromocao==="doisPares"&&e===1&&(u="umPar");const m={idItem:a.idItem,idEnvelope:"",idEnvelopeSegundoPar:"",valorVenda:this.item[a.idItem].valorVenda,valorVendaSegundoPar:a.valorSegundoPar,tipoPromocao:u,daraHoraEmissao:new Date().toISOString()};await $db.jornada.comprar(m),$q.loading.hide()},filtrarLentesAdicionais(){clearTimeout(this.idTimeoutDebounceFiltro),this.idTimeoutDebounceFiltro=setTimeout(()=>{const a=$utils.clonar(this.lentesAdicionaisOriginal),e=$utils.tratamentoCompletoString(this.filtroLentesAdicionas);if(!e){this.lentesAdicionais=a;return}const u=e.split(" ");for(const m in this.lentesAdicionaisOriginal){const t=this.lentesAdicionaisOriginal[m],i=$utils.tratamentoCompletoString(t.titulo);i.trim()||delete a[m];let n=!0;for(const d of u)if(!i.includes(d)){n=!1;break}n||delete a[m]}this.lentesAdicionais=a},300)},async adicionarLente(a,e){this.mostrarLentesAdicionais=!1,this.lentes[e]=a,this.carregarLentesAdicionais(),this.filtroLentesAdicionas=""},async removerLente(a){$q.dialog({title:"Deseja continuar?",message:"Ao continuar voc\xEA ir\xE1 remover a lente.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{delete this.lentes[a],this.carregarLentesAdicionais()})},onMouseDown(a){this.isDown=!0,this.startX=a.pageX-this.$refs.lentesContainer.offsetLeft,this.scrollLeft=this.$refs.lentesContainer.scrollLeft},onMouseLeave(){this.isDown=!1},onMouseUp(){this.isDown=!1},onMouseMove(a){if(!this.isDown)return;a.preventDefault();const u=(a.pageX-this.$refs.lentesContainer.offsetLeft-this.startX)*1.5;this.$refs.lentesContainer.scrollLeft=this.scrollLeft-u}},async created(){var a;try{$q.loading.show(),this.configuracoesOriginal=await $db.jornada.lerConfiguracoes(),await this.carregarItens();const e=(a=this.configuracoesOriginal.indices[this.opts.idIndice].opcoes[this.opts.idOpcao].lentes)!=null?a:{};for(const u in e)e[u].idItem||delete e[u];this.lentes=$utils.clonar(e),this.carregarLentesAdicionais()}catch{$q.notify({message:"N\xE3o foi poss\xEDvel carregar as configura\xE7\xF5es.",type:"negative"})}finally{$q.loading.hide()}}},Ae=a=>(se("data-v-3dae8f7b"),a=a(),ie(),a),Bs=Ae(()=>r("span",{class:"q-ml-xs labelBtnHideMobile"},"Lente",-1)),Ns=Ae(()=>r("span",{class:"q-ml-xs labelBtnHideMobile"},"Tratamentos",-1)),Ss=Ae(()=>r("span",{class:"q-ml-xs labelBtnHideMobile"},"Aplica\xE7\xF5es",-1)),Ls={key:0,class:"cardapioRowCard bg-white full-height bordered rounded-borders"},Hs=["src"],Qs={class:"fit bg-white rounded-borders"};function Gs(a,e,u,m,t,i){const n=k("g-col"),d=k("campo"),b=k("g-row"),h=k("g-label"),s=k("Tratamentos"),P=k("CampoVisao");return p(),_(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=f=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(j,null,{default:l(()=>[v("Lentes")]),_:1}),o(c,{onClick:e[1]||(e[1]=f=>t.mostrarLentesAdicionais=!0),outline:"",class:"q-ml-sm q-px-sm"},{default:l(()=>[o(B,{name:"add"}),Bs]),_:1}),o(c,{onClick:e[2]||(e[2]=f=>t.mostrarTratamentos=!0),outline:"",class:"q-ml-sm q-px-sm"},{default:l(()=>[o(B,{name:"compare"}),Ns]),_:1}),o(c,{onClick:e[3]||(e[3]=f=>t.mostrarAplicacoes=!0),outline:"",class:"q-ml-sm q-px-sm"},{default:l(()=>[o(B,{name:"join_right"}),Ss]),_:1})]),_:1})]),_:1}),o(W,null,{default:l(()=>[o(Z,null,{default:l(()=>[r("div",{class:"lentesContainer",ref:"lentesContainer",onMousedown:e[6]||(e[6]=(...f)=>i.onMouseDown&&i.onMouseDown(...f)),onMouseleave:e[7]||(e[7]=(...f)=>i.onMouseLeave&&i.onMouseLeave(...f)),onMouseup:e[8]||(e[8]=(...f)=>i.onMouseUp&&i.onMouseUp(...f)),onMousemove:e[9]||(e[9]=(...f)=>i.onMouseMove&&i.onMouseMove(...f))},[o(b,{gutter:"md","min-height":"calc(100vh - 58px)",height:"100%",class:"cardapioContainerCard"},{default:l(()=>[(p(!0),O(T,null,N(t.lentes,(f,I)=>(p(),_(n,{key:I,col:"12 md4",relative:""},{default:l(()=>[f.idItem?(p(),O("div",Ls,[o(b,{height:"100%",mg:"none",bg:"bg-white"},{default:l(()=>[o(n,{col:"12 sm7 md12",self:"start",bg:"bg-white",style:{padding:"12px!important"}},{default:l(()=>[o(b,null,{default:l(()=>[o(n,{col:"12",self:"start",bg:"bg-white"},{default:l(()=>[o(R,{class:"q-px-none"},{default:l(()=>[o(j,{class:"text-primary"},{default:l(()=>[v(q(f.titulo||"Sem t\xEDtulo"),1)]),_:2},1024),o(c,{onClick:g=>i.removerLente(I),icon:"delete",color:"tertiary",flat:"",round:"",dense:""},null,8,["onClick"])]),_:2},1024),r("img",{src:t.imagemCorredor[f.imagemCorredor],class:"q-pa-md q-mx-auto",style:{width:"85%",display:"block"}},null,8,Hs)]),_:2},1024),o(n,{col:"12",self:"start",bg:"bg-white",class:"cardapioBeneficiosDesktop",style:{padding:"12px!important"}},{default:l(()=>[o(b,{bg:"bg-white",class:"q-pb-md"},{default:l(()=>[o(n,null,{default:l(()=>[o(ye,null,{default:l(()=>[t.visibilidade.texto?(p(),_(d,{key:0,modelValue:f.texto,"onUpdate:modelValue":g=>f.texto=g,modelModifiers:{trim:!0},tipo:"textoArea",autogrow:"",autofocus:"",somenteLeitura:"",class:"q-col-12"},null,8,["modelValue","onUpdate:modelValue"])):w("",!0)]),_:2},1024)]),_:2},1024),o(n,{col:"shrink"},{default:l(()=>[o(c,{onClick:e[4]||(e[4]=g=>t.visibilidade.texto=!t.visibilidade.texto),unelevated:"",round:"",icon:t.visibilidade.texto?"keyboard_arrow_up":"keyboard_arrow_down",color:"light","text-color":"tertiary",class:"float-right"},null,8,["icon"])]),_:1})]),_:2},1024),(p(!0),O(T,null,N(f.beneficios,(g,E)=>(p(),O(T,{key:E},[g.nome?(p(),_(h,{key:0,text:"sub1 bold center",class:"q-pa-sm",bordered:"bottom"},{default:l(()=>[v(q(g.nome),1)]),_:2},1024)):w("",!0)],64))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024),o(n,{col:"12 sm8 md12",self:"start",bg:"bg-white",class:"cardapioBeneficiosMobile",style:{padding:"12px!important"}},{default:l(()=>[o(b,{bg:"bg-white",class:"q-pb-md"},{default:l(()=>[o(n,null,{default:l(()=>[o(ye,null,{default:l(()=>[t.visibilidade.texto?(p(),_(d,{key:0,modelValue:f.texto,"onUpdate:modelValue":g=>f.texto=g,modelModifiers:{trim:!0},tipo:"textoArea",autogrow:"",autofocus:"",somenteLeitura:"",class:"q-col-12"},null,8,["modelValue","onUpdate:modelValue"])):w("",!0)]),_:2},1024)]),_:2},1024),o(n,{col:"shrink"},{default:l(()=>[o(c,{onClick:e[5]||(e[5]=g=>t.visibilidade.texto=!t.visibilidade.texto),unelevated:"",round:"",icon:t.visibilidade.texto?"keyboard_arrow_up":"keyboard_arrow_down",color:"light","text-color":"tertiary",class:"float-right"},null,8,["icon"])]),_:1})]),_:2},1024),(p(!0),O(T,null,N(f.beneficios,(g,E)=>(p(),O(T,{key:E},[g.nome?(p(),_(h,{key:0,text:"sub1 bold center",class:"q-pa-sm",bordered:"bottom"},{default:l(()=>[v(q(g.nome),1)]),_:2},1024)):w("",!0)],64))),128))]),_:2},1024),o(n,{col:"12 sm7 md12",self:"end",bg:"bg-white",style:{padding:"12px!important"}},{default:l(()=>[o(b,{height:"100%",items:"center"},{default:l(()=>[o(n,{class:"q-my-sm"},{default:l(()=>[o(b,{text:"center",items:"center"},{default:l(()=>[o(n,{bordered:f.tipoPromocao==="parGratis"?"right":"none"},{default:l(()=>[o(h,{text:"body1 medium"},{default:l(()=>[v(" Valor do par ")]),_:1}),o(h,{text:"h5 bold"},{default:l(()=>{var g;return[v(q(a.$filters.numero((g=t.item[f.idItem])==null?void 0:g.valorVenda,2)),1)]}),_:2},1024)]),_:2},1032,["bordered"]),f.tipoPromocao!=="umPar"?(p(),_(n,{key:0},{default:l(()=>[f.tipoPromocao==="doisPares"?(p(),_(h,{key:0,text:"body1 medium"},{default:l(()=>[v(" 2 Pares por ")]),_:1})):(p(),_(h,{key:1,text:"body1 medium"},{default:l(()=>[v(" 2\xBA Par ")]),_:1})),f.tipoPromocao==="doisPares"?(p(),_(h,{key:2,text:"h5 bold"},{default:l(()=>[v(q(a.$filters.numero(f.valorSegundoPar,2)),1)]),_:2},1024)):(p(),_(h,{key:3,text:"h5 bold"},{default:l(()=>[v(" Gr\xE1tis ")]),_:1}))]),_:2},1024)):w("",!0)]),_:2},1024),o(b,{text:"center",items:"center",class:"q-pt-lg"},{default:l(()=>[o(n,null,{default:l(()=>[o(c,{label:"Comprar",color:"primary",class:"q-px-lg",unelevated:"",onClick:g=>i.comprar({lente:f,opcao:1})},null,8,["onClick"])]),_:2},1024),f.tipoPromocao==="doisPares"?(p(),_(n,{key:0},{default:l(()=>[o(c,{label:"Comprar",color:"primary",class:"q-px-lg",unelevated:"",onClick:g=>i.comprar({lente:f,opcao:2})},null,8,["onClick"])]),_:2},1024)):w("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)])):w("",!0)]),_:2},1024))),128))]),_:1})],544)]),_:1})]),_:1}),o(de,{modelValue:t.mostrarLentesAdicionais,"onUpdate:modelValue":e[11]||(e[11]=f=>t.mostrarLentesAdicionais=f),persistent:"",maximized:""},{default:l(()=>[o(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(b,{items:"center",justify:"between","no-wrap":"",class:"full-width"},{default:l(()=>[o(n,{class:"hideonmobile"},{default:l(()=>[o(j,null,{default:l(()=>[v("Adicionar lente")]),_:1})]),_:1}),o(n,{col:"xs sm6 md5 lg4"},{default:l(()=>[o(pe,{modelValue:t.filtroLentesAdicionas,"onUpdate:modelValue":[e[10]||(e[10]=f=>t.filtroLentesAdicionas=f),i.filtrarLentesAdicionais],"clear-icon":"close",standout:"",filled:"",clearable:"",dense:"",dark:"",class:"q-mx-auto",placeholder:"Pesquise por um t\xEDtulo"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),o(n,{col:"shrink sm",text:"right"}),o(n,{col:"shrink"},{default:l(()=>[y(o(c,{icon:"close",round:"",flat:"",dense:""},null,512),[[M]])]),_:1})]),_:1})]),_:1})]),_:1}),o(W,null,{default:l(()=>[o(Z,null,{default:l(()=>[o(b,{gutter:"md",justify:"center"},{default:l(()=>[(p(!0),O(T,null,N(t.lentesAdicionais,(f,I)=>(p(),_(n,{key:I,col:"12 sm6 md4 lg3","rounded-borders":"",class:"itemHover"},{default:l(()=>[r("div",Qs,[o(b,{gutter:"md","rounded-borders":"",class:"fit"},{default:l(()=>[o(n,{col:"12",self:"top",bordered:"bottom",class:"q-mb-md"},{default:l(()=>[o(h,{text:"left h6"},{default:l(()=>[v(q(f.titulo||"Sem t\xEDtulo"),1)]),_:2},1024),o(he,{src:t.imagemCorredor[f.imagemCorredor],style:{"max-width":"180px",display:"flex","align-self":"center",margin:"0 auto","border-radius":"10px"}},null,8,["src"])]),_:2},1024),o(n,{col:"12",self:"top"},{default:l(()=>[o(b,{text:"center",items:"center"},{default:l(()=>[o(n,{bordered:f.tipoPromocao==="parGratis"?"right":"none"},{default:l(()=>[o(h,{text:"body1 medium"},{default:l(()=>[v(" Valor do par ")]),_:1}),o(h,{text:"h5 bold"},{default:l(()=>{var g;return[v(q(a.$filters.numero((g=t.item[f.idItem])==null?void 0:g.valorVenda,2)),1)]}),_:2},1024)]),_:2},1032,["bordered"]),f.tipoPromocao!=="umPar"?(p(),_(n,{key:0},{default:l(()=>[f.tipoPromocao==="doisPares"?(p(),_(h,{key:0,text:"body1 medium"},{default:l(()=>[v(" 2 Pares por ")]),_:1})):(p(),_(h,{key:1,text:"body1 medium"},{default:l(()=>[v(" 2\xBA Par ")]),_:1})),f.tipoPromocao==="doisPares"?(p(),_(h,{key:2,text:"h5 bold"},{default:l(()=>[v(q(a.$filters.numero(f.valorSegundoPar,2)),1)]),_:2},1024)):(p(),_(h,{key:3,text:"h5 bold"},{default:l(()=>[v(" Gr\xE1tis ")]),_:1}))]),_:2},1024)):w("",!0)]),_:2},1024)]),_:2},1024),o(n,{col:"12",self:"end",text:"right",bordered:"top",class:"q-mt-md"},{default:l(()=>[o(c,{onClick:g=>i.adicionarLente(f,I),label:"Adicionar",color:"primary",unelevated:"",class:"q-ml-sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(de,{modelValue:t.mostrarTratamentos,"onUpdate:modelValue":e[12]||(e[12]=f=>t.mostrarTratamentos=f),persistent:"",maximized:""},{default:l(()=>[o(s)]),_:1},8,["modelValue"]),o(de,{modelValue:t.mostrarAplicacoes,"onUpdate:modelValue":e[13]||(e[13]=f=>t.mostrarAplicacoes=f),persistent:"",maximized:""},{default:l(()=>[o(P,{lentes:t.lentes},null,8,["lentes"])]),_:1},8,["modelValue"])]),_:1})}var Xs=H(js,[["render",Gs],["__scopeId","data-v-3dae8f7b"]]);const Ys={components:{grafico:bo,avatar:Me},data(){return{expandir:"",graficoLaminese:{labels:["Pink","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",hoverBackgroundColor:"#424242",backgroundColor:["#EC407A","#42A5F5","#FFCA28","#4CAF50","#673AB7","#F57C00"],data:[12,19,3,5,2,3]}]},graficoLamineseOpcoes:{responsive:!0,maintainAspectRatio:!0}}},emits:["mudarTela","fecharModal"],methods:{fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","Laminese")},btProximo(a){this.$emit("mudarTela",a)},btOpen(a){this.expandir=a}}};function Ws(a,e,u,m,t,i){const n=k("grafico"),d=k("g-col"),b=k("avatar"),h=k("g-label"),s=k("g-row");return p(),_(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=P=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(me,{vertical:"",inset:"",class:"q-mx-sm"}),o(c,{onClick:e[1]||(e[1]=P=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(j,null,{default:l(()=>[v("Gr\xE1fico Laminese")]),_:1})]),_:1})]),_:1}),o(W,{class:"q-my-md"},{default:l(()=>[o(Z,{class:"u-container rounded-borders bg-white"},{default:l(()=>[o(s,{gutter:"md"},{default:l(()=>[o(d,{col:"12",mg:"lg-b"},{default:l(()=>[o(n,{type:"doughnut",data:t.graficoLaminese,options:t.graficoLamineseOpcoes},null,8,["data","options"])]),_:1}),o(d,{col:"12 sm4",order:"xs0 sm0",bg:"bg-white"},{default:l(()=>[o(c,{onClick:e[2]||(e[2]=P=>i.btOpen("Mono")),label:"Monofocal",color:t.expandir==="Mono"?"tertiary":"primary",dark:"",unelevated:"",class:"fit"},null,8,["color"])]),_:1}),o(d,{col:"12 sm4",order:"xs2 sm1",bg:"bg-white"},{default:l(()=>[o(c,{onClick:e[3]||(e[3]=P=>i.btOpen("Multi")),label:"Multifocal",color:t.expandir==="Multi"?"tertiary":"primary",dark:"",unelevated:"",class:"fit"},null,8,["color"])]),_:1}),o(d,{col:"12 sm4",order:"xs4 sm2",bg:"bg-white"},{default:l(()=>[o(c,{onClick:e[4]||(e[4]=P=>i.btOpen("Ocupacional")),label:"Ocupacional",color:t.expandir==="Ocupacional"?"tertiary":"primary",dark:"",unelevated:"",class:"fit"},null,8,["color"])]),_:1}),o(d,{col:"12",order:"xs1 sm3"},{default:l(()=>[y(o(s,{gutter:"md"},{default:l(()=>[o(d,{onClick:e[5]||(e[5]=P=>i.btProximo("Tratamentos")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(b,{imagem:"",rotulo:"Rodstock",class:"q-mb-sm",tamanho:"120"}),o(h,{text:"sub1 medium"},{default:l(()=>[v("Rodstock")]),_:1}),o(h,{text:"caption"},{default:l(()=>[v("65.139.317/0001-59")]),_:1})]),_:1}),o(d,{onClick:e[6]||(e[6]=P=>i.btProximo("Tratamentos")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(b,{imagem:"",rotulo:"Pr\xF3prio",class:"q-mb-sm",tamanho:"120"}),o(h,{text:"sub1 medium"},{default:l(()=>[v("Pr\xF3prio")]),_:1}),o(h,{text:"caption"},{default:l(()=>[v("65.139.317/0001-59")]),_:1})]),_:1})]),_:1},512),[[Q,t.expandir==="Mono"]])]),_:1}),o(d,{col:"12",order:"xs3 sm4"},{default:l(()=>[y(o(s,{gutter:"md"},{default:l(()=>[o(d,{onClick:e[7]||(e[7]=P=>i.btProximo("CampoVisao")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(b,{imagem:"",rotulo:"Essilor",class:"q-mb-sm",tamanho:"120"}),o(h,{text:"sub1 medium"},{default:l(()=>[v("Essilor")]),_:1}),o(h,{text:"caption"},{default:l(()=>[v("65.139.317/0001-59")]),_:1})]),_:1}),o(d,{onClick:e[8]||(e[8]=P=>i.btProximo("CampoVisao")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(b,{imagem:"",rotulo:"Zeiss",class:"q-mb-sm",tamanho:"120"}),o(h,{text:"sub1 medium"},{default:l(()=>[v("Zeiss")]),_:1}),o(h,{text:"caption"},{default:l(()=>[v("65.139.317/0001-59")]),_:1})]),_:1}),o(d,{onClick:e[9]||(e[9]=P=>i.btProximo("CampoVisao")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(b,{imagem:"",rotulo:"Rodstock",class:"q-mb-sm",tamanho:"120"}),o(h,{text:"sub1 medium"},{default:l(()=>[v("Rodstock")]),_:1}),o(h,{text:"caption"},{default:l(()=>[v("65.139.317/0001-59")]),_:1})]),_:1}),o(d,{onClick:e[10]||(e[10]=P=>i.btProximo("CampoVisao")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(b,{imagem:"",rotulo:"Pr\xF3prio",class:"q-mb-sm",tamanho:"120"}),o(h,{text:"sub1 medium"},{default:l(()=>[v("Pr\xF3prio")]),_:1}),o(h,{text:"caption"},{default:l(()=>[v("65.139.317/0001-59")]),_:1})]),_:1})]),_:1},512),[[Q,t.expandir==="Multi"]])]),_:1}),o(d,{col:"12",order:"xs5 sm5"},{default:l(()=>[y(o(s,{gutter:"md"},{default:l(()=>[o(d,{onClick:e[11]||(e[11]=P=>i.btProximo("TamanhoArmacao")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(b,{imagem:"",rotulo:"Essilor",class:"q-mb-sm",tamanho:"120"}),o(h,{text:"sub1 medium"},{default:l(()=>[v("Essilor")]),_:1}),o(h,{text:"caption"},{default:l(()=>[v("65.139.317/0001-59")]),_:1})]),_:1}),o(d,{onClick:e[12]||(e[12]=P=>i.btProximo("TamanhoArmacao")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(b,{imagem:"",rotulo:"Zeiss",class:"q-mb-sm",tamanho:"120"}),o(h,{text:"sub1 medium"},{default:l(()=>[v("Zeiss")]),_:1}),o(h,{text:"caption"},{default:l(()=>[v("65.139.317/0001-59")]),_:1})]),_:1}),o(d,{onClick:e[13]||(e[13]=P=>i.btProximo("TamanhoArmacao")),col:"6 sm",mg:"md-b","rounded-borders":"",text:"center",class:"itemHover"},{default:l(()=>[o(b,{imagem:"",rotulo:"Rodstock",class:"q-mb-sm",tamanho:"120"}),o(h,{text:"sub1 medium"},{default:l(()=>[v("Rodstock")]),_:1}),o(h,{text:"caption"},{default:l(()=>[v("65.139.317/0001-59")]),_:1})]),_:1})]),_:1},512),[[Q,t.expandir==="Ocupacional"]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var Js=H(Ys,[["render",Ws]]);const Zs={data(){return{}},emits:["mudarTela","fecharModal"],methods:{fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","Polarizado")},btProximo(){this.$emit("mudarTela","Pagamento")}}};function Ks(a,e,u,m,t,i){const n=k("g-label"),d=k("g-col"),b=k("g-row");return p(),_(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=h=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(me,{vertical:"",inset:"",class:"q-mx-sm"}),o(c,{onClick:e[1]||(e[1]=h=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(j,null,{default:l(()=>[v("Carrinho")]),_:1}),o(c,{onClick:e[2]||(e[2]=h=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1})]),_:1}),o(W,{class:"q-mt-md"},{default:l(()=>[o(Z,{class:"u-container rounded-borders"},{default:l(()=>[o(b,{gutter:"md"},{default:l(()=>[o(d,null,{default:l(()=>[o(n,{text:"h1 bold center",class:"q-my-xl q-mx-auto"},{default:l(()=>[v("CARRINHO...")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var $s=H(Zs,[["render",Ks]]);const ei={data(){return{}},emits:["mudarTela","fecharModal"],methods:{fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","Carrinho")},btProximo(){this.$emit("mudarTela","NotaFiscal")}}};function oi(a,e,u,m,t,i){const n=k("g-label"),d=k("g-col"),b=k("g-row");return p(),_(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=h=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(me,{vertical:"",inset:"",class:"q-mx-sm"}),o(c,{onClick:e[1]||(e[1]=h=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(j,null,{default:l(()=>[v("Pagamento")]),_:1}),o(c,{onClick:e[2]||(e[2]=h=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1})]),_:1}),o(W,{class:"q-mt-md"},{default:l(()=>[o(Z,{class:"u-container rounded-borders"},{default:l(()=>[o(b,{gutter:"md"},{default:l(()=>[o(d,null,{default:l(()=>[o(n,{text:"h1 bold center",class:"q-my-xl q-mx-auto"},{default:l(()=>[v("PAGAMENTO...")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var ti=H(ei,[["render",oi]]);const li={data(){return{}},emits:["mudarTela","infoAdicionais"],methods:{fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","Pagamento")},btProximo(){this.$emit("mudarTela","TamanhoArmacao")}}};function ai(a,e,u,m,t,i){const n=k("g-label"),d=k("g-col"),b=k("g-row");return p(),_(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=h=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(me,{vertical:"",inset:"",class:"q-mx-sm"}),o(c,{onClick:e[1]||(e[1]=h=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(j,null,{default:l(()=>[v("Nota Fiscal")]),_:1}),o(c,{onClick:e[2]||(e[2]=h=>i.btProximo()),icon:"arrow_forward",round:"",flat:"",dense:"",class:"q-ml-sm"})]),_:1})]),_:1}),o(W,{class:"q-mt-md"},{default:l(()=>[o(Z,{class:"u-container rounded-borders"},{default:l(()=>[o(b,{gutter:"md"},{default:l(()=>[o(d,null,{default:l(()=>[o(n,{text:"h1 bold center",class:"q-my-xl q-mx-auto"},{default:l(()=>[v("NOTA FISCAL...")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var si=H(li,[["render",ai]]);const ii={OftalmoscopiaDireta:!1,AcuiVisual:!1,ReflPup:!1,AvaliacaoMotora:!1,Ppc:!1,CoverTeste:!1,ReservasFusionais:!1,Subjetivo:!1,Ambulatorial:!1,Afinamento:!1,Biomicroscopia:!1,RXFinal:!1,Diagnostico:!1},ri={visivel:!1,sinaisSintomas:"",antecedentePessoais:"",atencedenteFamiliares:"",oftalmoscopiaDireta:{od:{bruckner:null,lente:null,escavacao:null,relacaoAV:null,macula:null,fixacao:null,cor:null,papila:null,observacao:""},oe:{bruckner:null,lente:null,escavacao:null,relacaoAV:null,macula:null,fixacao:null,cor:null,papila:null,observacao:""}},acuiVisual:{od:{VLSC:null,PH:null,VPSC:null,VLCC:null,VPCC:null},oe:{VLSC:null,PH:null,VPSC:null,VLCC:null,VPCC:null},optotipo:""},reflPup:{od:{fotomotor:null,consensual:null,acomodativo:null},oe:{fotomotor:null,consensual:null,acomodativo:null}},avaliacaoMotora:{od:{kappa:null,hirschberg:null,duccoes:null,versoes:{ava_mot_ver_od_0:!1,ava_mot_ver_od_1:!1,ava_mot_ver_od_2:!1,ava_mot_ver_od_3:!1,ava_mot_ver_od_4:!1,ava_mot_ver_od_5:!1},observacao:""},oe:{kappa:null,hirschberg:null,duccoes:null,versoes:{ava_mot_ver_oe_0:!1,ava_mot_ver_oe_1:!1,ava_mot_ver_oe_2:!1,ava_mot_ver_oe_3:!1,ava_mot_ver_oe_4:!1,ava_mot_ver_oe_5:!1},observacao:""}},ppc:{objetoReal:null,luz:null,filtro:null},coverTeste:{sc:{dist6m:null,dist40cm:null,dist20cm:null},cc:{dist6m:null,dist40cm:null,dist20cm:null}},reservasFusionais:{vl:{rfn:null,rfp:null},vp:{rfn:null,rfp:null}},subjetivo:{od:{esf:null,cil:null,eixo:null,avl:null,avp:null},oe:{esf:null,cil:null,eixo:null,avl:null,avp:null},add:{esf:null,cil:null,eixo:null,avl:null,avp:null}},ambulatorial:{od:{esf:null,cil:null,eixo:null,avl:null,avp:null},oe:{esf:null,cil:null,eixo:null,avl:null,avp:null},add:{esf:null,cil:null,eixo:null,avl:null,avp:null}},afinamento:{od:{esf:null,cil:null,eixo:null,avl:null,avp:null},oe:{esf:null,cil:null,eixo:null,avl:null,avp:null},add:{esf:null,cil:null,eixo:null,avl:null,avp:null}},biomicroscopia:{od:{sobrancelhas:null,cilios:null,palpepras:null,conjuntivas:null,corneas:null,iris:null,cristalinos:null,observacao:""},oe:{sobrancelhas:null,cilios:null,palpepras:null,conjuntivas:null,corneas:null,iris:null,cristalinos:null,observacao:""}},rxFinal:{od:{esf:null,cil:null,eixo:null,avl:null,avp:null},oe:{esf:null,cil:null,eixo:null,avl:null,avp:null},add:{esf:null,cil:null,eixo:null,avl:null,avp:null}},diagnostico:{od:{patologico:null,motor:null,refrativo:null},oe:{patologico:null,motor:null,refrativo:null},obs:{patologico:"",motor:"",refrativo:""}}},ni={components:{ContatoCriar:ro,Arquivo:no},data(){return{abasOptometria:{},camposOptometria:{},verOptometria:!1,abaSelecionada:"dioptria",campos:{id:"",idEmpresa:"",paciente:{id:"",nome:"",idade:""},medico:{id:"",nome:""},data:null,validade:null,observacoes:"",prescricao:{dioptria:{od:{longe:{cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},medio:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},perto:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""}},oe:{longe:{cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},medio:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""},perto:{adicao:null,cilindrico:null,dnp:null,eixo:null,esferico:null,id:"",operacao:"",status:""}}},prisma:{od:{base:"",valor:null},oe:{base:"",valor:null}}}},receitaOriginal:{},confirmaHabilitaPerto:!1,habilitaAE:!1,habilitaMedio:!1,habilitaPerto:!1,odLongeEsferico:null,odMedioAdicao:null,odMedioEsferico:null,odPertoAdicao:null,odPertoEsferico:null,oeLongeEsferico:null,oeMedioAdicao:null,oeMedioEsferico:null,oePertoAdicao:null,oePertoEsferico:null,opcoesPacientes:[],opcoesMedicos:[],visivel:!1,arquivosOriginal:[],arquivos:[]}},emits:["atualizar","mudarTela"],methods:{fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","FotoReceita")},btProximo(){this.$emit("mudarTela","FotoRosto")},visibilidadeOptometriaAlterado(){this.camposOptometria.visivel=this.verOptometria},carregaAbasAbertas(){let a=localStorage.getItem("abasOptometria");if(a){const e=JSON.parse(a);this.abasOptometria.OftalmoscopiaDireta=e.OftalmoscopiaDireta,this.abasOptometria.AcuiVisual=e.AcuiVisual,this.abasOptometria.ReflPup=e.ReflPup,this.abasOptometria.AvaliacaoMotora=e.AvaliacaoMotora,this.abasOptometria.Ppc=e.Ppc,this.abasOptometria.CoverTeste=e.CoverTeste,this.abasOptometria.ReservasFusionais=e.ReservasFusionais,this.abasOptometria.Subjetivo=e.Subjetivo,this.abasOptometria.Ambulatorial=e.Ambulatorial,this.abasOptometria.Afinamento=e.Afinamento,this.abasOptometria.Biomicroscopia=e.Biomicroscopia,this.abasOptometria.RXFinal=e.RXFinal,this.abasOptometria.Diagnostico=e.Diagnostico}},setAba(){localStorage.setItem("abasOptometria",JSON.stringify({OftalmoscopiaDireta:this.abasOptometria.OftalmoscopiaDireta,AcuiVisual:this.abasOptometria.AcuiVisual,ReflPup:this.abasOptometria.ReflPup,AvaliacaoMotora:this.abasOptometria.AvaliacaoMotora,Ppc:this.abasOptometria.Ppc,CoverTeste:this.abasOptometria.CoverTeste,ReservasFusionais:this.abasOptometria.ReservasFusionais,Subjetivo:this.abasOptometria.Subjetivo,Ambulatorial:this.abasOptometria.Ambulatorial,Afinamento:this.abasOptometria.Afinamento,Biomicroscopia:this.abasOptometria.Biomicroscopia,RXFinal:this.abasOptometria.RXFinal,Diagnostico:this.abasOptometria.Diagnostico}))},calcDates(a){const e=a.split("/");var u=new Date().getFullYear();return Number(u)-Number(e[2])},async criarOpcoesPacientes(){try{const a=await $db.contato.leFilhos($db.contato.selecionado.id);a.push($db.contato.selecionado);const e=a.map(u=>({label:u.nome,value:u.id,avisoRotulo:$filters.data(u.dataAbertura)+" "+this.calcDates($filters.data(u.dataAbertura))+"anos"}));return e.sort((u,m)=>u.label<m.label?1:-1),e}catch(a){this.$q.notifyError("N\xE3o foi poss\xEDvel carregar os dados de pacientes",a)}},filtrarPacientes(a,e){setTimeout(()=>{e(async()=>{const u=await this.criarOpcoesPacientes();if(a==="")this.opcoesPacientes=u;else{const m=$utils.removerAcentos(a.toLowerCase()).split(" ");this.opcoesPacientes=u.filter(t=>{const i=$utils.removerAcentos(t.label.toLowerCase());for(const n of m)if(!(i.indexOf(n)>-1))return!1;return!0})}})},500)},async criarOpcoesMedicos(a){try{const u=(await $db.contato.ler({filtros:{termoBusca:a,ativo:!0,medicos:!0}})).data.map(m=>{var t;return{label:m.nome,sublabel:((t=m.numeroDocumentoMunicipal)!=null?t:"").trim(),value:m.id}});return u.sort((m,t)=>m.label<t.label?1:-1),u}catch(e){this.$q.notifyError("N\xE3o foi poss\xEDvel carregar os dados de m\xE9dicos",e)}},async filtrarMedicos(a,e){const u=await this.criarOpcoesMedicos(a);e(()=>{if(a==="")this.opcoesMedicos=u;else{const m=$utils.removerAcentos(a.toLowerCase()).split(" ");this.opcoesMedicos=u.filter(t=>{const i=$utils.removerAcentos(t.label.toLowerCase()+" "+t.sublabel.toLowerCase());for(const n of m)if(!(i.indexOf(n)>-1))return!1;return!0})}})},async abrirModalDependente(){const a=await this.$refs.modalDependente.mostrar();(a||{}).id&&this.criarDependencia(a)},async abrirModalMedico(){const a=await this.$refs.modalMedico.mostrar();(a||{}).id&&this.criarMedico(a)},async aoCopiarODOE(a){$q.dialog({message:"Esta a\xE7\xE3o ir\xE1 sobrescrever os dados do olho esquerdo.",title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{a()})},selecionarPaciente(a){this.campos.paciente.nome=a.label,this.campos.paciente.avisoRotulo=a.avisoRotulo,this.campos.paciente.id=a.value},async atualizar(){$q.loading.show();try{this.carregaAbasAbertas();const a=await $db.receita.le({id:this.id});this.campos=a,this.receitaOriginal=$utils.clonar(a),this.campos.idEmpresa||(this.campos.idEmpresa=this.idEmpresa);let e=!1;(this.campos.prescricao.dioptria.od.longe.esferico||this.campos.prescricao.dioptria.od.longe.cilindrico||this.campos.prescricao.dioptria.od.longe.eixo||this.campos.prescricao.dioptria.od.longe.dnp||this.campos.prescricao.dioptria.oe.longe.esferico||this.campos.prescricao.dioptria.oe.longe.cilindrico||this.campos.prescricao.dioptria.oe.longe.eixo||this.campos.prescricao.dioptria.oe.longe.dnp)&&(e=!0),(this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.dnp)&&(this.habilitaMedio=!0),!e&&(this.campos.prescricao.dioptria.od.perto.cilindrico||this.campos.prescricao.dioptria.od.perto.eixo||this.campos.prescricao.dioptria.oe.perto.cilindrico||this.campos.prescricao.dioptria.oe.perto.eixo)&&(this.confirmaHabilitaPerto=this.habilitaPerto=!0),this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico,this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico,this.odPertoAdicao=this.campos.prescricao.dioptria.od.perto.adicao,this.oePertoAdicao=this.campos.prescricao.dioptria.oe.perto.adicao,this.odPertoEsferico=this.campos.prescricao.dioptria.od.perto.esferico,this.oePertoEsferico=this.campos.prescricao.dioptria.oe.perto.esferico,this.arquivosOriginal=await $db.arquivo.ler({filtros:{idTabelaMaster:this.id}}),this.arquivos=$utils.clonarV2(this.arquivosOriginal),await this.carregarOptometria()}catch(a){$q.notifyError("Ocorreu erro ao consultar a receita"),console.error(a)}finally{$q.loading.hide()}},atualizarValidade(){if(this.campos.data){let a=new Date(this.campos.data);a.setFullYear(a.getFullYear()+1),this.campos.validade=ce.formatDate(a)}},calcularAE(){let a=this.campos.prescricao.dioptria.od.longe.esferico,e=this.campos.prescricao.dioptria.oe.longe.esferico;if(this.habilitaMedio){let u=this.campos.prescricao.dioptria.od.medio.adicao,m=this.campos.prescricao.dioptria.od.medio.esferico;(u!==this.odMedioAdicao||m!==this.odMedioEsferico||a!==this.odLongeEsferico&&(!!u||!!m))&&(this.habilitaAE?u=m===null||a===null?null:m-a:m=a===null||u===null?null:a+u,this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico=a,this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao=u,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico=m);let t=this.campos.prescricao.dioptria.oe.medio.adicao,i=this.campos.prescricao.dioptria.oe.medio.esferico;(t!==this.oeMedioAdicao||i!==this.oeMedioEsferico||e!==this.oeLongeEsferico&&(!!t||!!i))&&(this.habilitaAE?t=i===null||e===null?null:i-e:i=e===null||t===null?null:e+t,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico=e,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao=t,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico=i)}if(!this.habilitaPerto){let u=this.campos.prescricao.dioptria.od.perto.adicao,m=this.campos.prescricao.dioptria.od.perto.esferico;(u!==this.odPertoAdicao||m!==this.odPertoEsferico||a!==this.odLongeEsferico&&(!!u||!!m))&&(this.habilitaAE?u=m===null||a===null?null:m-a:m=a===null||u===null?null:a+u,this.odLongeEsferico=this.campos.prescricao.dioptria.od.longe.esferico=a,this.odPertoAdicao=this.campos.prescricao.dioptria.od.perto.adicao=u,this.odPertoEsferico=this.campos.prescricao.dioptria.od.perto.esferico=m);let t=this.campos.prescricao.dioptria.oe.perto.adicao,i=this.campos.prescricao.dioptria.oe.perto.esferico;(t!==this.oePertoAdicao||i!==this.oePertoEsferico||e!==this.oeLongeEsferico&&(!!t||!!i))&&(this.habilitaAE?t=i===null||e===null?null:i-e:i=e===null||t===null?null:e+t,this.oeLongeEsferico=this.campos.prescricao.dioptria.oe.longe.esferico=e,this.oePertoAdicao=this.campos.prescricao.dioptria.oe.perto.adicao=t,this.oePertoEsferico=this.campos.prescricao.dioptria.oe.perto.esferico=i)}},copiarODDioptria(){this.aoCopiarODOE(()=>{this.campos.prescricao.dioptria.oe.longe.cilindrico=this.campos.prescricao.dioptria.od.longe.cilindrico,this.campos.prescricao.dioptria.oe.longe.dnp=this.campos.prescricao.dioptria.od.longe.dnp,this.campos.prescricao.dioptria.oe.longe.eixo=this.campos.prescricao.dioptria.od.longe.eixo,this.campos.prescricao.dioptria.oe.longe.esferico=this.campos.prescricao.dioptria.od.longe.esferico,this.campos.prescricao.dioptria.oe.medio.adicao=this.campos.prescricao.dioptria.od.medio.adicao,this.campos.prescricao.dioptria.oe.medio.dnp=this.campos.prescricao.dioptria.od.medio.dnp,this.campos.prescricao.dioptria.oe.medio.esferico=this.campos.prescricao.dioptria.od.medio.esferico,this.campos.prescricao.dioptria.oe.medio.cilindrico=this.campos.prescricao.dioptria.od.medio.cilindrico,this.campos.prescricao.dioptria.oe.medio.eixo=this.campos.prescricao.dioptria.od.medio.eixo,this.campos.prescricao.dioptria.oe.perto.adicao=this.campos.prescricao.dioptria.od.perto.adicao,this.campos.prescricao.dioptria.oe.perto.cilindrico=this.campos.prescricao.dioptria.od.perto.cilindrico,this.campos.prescricao.dioptria.oe.perto.dnp=this.campos.prescricao.dioptria.od.perto.dnp,this.campos.prescricao.dioptria.oe.perto.eixo=this.campos.prescricao.dioptria.od.perto.eixo,this.campos.prescricao.dioptria.oe.perto.esferico=this.campos.prescricao.dioptria.od.perto.esferico})},copiarODPrisma(){this.aoCopiarODOE(()=>{this.campos.prescricao.prisma.oe=$utils.clonar(this.campos.prescricao.prisma.od)})},async criarDependencia(a){try{await $db.contato.criarDependenciaContatos({contatoPai:$db.contato.selecionado,contatoFilho:a}),await $db.contato.carregarMemoria($db.contato.selecionado.id),await $db.contato.carregarMemoria(a.id),this.campos.paciente.id=a.id,this.campos.paciente.nome=a.nome}catch(e){this.$q.notifyError("Ocorreu um erro ao criar a depend\xEAncia.",e)}},async criarMedico(a){try{await $db.contato.criarContatoGrupo({idContato:a.id,descricaoGrupo:"M\xE9dico"}),await $db.contato.carregarMemoria(a.id),this.campos.medico.id=a.id,this.campos.medico.nome=a.nome}catch(e){this.$q.notifyError("Ocorreu um erro ao adicionar o contato ao grupo M\xE9dico.",e)}},selecionarMedico(a){this.campos.medico.id=a.value,this.campos.medico.nome=a.label},async salvarReceita(){let a="Ocorreu um erro ao salvar a receita.";try{let e=new Date().setHours(0,0,0,0),u=new Date(this.campos.data).setHours(0,0,0,0);$utils.verificarErro(!this.campos.data||!this.campos.validade,"Preencha o per\xEDodo."),$utils.verificarErro(u>e,"Data da receita n\xE3o pode ser maior que hoje."),$utils.verificarErro(!this.campos.medico.id||!this.campos.medico.nome,"Selecione o m\xE9dico."),$utils.verificarErro(!this.campos.paciente.id||!this.campos.paciente.nome,"Selecione o paciente.");let m="Receita salva com sucesso.";this.duplicarReceita&&(this.campos.id=$utils.uuid(),this.campos.medico.idDocumentoContato=$utils.uuid(),this.campos.prescricao.dioptria.od.longe.id=$utils.uuid(),this.campos.prescricao.dioptria.od.medio.id=$utils.uuid(),this.campos.prescricao.dioptria.od.perto.id=$utils.uuid(),this.campos.prescricao.dioptria.oe.longe.id=$utils.uuid(),this.campos.prescricao.dioptria.oe.medio.id=$utils.uuid(),this.campos.prescricao.dioptria.oe.perto.id=$utils.uuid(),delete this.campos.dadosOriginais,m="Receita duplicada com sucesso.",a="Ocorreu um erro ao duplicar a receita."),this.$q.loading.show({delay:200,message:"Salvando a receita"}),await $db.receita.grava(this.campos),await this.gravarOptometria(),await $db.arquivo.remove(this.arquivosOriginal.filter(t=>!this.arquivos.find(i=>i.id===t.id)));for(const t of this.arquivos){let i={};Object.keys(this.arquivosOriginal).length?i={original:this.arquivosOriginal.find(n=>n.id===t.id)||[{}],atual:t}:i={atual:t},(t==null?void 0:t.name)&&(t==null?void 0:t.editado)&&await $db.arquivo.edita(i),t!=null&&t.name||await $db.arquivo.grava(i)}this.visivel=!1,this.$q.notifyPositive(m),this.$emit("atualizar")}catch(e){this.$q.notifyError(a,e)}finally{this.$q.loading.hide()}},async zerarCamposLongeMedio(){const a=async()=>{await this.zerarCamposMedio(!1),this.campos.prescricao.dioptria.od.longe.esferico=null,this.campos.prescricao.dioptria.od.longe.cilindrico=null,this.campos.prescricao.dioptria.od.longe.eixo=null,this.campos.prescricao.dioptria.od.longe.dnp=null,this.campos.prescricao.dioptria.od.perto.adicao=null,this.campos.prescricao.dioptria.od.perto.esferico=null,this.campos.prescricao.dioptria.od.perto.dnp=null,this.campos.prescricao.dioptria.od.perto.cilindrico=null,this.campos.prescricao.dioptria.od.perto.eixo=null,this.campos.prescricao.dioptria.oe.longe.esferico=null,this.campos.prescricao.dioptria.oe.longe.cilindrico=null,this.campos.prescricao.dioptria.oe.longe.eixo=null,this.campos.prescricao.dioptria.oe.longe.dnp=null,this.campos.prescricao.dioptria.oe.perto.adicao=null,this.campos.prescricao.dioptria.oe.perto.esferico=null,this.campos.prescricao.dioptria.oe.perto.dnp=null,this.campos.prescricao.dioptria.oe.perto.cilindrico=null,this.campos.prescricao.dioptria.oe.perto.eixo=null};let e=!1;this.habilitaPerto?e=this.campos.prescricao.dioptria.od.longe.esferico||this.campos.prescricao.dioptria.od.longe.cilindrico||this.campos.prescricao.dioptria.od.longe.eixo||this.campos.prescricao.dioptria.od.longe.dnp||this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.od.perto.adicao||this.campos.prescricao.dioptria.od.perto.esferico||this.campos.prescricao.dioptria.od.perto.dnp||this.campos.prescricao.dioptria.oe.longe.esferico||this.campos.prescricao.dioptria.oe.longe.cilindrico||this.campos.prescricao.dioptria.oe.longe.eixo||this.campos.prescricao.dioptria.oe.longe.dnp||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.dnp||this.campos.prescricao.dioptria.oe.perto.adicao||this.campos.prescricao.dioptria.oe.perto.esferico||this.campos.prescricao.dioptria.oe.perto.dnp:e=this.campos.prescricao.dioptria.od.perto.esferico||this.campos.prescricao.dioptria.od.perto.dnp||this.campos.prescricao.dioptria.od.perto.cilindrico||this.campos.prescricao.dioptria.od.perto.eixo||this.campos.prescricao.dioptria.oe.perto.esferico||this.campos.prescricao.dioptria.oe.perto.dnp||this.campos.prescricao.dioptria.oe.perto.cilindrico||this.campos.prescricao.dioptria.oe.perto.eixo,e?await new Promise((u,m)=>{this.$q.dialog({message:"Ao continuar os dados ser\xE3o perdidos.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{a().then(()=>{this.habilitaMedio=!1,this.habilitaAE=!1})}).onCancel(()=>{this.habilitaPerto=!this.habilitaPerto}).onDismiss(()=>{u()})}):(this.habilitaMedio=!1,this.habilitaAE=!1),this.confirmaHabilitaPerto=this.habilitaPerto},async zerarCamposMedio(a){const e=()=>{this.odMedioAdicao=this.campos.prescricao.dioptria.od.medio.adicao=null,this.odMedioEsferico=this.campos.prescricao.dioptria.od.medio.esferico=null,this.campos.prescricao.dioptria.od.medio.dnp=null,this.oeMedioAdicao=this.campos.prescricao.dioptria.oe.medio.adicao=null,this.oeMedioEsferico=this.campos.prescricao.dioptria.oe.medio.esferico=null,this.campos.prescricao.dioptria.oe.medio.dnp=null,this.campos.prescricao.dioptria.od.medio.cilindrico=null,this.campos.prescricao.dioptria.od.medio.eixo=null,this.campos.prescricao.dioptria.oe.medio.cilindrico=null,this.campos.prescricao.dioptria.oe.medio.eixo=null};a?(this.campos.prescricao.dioptria.od.medio.adicao||this.campos.prescricao.dioptria.od.medio.esferico||this.campos.prescricao.dioptria.od.medio.dnp||this.campos.prescricao.dioptria.oe.medio.adicao||this.campos.prescricao.dioptria.oe.medio.esferico||this.campos.prescricao.dioptria.oe.medio.dnp)&&await new Promise((m,t)=>{this.$q.dialog({message:"Ao continuar os dados ser\xE3o perdidos.",noRefocus:!0,preventClose:!0,title:"Tem certeza?",cancel:{label:"Cancelar",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{e()}).onCancel(()=>{this.habilitaMedio=!this.habilitaMedio}).onDismiss(()=>{m()})}):e()},calcularDnpPerto(a){if(a==="direito"){const e=(this.campos.prescricao.dioptria.od.perto.adicao||this.campos.prescricao.dioptria.od.perto.esferico)&&!this.campos.prescricao.dioptria.od.perto.dnp,u=this.campos.prescricao.dioptria.od.longe.dnp;$utils.isNumber(u)&&!!u&&e&&(this.campos.prescricao.dioptria.od.perto.dnp=u-1.5)}if(a==="esquerdo"){const e=(this.campos.prescricao.dioptria.oe.perto.adicao||this.campos.prescricao.dioptria.oe.perto.esferico)&&!this.campos.prescricao.dioptria.oe.perto.dnp,u=this.campos.prescricao.dioptria.oe.longe.dnp;$utils.isNumber(u)&&!!u&&e&&(this.campos.prescricao.dioptria.oe.perto.dnp=u-1.5)}},async mostrar(a){const{duplicarReceita:e=!1,id:u="",idEmpresa:m=""}=a;this.id=u,this.idEmpresa=m,this.duplicarReceita=e,this.abaSelecionada="dioptria",this.habilitaAE=!1,this.habilitaMedio=!1,this.habilitaPerto=this.confirmaHabilitaPerto=!1,this.abasOptometria=$utils.clonarV2(ii),this.camposOptometria=$utils.clonarV2(ri),this.verOptometria=!1,await this.atualizar(),this.visivel=!0},async carregarOptometria(){let a;this.optometriaOriginal=await $db.receita.obterOptometria({idDocumento:this.id}),a=this.optometriaOriginal.json,a&&(this.camposOptometria=JSON.parse(a),this.verOptometria=this.camposOptometria.visivel)},async gravarOptometria(){const a=this.optometriaOriginal,e={...this.optometriaOriginal,json:JSON.stringify(this.camposOptometria)};await $db.receita.gravarOptometria({original:a,atual:e,idDocumento:this.id})}},mixins:[uo]},x=a=>(se("data-v-7e8373fd"),a=a(),ie(),a),di={class:"layout-padding q-pa-none q-pb-md q-mt-md"},ui={class:"u-container"},mi={class:"col-12 col-md-3"},ci={class:"col-12 col-md-3"},pi=x(()=>r("strong",null,"CRM: ",-1)),fi={class:"col-12 col-md-3"},hi={class:"col-12 col-md-3"},bi={class:"q-pa-md"},gi={class:"col-12 col-md-4"},vi={class:"col-12 col-md-4"},_i={class:"col-12 col-md-4"},yi={class:"q-pa-md"},xi={key:0,class:"col-xs-12 col-md-6"},Vi={style:{"overflow-x":"auto"}},wi=x(()=>r("tr",null,[r("th"),r("th",{class:"esferico"},"Esf\xE9rico"),r("th",{class:"cilindrico"},"Cil\xEDndrico"),r("th",{class:"eixo"},"Eixo"),r("th",{class:"dnp"},"DNP")],-1)),Ci=x(()=>r("td",null,"OD",-1)),ki=x(()=>r("td",null,"OE",-1)),Oi={key:0},qi={key:1},zi={key:2},Ai={key:3},Fi={key:1,class:"col-xs-12 col-md-3"},Pi={style:{"overflow-x":"auto"}},Mi=x(()=>r("th",null,null,-1)),Ui={key:0,class:"esferico"},Ti={key:1,class:"esferico"},Di={key:2,class:"dnp"},Ri=x(()=>r("td",null,"OD",-1)),Ei={key:0},Ii={key:1},ji=x(()=>r("td",null,"OE",-1)),Bi={key:0},Ni={key:1},Si={style:{"overflow-x":"auto"}},Li=x(()=>r("th",null,null,-1)),Hi={key:0,class:"esferico"},Qi={key:1,class:"esferico"},Gi={key:2,class:"esferico"},Xi={key:3,class:"cilindrico"},Yi={key:4,class:"eixo"},Wi=x(()=>r("th",{class:"dnp"},"DNP",-1)),Ji=x(()=>r("td",null,"OD",-1)),Zi={key:0},Ki={key:1},$i=x(()=>r("td",null,"OE",-1)),er={key:0},or={key:1},tr={class:"col-12 col-md-auto"},lr={class:"col-12 col-md"},ar={class:"q-pa-md"},sr=x(()=>r("div",{class:"col-auto"}," OD ",-1)),ir={class:"col"},rr={class:"col"},nr={class:"col-12 col-md-auto q-pt-none text-center"},dr={class:"col-12 col-md"},ur={class:"q-pa-md"},mr=x(()=>r("div",{class:"col-auto"}," OE ",-1)),cr={class:"col"},pr={class:"col"},fr={class:"q-pa-md"},hr=x(()=>r("div",{class:"col-2 col-sm-1"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}})],-1)),br=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OD")],-1)),gr=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OE")],-1)),vr=x(()=>r("div",{class:"col-2 col-sm-1"}," Bruckner ",-1)),_r={class:"col"},yr={style:{"font-size":".9rem","font-weight":"bold"}},xr={class:"col"},Vr={style:{"font-size":".9rem","font-weight":"bold"}},wr=x(()=>r("div",{class:"col-2 col-sm-1"}," Lente ",-1)),Cr={class:"col"},kr={style:{"font-size":".9rem","font-weight":"bold"}},Or={class:"col"},qr={style:{"font-size":".9rem","font-weight":"bold"}},zr=x(()=>r("div",{class:"col-2 col-sm-1"}," Escava\xE7\xE3o ",-1)),Ar={class:"col"},Fr={style:{"font-size":".9rem","font-weight":"bold"}},Pr={class:"col"},Mr={style:{"font-size":".9rem","font-weight":"bold"}},Ur=x(()=>r("div",{class:"col-2 col-sm-1"}," Rela\xE7\xE3o AV ",-1)),Tr={class:"col"},Dr={style:{"font-size":".9rem","font-weight":"bold"}},Rr={class:"col"},Er={style:{"font-size":".9rem","font-weight":"bold"}},Ir=x(()=>r("div",{class:"col-2 col-sm-1"}," M\xE1cula ",-1)),jr={class:"col"},Br={style:{"font-size":".9rem","font-weight":"bold"}},Nr={class:"col"},Sr={style:{"font-size":".9rem","font-weight":"bold"}},Lr=x(()=>r("div",{class:"col-2 col-sm-1"}," Fixa\xE7\xE3o ",-1)),Hr={class:"col"},Qr={style:{"font-size":".9rem","font-weight":"bold"}},Gr={class:"col"},Xr={style:{"font-size":".9rem","font-weight":"bold"}},Yr=x(()=>r("div",{class:"col-2 col-sm-1"}," Cor ",-1)),Wr={class:"col"},Jr={style:{"font-size":".9rem","font-weight":"bold"}},Zr={class:"col"},Kr={style:{"font-size":".9rem","font-weight":"bold"}},$r=x(()=>r("div",{class:"col-2 col-sm-1"}," Papila ",-1)),en={class:"col"},on={style:{"font-size":".9rem","font-weight":"bold"}},tn={class:"col"},ln={style:{"font-size":".9rem","font-weight":"bold"}},an=x(()=>r("div",{class:"col-2 col-sm-1"}," Observa\xE7\xE3o ",-1)),sn={class:"col"},rn={style:{"font-size":".9rem","font-weight":"bold"}},nn={class:"col"},dn={style:{"font-size":".9rem","font-weight":"bold"}},un={class:"q-pa-md"},mn=x(()=>r("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1)),cn=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VL-SC")],-1)),pn=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"PH")],-1)),fn=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VP-SC")],-1)),hn=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VL-CC")],-1)),bn=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VP-CC")],-1)),gn=x(()=>r("div",{class:"col-2 col-sm-1"}," OD ",-1)),vn={class:"col"},_n={class:"col"},yn={class:"col"},xn={class:"col"},Vn={class:"col"},wn=x(()=>r("div",{class:"col-2 col-sm-1"}," OE ",-1)),Cn={class:"col"},kn={class:"col"},On={class:"col"},qn={class:"col"},zn={class:"col"},An={class:"col-12 q-mt-sm"},Fn={class:"q-pa-md"},Pn=x(()=>r("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1)),Mn=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Fotomotor")],-1)),Un=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Consensual")],-1)),Tn=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Acomodativo")],-1)),Dn=x(()=>r("div",{class:"col-2 col-sm-1"}," OD ",-1)),Rn={class:"col"},En={class:"col"},In={class:"col"},jn=x(()=>r("div",{class:"col-2 col-sm-1"}," OE ",-1)),Bn={class:"col"},Nn={class:"col"},Sn={class:"col"},Ln={class:"q-pa-md"},Hn=x(()=>r("div",{class:"col-2 col-sm-1"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}})],-1)),Qn=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OD")],-1)),Gn=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OE")],-1)),Xn=x(()=>r("div",{class:"col-2 col-sm-1"}," Kappa ",-1)),Yn={class:"col"},Wn={style:{"font-size":".9rem","font-weight":"bold"}},Jn={class:"col"},Zn={style:{"font-size":".9rem","font-weight":"bold"}},Kn=x(()=>r("div",{class:"col-2 col-sm-1"}," Hirschberg ",-1)),$n={class:"col"},ed={style:{"font-size":".9rem","font-weight":"bold"}},od={class:"col"},td={style:{"font-size":".9rem","font-weight":"bold"}},ld=x(()=>r("div",{class:"col-2 col-sm-1"}," Duc\xE7\xF5es ",-1)),ad={class:"col"},sd={style:{"font-size":".9rem","font-weight":"bold"}},id={class:"col"},rd={style:{"font-size":".9rem","font-weight":"bold"}},nd=x(()=>r("div",{class:"col-2 col-sm-1"}," Vers\xF5es ",-1)),dd={class:"col"},ud={class:"versoes"},md=x(()=>r("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},[r("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}}),r("line",{x1:"34%",y1:"0",x2:"34%",y2:"100%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}}),r("line",{x1:"66%",y1:"0",x2:"66%",y2:"100%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}})],-1)),cd={class:"checkbox checkbox-success ex-0"},pd=x(()=>r("label",{for:"c_ava_mot_ver_od_0"},null,-1)),fd={class:"checkbox checkbox-success ex-1"},hd=x(()=>r("label",{for:"c_ava_mot_ver_od_1"},null,-1)),bd={class:"checkbox checkbox-success ex-2"},gd=x(()=>r("label",{for:"c_ava_mot_ver_od_2"},null,-1)),vd={class:"checkbox checkbox-success ex-3"},_d=x(()=>r("label",{for:"c_ava_mot_ver_od_3"},null,-1)),yd={class:"checkbox checkbox-success ex-4"},xd=x(()=>r("label",{for:"c_ava_mot_ver_od_4"},null,-1)),Vd={class:"checkbox checkbox-success ex-5"},wd=x(()=>r("label",{for:"c_ava_mot_ver_od_5"},null,-1)),Cd={class:"col"},kd={class:"versoes"},Od=x(()=>r("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},[r("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}}),r("line",{x1:"34%",y1:"0",x2:"34%",y2:"100%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}}),r("line",{x1:"66%",y1:"0",x2:"66%",y2:"100%",style:{stroke:"rgb(0,0,0)","stroke-width":"2"}})],-1)),qd={class:"checkbox checkbox-success ex-0"},zd=x(()=>r("label",{for:"c_ava_mot_ver_oe_0"},null,-1)),Ad={class:"checkbox checkbox-success ex-1"},Fd=x(()=>r("label",{for:"c_ava_mot_ver_oe_1"},null,-1)),Pd={class:"checkbox checkbox-success ex-2"},Md=x(()=>r("label",{for:"c_ava_mot_ver_oe_2"},null,-1)),Ud={class:"checkbox checkbox-success ex-3"},Td=x(()=>r("label",{for:"c_ava_mot_ver_oe_3"},null,-1)),Dd={class:"checkbox checkbox-success ex-4"},Rd=x(()=>r("label",{for:"c_ava_mot_ver_oe_4"},null,-1)),Ed={class:"checkbox checkbox-success ex-5"},Id=x(()=>r("label",{for:"c_ava_mot_ver_oe_5"},null,-1)),jd=x(()=>r("div",{class:"col-2 col-sm-1"}," Observa\xE7\xE3o ",-1)),Bd={class:"col"},Nd={style:{"font-size":".9rem","font-weight":"bold"}},Sd={class:"col"},Ld={style:{"font-size":".9rem","font-weight":"bold"}},Hd={class:"q-pa-md"},Qd=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Objeto Real")],-1)),Gd=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Luz")],-1)),Xd=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Filtro")],-1)),Yd={class:"col"},Wd={class:"col"},Jd={class:"col"},Zd={class:"q-pa-md"},Kd=x(()=>r("div",{class:"col-2 col-sm-1"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Distancia")],-1)),$d=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"S.C.\u2206")],-1)),eu=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"C.C.\u2206")],-1)),ou=x(()=>r("div",{class:"col-2 col-sm-1"}," 6m ",-1)),tu={class:"col"},lu={style:{"font-size":".9rem","font-weight":"bold"}},au={class:"col"},su={style:{"font-size":".9rem","font-weight":"bold"}},iu=x(()=>r("div",{class:"col-2 col-sm-1"}," 40cm ",-1)),ru={class:"col"},nu={style:{"font-size":".9rem","font-weight":"bold"}},du={class:"col"},uu={style:{"font-size":".9rem","font-weight":"bold"}},mu=x(()=>r("div",{class:"col-2 col-sm-1"}," 20cm ",-1)),cu={class:"col"},pu={style:{"font-size":".9rem","font-weight":"bold"}},fu={class:"col"},hu={style:{"font-size":".9rem","font-weight":"bold"}},bu={class:"q-pa-md"},gu=x(()=>r("div",{class:"col-2 col-sm-1"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}})],-1)),vu=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VL")],-1)),_u=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"VP")],-1)),yu=x(()=>r("div",{class:"col-2 col-sm-1"}," RFN ",-1)),xu={class:"col"},Vu={style:{"font-size":".9rem","font-weight":"bold"}},wu={class:"col"},Cu={style:{"font-size":".9rem","font-weight":"bold"}},ku=x(()=>r("div",{class:"col-2 col-sm-1"}," RFP ",-1)),Ou={class:"col"},qu={style:{"font-size":".9rem","font-weight":"bold"}},zu={class:"col"},Au={style:{"font-size":".9rem","font-weight":"bold"}},Fu={class:"q-pa-md"},Pu=x(()=>r("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1)),Mu=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"ESF.")],-1)),Uu=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"CIL.")],-1)),Tu=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"EIXO")],-1)),Du=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.L.")],-1)),Ru=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.P")],-1)),Eu=x(()=>r("div",{class:"col-2 col-sm-1"}," OD ",-1)),Iu={class:"col"},ju={class:"col"},Bu={class:"col"},Nu={class:"col"},Su={class:"col"},Lu=x(()=>r("div",{class:"col-2 col-sm-1"}," OE ",-1)),Hu={class:"col"},Qu={class:"col"},Gu={class:"col"},Xu={class:"col"},Yu={class:"col"},Wu=x(()=>r("div",{class:"col-2 col-sm-1"}," ADD ",-1)),Ju={class:"col"},Zu={class:"col"},Ku={class:"col"},$u={class:"col"},em={class:"col"},om={class:"q-pa-md"},tm=x(()=>r("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1)),lm=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"ESF.")],-1)),am=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"CIL.")],-1)),sm=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"EIXO")],-1)),im=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.L.")],-1)),rm=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.P")],-1)),nm=x(()=>r("div",{class:"col-2 col-sm-1"}," OD ",-1)),dm={class:"col"},um={class:"col"},mm={class:"col"},cm={class:"col"},pm={class:"col"},fm=x(()=>r("div",{class:"col-2 col-sm-1"}," OE ",-1)),hm={class:"col"},bm={class:"col"},gm={class:"col"},vm={class:"col"},_m={class:"col"},ym=x(()=>r("div",{class:"col-2 col-sm-1"}," ADD ",-1)),xm={class:"col"},Vm={class:"col"},wm={class:"col"},Cm={class:"col"},km={class:"col"},Om={class:"q-pa-md"},qm=x(()=>r("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1)),zm=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"ESF.")],-1)),Am=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"CIL.")],-1)),Fm=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"EIXO")],-1)),Pm=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.L.")],-1)),Mm=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.P")],-1)),Um=x(()=>r("div",{class:"col-2 col-sm-1"}," OD ",-1)),Tm={class:"col"},Dm={class:"col"},Rm={class:"col"},Em={class:"col"},Im={class:"col"},jm=x(()=>r("div",{class:"col-2 col-sm-1"}," OE ",-1)),Bm={class:"col"},Nm={class:"col"},Sm={class:"col"},Lm={class:"col"},Hm={class:"col"},Qm=x(()=>r("div",{class:"col-2 col-sm-1"}," ADD ",-1)),Gm={class:"col"},Xm={class:"col"},Ym={class:"col"},Wm={class:"col"},Jm={class:"col"},Zm={class:"q-pa-md"},Km=x(()=>r("div",{class:"col-2 col-sm-1"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}})],-1)),$m=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OD")],-1)),ec=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"OE")],-1)),oc=x(()=>r("div",{class:"col-2 col-sm-1"}," Sobrancelhas ",-1)),tc={class:"col"},lc={style:{"font-size":".9rem","font-weight":"bold"}},ac={class:"col"},sc={style:{"font-size":".9rem","font-weight":"bold"}},ic=x(()=>r("div",{class:"col-2 col-sm-1"}," C\xEDlios ",-1)),rc={class:"col"},nc={style:{"font-size":".9rem","font-weight":"bold"}},dc={class:"col"},uc={style:{"font-size":".9rem","font-weight":"bold"}},mc=x(()=>r("div",{class:"col-2 col-sm-1"}," P\xE1lpebras ",-1)),cc={class:"col"},pc={style:{"font-size":".9rem","font-weight":"bold"}},fc={class:"col"},hc={style:{"font-size":".9rem","font-weight":"bold"}},bc=x(()=>r("div",{class:"col-2 col-sm-1"}," Conjuntivas ",-1)),gc={class:"col"},vc={style:{"font-size":".9rem","font-weight":"bold"}},_c={class:"col"},yc={style:{"font-size":".9rem","font-weight":"bold"}},xc=x(()=>r("div",{class:"col-2 col-sm-1"}," C\xF3rneas ",-1)),Vc={class:"col"},wc={style:{"font-size":".9rem","font-weight":"bold"}},Cc={class:"col"},kc={style:{"font-size":".9rem","font-weight":"bold"}},Oc=x(()=>r("div",{class:"col-2 col-sm-1"}," \xCDris ",-1)),qc={class:"col"},zc={style:{"font-size":".9rem","font-weight":"bold"}},Ac={class:"col"},Fc={style:{"font-size":".9rem","font-weight":"bold"}},Pc=x(()=>r("div",{class:"col-2 col-sm-1"}," Cristalinos ",-1)),Mc={class:"col"},Uc={style:{"font-size":".9rem","font-weight":"bold"}},Tc={class:"col"},Dc={style:{"font-size":".9rem","font-weight":"bold"}},Rc=x(()=>r("div",{class:"col-2 col-sm-1"}," Observa\xE7\xE3o ",-1)),Ec={class:"col"},Ic={style:{"font-size":".9rem","font-weight":"bold"}},jc={class:"col"},Bc={style:{"font-size":".9rem","font-weight":"bold"}},Nc={class:"q-pa-md"},Sc=x(()=>r("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1)),Lc=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"ESF.")],-1)),Hc=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"CIL.")],-1)),Qc=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"EIXO")],-1)),Gc=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.L.")],-1)),Xc=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"A.V.P")],-1)),Yc=x(()=>r("div",{class:"col-2 col-sm-1"}," OD ",-1)),Wc={class:"col"},Jc={class:"col"},Zc={class:"col"},Kc={class:"col"},$c={class:"col"},ep=x(()=>r("div",{class:"col-2 col-sm-1"}," OE ",-1)),op={class:"col"},tp={class:"col"},lp={class:"col"},ap={class:"col"},sp={class:"col"},ip=x(()=>r("div",{class:"col-2 col-sm-1"}," ADD ",-1)),rp={class:"col"},np={class:"col"},dp={class:"col"},up={class:"col"},mp={class:"col"},cp={class:"q-pa-md"},pp=x(()=>r("div",{class:"col-2 col-sm-1"}," \xA0\xA0\xA0 ",-1)),fp=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Patol\xF3gico")],-1)),hp=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Motor")],-1)),bp=x(()=>r("div",{class:"col"},[r("label",{style:{"font-size":".9rem","font-weight":"bold"}},"Refrativo")],-1)),gp=x(()=>r("div",{class:"col-2 col-sm-1"}," OD ",-1)),vp={class:"col"},_p={class:"col"},yp={class:"col"},xp=x(()=>r("div",{class:"col-2 col-sm-1"}," OE ",-1)),Vp={class:"col"},wp={class:"col"},Cp={class:"col"},kp=x(()=>r("div",{class:"col-2 col-sm-1"}," OBS ",-1)),Op={class:"col"},qp={class:"col"},zp={class:"col"},Ap={class:"col-12 col-md-6"},Fp=x(()=>r("p",{class:"q-pa-md"},"Recebi instru\xE7\xF5es sobre cuidado visual e me foi explicado os resultados do exame. Sou ciente de que o exame \xE9 praticado por um profissional da \xE1rea da saude n\xE3o m\xE9dico: Optometrista, o qual \xE9 o fisiologista visual, encarregado de previnir, diagnosticar e tratar altera\xE7\xF5es do sistema visual e motor.",-1)),Pp={class:"col-12 col-md-6"},Mp=x(()=>r("p",{class:"q-pa-md"},"Declaro ter sido orientado(a) a procurar um profissional m\xE9dico por suspeita de altera\xE7\xE3o patologica, detectada no exame do optometrista / ortoptista / neuro optometrista e que a resposabilidade pela conduta cl\xEDnica ficar\xE1 a cargo do profissional m\xE9dico escolhido(a) por mim: ",-1));function Up(a,e,u,m,t,i){const n=k("campo"),d=k("row"),b=k("Arquivo"),h=k("contato-criar");return p(),_(L,{container:"",class:"bg-light"},{default:l(()=>[r("form",{onSubmit:e[218]||(e[218]=F((...s)=>i.salvarReceita&&i.salvarReceita(...s),["prevent"]))},[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=s=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(me,{vertical:"",inset:"",class:"q-mx-sm"}),o(c,{onClick:e[1]||(e[1]=s=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(j,null,{default:l(()=>[v("Receita")]),_:1}),o(Ve),o(d,{class:"items-center"},{default:l(()=>[o(n,{modelValue:t.verOptometria,"onUpdate:modelValue":[e[2]||(e[2]=s=>t.verOptometria=s),i.visibilidadeOptometriaAlterado],rotulo:"Optometria",tipo:"logico",dense:"",class:"q-mr-md",color:"white"},null,8,["modelValue","onUpdate:modelValue"]),o(c,{onClick:e[3]||(e[3]=s=>i.btProximo()),label:"Salvar",color:"white","text-color":"tertiary",unelevated:"",class:"q-ml-sm"})]),_:1})]),_:1})]),_:1}),o(W,null,{default:l(()=>[o(Z,null,{default:l(()=>[r("div",di,[r("div",ui,[o(X,{class:"bg-white no-shadow q-pa-md q-mb-md"},{default:l(()=>[o(d,{class:"q-col-gutter-md"},{default:l(()=>[r("div",mi,[o(ve,{"model-value":t.campos.paciente.nome,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"Paciente",options:t.opcoesPacientes,onFilter:i.filtrarPacientes,"onUpdate:modelValue":i.selecionarPaciente,hint:t.campos.paciente.avisoRotulo},{prepend:l(()=>[o(c,{color:"tertiary",size:"md",icon:"person_add",dense:"",flat:"",round:"",onClick:F(i.abrirModalDependente,["stop"])},{default:l(()=>[o($,null,{default:l(()=>[v("Incluir paciente")]),_:1})]),_:1},8,["onClick"])]),"no-option":l(()=>[o(U,null,{default:l(()=>[o(A,{class:"text-grey"},{default:l(()=>[v(" Resultado n\xE3o encontrado ")]),_:1})]),_:1})]),_:1},8,["model-value","options","onFilter","onUpdate:modelValue","hint"])]),r("div",ci,[o(ve,{"model-value":t.campos.medico.nome,"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",dense:"",label:"M\xE9dico ou Optometrista",options:t.opcoesMedicos,onFilter:i.filtrarMedicos,"onUpdate:modelValue":i.selecionarMedico},{prepend:l(()=>[o(c,{color:"tertiary",size:"md",icon:"person_add",dense:"",flat:"",round:"",onClick:F(i.abrirModalMedico,["stop"])},{default:l(()=>[o($,null,{default:l(()=>[v("Incluir m\xE9dico")]),_:1})]),_:1},8,["onClick"])]),"no-option":l(()=>[o(U,null,{default:l(()=>[o(A,{class:"text-grey"},{default:l(()=>[v(" Resultado n\xE3o encontrado ")]),_:1})]),_:1})]),option:l(s=>[o(U,ke(Oe(s.itemProps)),{default:l(()=>[o(A,null,{default:l(()=>[o(S,null,{default:l(()=>[v(q(s.opt.label),1)]),_:2},1024),s.opt.sublabel?(p(),_(S,{key:0,caption:""},{default:l(()=>[pi,v(" "+q(s.opt.sublabel),1)]),_:2},1024)):w("",!0)]),_:2},1024)]),_:2},1040)]),_:1},8,["model-value","options","onFilter","onUpdate:modelValue"])]),r("div",fi,[o(n,{modelValue:t.campos.data,"onUpdate:modelValue":[e[4]||(e[4]=s=>t.campos.data=s),e[5]||(e[5]=s=>i.atualizarValidade())],maxlength:"10",rotulo:"Data",tipo:"data"},null,8,["modelValue"])]),r("div",hi,[o(n,{modelValue:t.campos.validade,"onUpdate:modelValue":e[6]||(e[6]=s=>t.campos.validade=s),maxlength:"10",rotulo:"Validade",tipo:"data"},null,8,["modelValue"])]),o(n,{modelValue:t.campos.observacoes,"onUpdate:modelValue":e[7]||(e[7]=s=>t.campos.observacoes=s),class:"col-12",maxlength:"4096",rotulo:"Observa\xE7\xF5es",rows:"2",tipo:"textoArea",autogrow:""},null,8,["modelValue"])]),_:1})]),_:1}),t.verOptometria?(p(),_(X,{key:0,class:"bg-white q-mb-md no-shadow"},{default:l(()=>[o(R,{class:"text-tertiary"},{default:l(()=>[o(B,{name:"history",size:"24px"}),o(j,null,{default:l(()=>[v("Motivos da consulta")]),_:1})]),_:1}),r("div",bi,[o(d,{class:"q-col-gutter-md"},{default:l(()=>[r("div",gi,[o(n,{modelValue:t.camposOptometria.sinaisSintomas,"onUpdate:modelValue":e[8]||(e[8]=s=>t.camposOptometria.sinaisSintomas=s),class:"col-12",maxlength:"4096",rotulo:"Sinais e Sintomas",rows:"2",tipo:"textoArea",autogrow:""},null,8,["modelValue"])]),r("div",vi,[o(n,{modelValue:t.camposOptometria.antecedentesPessoais,"onUpdate:modelValue":e[9]||(e[9]=s=>t.camposOptometria.antecedentesPessoais=s),class:"col-12",maxlength:"4096",rotulo:"Antecedentes Pessoais",rows:"2",tipo:"textoArea",autogrow:""},null,8,["modelValue"])]),r("div",_i,[o(n,{modelValue:t.camposOptometria.antecedentesFamiliares,"onUpdate:modelValue":e[10]||(e[10]=s=>t.camposOptometria.antecedentesFamiliares=s),class:"col-12",maxlength:"4096",rotulo:"Antecedentes Familiares",rows:"2",tipo:"textoArea",autogrow:""},null,8,["modelValue"])])]),_:1})])]),_:1})):w("",!0),o(X,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[o(R,{class:"text-tertiary"},{default:l(()=>[o(B,{name:"image",size:"24px"}),o(j,null,{default:l(()=>[v("Arquivos")]),_:1})]),_:1}),r("div",yi,[o(b,{ref:"arquivo",arquivo:t.arquivos,idTabelaMaster:t.campos.id},null,8,["arquivo","idTabelaMaster"])])]),_:1}),o(Ue,{modelValue:t.abaSelecionada,"onUpdate:modelValue":e[11]||(e[11]=s=>t.abaSelecionada=s),align:"justify",class:"bg-transparent q-mt-lg text-primary",style:{"border-bottom":"1px solid rgba(0, 0, 0, 0.12)"},color:"transparent"},{default:l(()=>[o(ze,{label:"Dioptria",name:"dioptria"}),o(ze,{label:"Prisma",name:"prisma"})]),_:1},8,["modelValue"]),o(mo,{modelValue:t.abaSelecionada,"onUpdate:modelValue":e[51]||(e[51]=s=>t.abaSelecionada=s),animated:""},{default:l(()=>[o(Fe,{name:"dioptria",class:"bg-light q-px-none"},{default:l(()=>[t.habilitaPerto?w("",!0):(p(),_(R,{key:0},{default:l(()=>[o(j),r("div",null,[t.confirmaHabilitaPerto?w("",!0):(p(),_(n,{key:0,modelValue:t.habilitaAE,"onUpdate:modelValue":e[12]||(e[12]=s=>t.habilitaAE=s),rotulo:"Adi\xE7\xE3o / Esf\xE9rico",tipo:"logico",dense:""},null,8,["modelValue"]))])]),_:1})),o(d,{class:"q-col-gutter-md q-mb-md"},{default:l(()=>[t.habilitaPerto?w("",!0):(p(),O("div",xi,[o(X,{class:"no-shadow rounded-borders"},{default:l(()=>[o(R,null,{default:l(()=>[o(j,{class:"text-tertiary"},{default:l(()=>[v("Longe")]),_:1})]),_:1}),r("div",Vi,[r("table",null,[wi,r("tr",null,[Ci,r("td",null,[o(n,{modelValue:t.campos.prescricao.dioptria.od.longe.esferico,"onUpdate:modelValue":[e[13]||(e[13]=s=>t.campos.prescricao.dioptria.od.longe.esferico=s),i.calcularAE],dense:"",min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])]),r("td",null,[o(n,{modelValue:t.campos.prescricao.dioptria.od.longe.cilindrico,"onUpdate:modelValue":e[14]||(e[14]=s=>t.campos.prescricao.dioptria.od.longe.cilindrico=s),dense:"",aviso:t.campos.prescricao.dioptria.od.longe.cilindrico<-8||t.campos.prescricao.dioptria.od.longe.cilindrico>0,avisoRotulo:"Cil\xEDndrico est\xE1 fora do comum '0 a -8'.",min:"-10",max:"10",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","aviso"])]),r("td",null,[o(n,{modelValue:t.campos.prescricao.dioptria.od.longe.eixo,"onUpdate:modelValue":e[15]||(e[15]=s=>t.campos.prescricao.dioptria.od.longe.eixo=s),dense:"",readonly:t.campos.prescricao.dioptria.od.longe.cilindrico==0,disable:t.campos.prescricao.dioptria.od.longe.cilindrico==0,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])]),r("td",null,[o(n,{modelValue:t.campos.prescricao.dioptria.od.longe.dnp,"onUpdate:modelValue":e[16]||(e[16]=s=>t.campos.prescricao.dioptria.od.longe.dnp=s),min:"0",tipo:"decimal",dense:"",decimals:"2",onBlur:e[17]||(e[17]=s=>i.calcularDnpPerto("direito")),permiteNull:""},null,8,["modelValue"])])]),r("tr",null,[ki,t.confirmaHabilitaPerto?w("",!0):(p(),O("td",Oi,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.longe.esferico,"onUpdate:modelValue":[e[18]||(e[18]=s=>t.campos.prescricao.dioptria.oe.longe.esferico=s),i.calcularAE],dense:"",min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])])),t.confirmaHabilitaPerto?w("",!0):(p(),O("td",qi,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.longe.cilindrico,"onUpdate:modelValue":e[19]||(e[19]=s=>t.campos.prescricao.dioptria.oe.longe.cilindrico=s),dense:"",aviso:t.campos.prescricao.dioptria.oe.longe.cilindrico<-8||t.campos.prescricao.dioptria.oe.longe.cilindrico>0,avisoRotulo:"Cil\xEDndrico est\xE1 fora do comum '0 a -8'.",min:"-10",max:"10",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","aviso"])])),t.confirmaHabilitaPerto?w("",!0):(p(),O("td",zi,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.longe.eixo,"onUpdate:modelValue":e[20]||(e[20]=s=>t.campos.prescricao.dioptria.oe.longe.eixo=s),dense:"",readonly:t.campos.prescricao.dioptria.oe.longe.cilindrico==0,disable:t.campos.prescricao.dioptria.oe.longe.cilindrico==0,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])])),t.confirmaHabilitaPerto?w("",!0):(p(),O("td",Ai,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.longe.dnp,"onUpdate:modelValue":e[21]||(e[21]=s=>t.campos.prescricao.dioptria.oe.longe.dnp=s),min:"0",tipo:"decimal",dense:"",decimals:"2",onBlur:e[22]||(e[22]=s=>i.calcularDnpPerto("esquerdo")),permiteNull:""},null,8,["modelValue"])]))])])])]),_:1})])),t.habilitaPerto?w("",!0):(p(),O("div",Fi,[o(X,{class:"no-shadow rounded-borders"},{default:l(()=>[o(R,null,{default:l(()=>[o(j,{class:"text-tertiary"},{default:l(()=>[o(n,{modelValue:t.habilitaMedio,"onUpdate:modelValue":[e[23]||(e[23]=s=>t.habilitaMedio=s),e[24]||(e[24]=s=>i.zerarCamposMedio(!0))],tipo:"logico",rotulo:"M\xE9dio"},null,8,["modelValue"])]),_:1})]),_:1}),r("div",Pi,[r("table",null,[r("tr",null,[Mi,!t.confirmaHabilitaPerto&&!t.habilitaAE?(p(),O("th",Ui,"Adi\xE7\xE3o")):w("",!0),!t.confirmaHabilitaPerto&&t.habilitaAE?(p(),O("th",Ti,"Esf\xE9rico")):w("",!0),t.confirmaHabilitaPerto?w("",!0):(p(),O("th",Di,"DNP"))]),r("tr",null,[Ri,t.confirmaHabilitaPerto?w("",!0):(p(),O("td",Ei,[t.habilitaAE?w("",!0):(p(),_(n,{key:0,modelValue:t.campos.prescricao.dioptria.od.medio.adicao,"onUpdate:modelValue":[e[25]||(e[25]=s=>t.campos.prescricao.dioptria.od.medio.adicao=s),i.calcularAE],readonly:!t.habilitaMedio,disable:!t.habilitaMedio,min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue","readonly","disable"])),t.habilitaAE?(p(),_(n,{key:1,modelValue:t.campos.prescricao.dioptria.od.medio.esferico,"onUpdate:modelValue":[e[26]||(e[26]=s=>t.campos.prescricao.dioptria.od.medio.esferico=s),i.calcularAE],disable:!t.habilitaMedio,readonly:!t.habilitaMedio,min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","onUpdate:modelValue","disable","readonly"])):w("",!0)])),t.confirmaHabilitaPerto?w("",!0):(p(),O("td",Ii,[o(n,{modelValue:t.campos.prescricao.dioptria.od.medio.dnp,"onUpdate:modelValue":e[27]||(e[27]=s=>t.campos.prescricao.dioptria.od.medio.dnp=s),disable:!t.habilitaMedio,readonly:!t.habilitaMedio,min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue","disable","readonly"])]))]),r("tr",null,[ji,t.confirmaHabilitaPerto?w("",!0):(p(),O("td",Bi,[t.habilitaAE?w("",!0):(p(),_(n,{key:0,modelValue:t.campos.prescricao.dioptria.oe.medio.adicao,"onUpdate:modelValue":[e[28]||(e[28]=s=>t.campos.prescricao.dioptria.oe.medio.adicao=s),i.calcularAE],disable:!t.habilitaMedio,readonly:!t.habilitaMedio,min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","disable","readonly","onUpdate:modelValue"])),t.habilitaAE?(p(),_(n,{key:1,modelValue:t.campos.prescricao.dioptria.oe.medio.esferico,"onUpdate:modelValue":[e[29]||(e[29]=s=>t.campos.prescricao.dioptria.oe.medio.esferico=s),i.calcularAE],disable:!t.habilitaMedio,readonly:!t.habilitaMedio,min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","disable","readonly","onUpdate:modelValue"])):w("",!0)])),t.confirmaHabilitaPerto?w("",!0):(p(),O("td",Ni,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.medio.dnp,"onUpdate:modelValue":e[30]||(e[30]=s=>t.campos.prescricao.dioptria.oe.medio.dnp=s),disable:!t.habilitaMedio,readonly:!t.habilitaMedio,min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue","disable","readonly"])]))])])])]),_:1})])),r("div",{class:z(t.habilitaPerto?"col-xs-12":"col-xs-12 col-md-3")},[o(X,{class:"no-shadow rounded-borders"},{default:l(()=>[o(R,null,{default:l(()=>[o(j,{class:"text-tertiary"},{default:l(()=>[o(n,{modelValue:t.habilitaPerto,"onUpdate:modelValue":[e[31]||(e[31]=s=>t.habilitaPerto=s),e[32]||(e[32]=s=>i.zerarCamposLongeMedio())],tipo:"logico",rotulo:"Perto"},null,8,["modelValue"])]),_:1})]),_:1}),r("div",Si,[r("table",null,[r("tr",null,[Li,!t.habilitaPerto&&!t.habilitaAE?(p(),O("th",Hi,"Adi\xE7\xE3o")):w("",!0),!t.habilitaPerto&&t.habilitaAE?(p(),O("th",Qi,"Esf\xE9rico")):w("",!0),t.habilitaPerto?(p(),O("th",Gi,"Esf\xE9rico")):w("",!0),t.habilitaPerto?(p(),O("th",Xi,"Cil\xEDndrico")):w("",!0),t.habilitaPerto?(p(),O("th",Yi,"Eixo")):w("",!0),Wi]),r("tr",null,[Ji,r("td",null,[!t.habilitaAE&&!t.habilitaPerto?(p(),_(n,{key:0,modelValue:t.campos.prescricao.dioptria.od.perto.adicao,"onUpdate:modelValue":[e[33]||(e[33]=s=>t.campos.prescricao.dioptria.od.perto.adicao=s),i.calcularAE],min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",onBlur:e[34]||(e[34]=s=>i.calcularDnpPerto("direito")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])):w("",!0),t.habilitaAE||t.habilitaPerto?(p(),_(n,{key:1,modelValue:t.campos.prescricao.dioptria.od.perto.esferico,"onUpdate:modelValue":[e[35]||(e[35]=s=>t.campos.prescricao.dioptria.od.perto.esferico=s),i.calcularAE],min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",onBlur:e[36]||(e[36]=s=>i.calcularDnpPerto("direito")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])):w("",!0)]),t.habilitaPerto?(p(),O("td",Zi,[o(n,{modelValue:t.campos.prescricao.dioptria.od.perto.cilindrico,"onUpdate:modelValue":e[37]||(e[37]=s=>t.campos.prescricao.dioptria.od.perto.cilindrico=s),aviso:t.campos.prescricao.dioptria.od.perto.cilindrico<-8||t.campos.prescricao.dioptria.od.perto.cilindrico>0,avisoRotulo:"Cil\xEDndrico est\xE1 fora do comum '0 a -8'.",min:"-10",max:"10",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","aviso"])])):w("",!0),t.habilitaPerto?(p(),O("td",Ki,[o(n,{modelValue:t.campos.prescricao.dioptria.od.perto.eixo,"onUpdate:modelValue":e[38]||(e[38]=s=>t.campos.prescricao.dioptria.od.perto.eixo=s),readonly:t.campos.prescricao.dioptria.od.perto.cilindrico==0,disable:t.campos.prescricao.dioptria.od.perto.cilindrico==0,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])])):w("",!0),r("td",null,[o(n,{modelValue:t.campos.prescricao.dioptria.od.perto.dnp,"onUpdate:modelValue":e[39]||(e[39]=s=>t.campos.prescricao.dioptria.od.perto.dnp=s),min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])])]),r("tr",null,[$i,r("td",null,[!t.habilitaAE&&!t.habilitaPerto?(p(),_(n,{key:0,modelValue:t.campos.prescricao.dioptria.oe.perto.adicao,"onUpdate:modelValue":[e[40]||(e[40]=s=>t.campos.prescricao.dioptria.oe.perto.adicao=s),i.calcularAE],min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",onBlur:e[41]||(e[41]=s=>i.calcularDnpPerto("esquerdo")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])):w("",!0),t.habilitaAE||t.habilitaPerto?(p(),_(n,{key:1,modelValue:t.campos.prescricao.dioptria.oe.perto.esferico,"onUpdate:modelValue":[e[42]||(e[42]=s=>t.campos.prescricao.dioptria.oe.perto.esferico=s),i.calcularAE],min:"-30",max:"30",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",onBlur:e[43]||(e[43]=s=>i.calcularDnpPerto("esquerdo")),permiteNull:""},null,8,["modelValue","onUpdate:modelValue"])):w("",!0)]),t.habilitaPerto?(p(),O("td",er,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.perto.cilindrico,"onUpdate:modelValue":e[44]||(e[44]=s=>t.campos.prescricao.dioptria.oe.perto.cilindrico=s),aviso:t.campos.prescricao.dioptria.oe.perto.cilindrico<-8||t.campos.prescricao.dioptria.oe.perto.cilindrico>0,avisoRotulo:"Cil\xEDndrico est\xE1 fora do comum '0 a -8'.",min:"-10",max:"10",step:".25",tipo:"quantidade",decimals:"2",sinalPositivo:"",permiteNull:""},null,8,["modelValue","aviso"])])):w("",!0),t.habilitaPerto?(p(),O("td",or,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.perto.eixo,"onUpdate:modelValue":e[45]||(e[45]=s=>t.campos.prescricao.dioptria.oe.perto.eixo=s),readonly:t.campos.prescricao.dioptria.oe.perto.cilindrico==0,disable:t.campos.prescricao.dioptria.oe.perto.cilindrico==0,min:"0",max:"180",tipo:"decimal",decimals:"0",permiteNull:""},null,8,["modelValue","readonly","disable"])])):w("",!0),r("td",null,[o(n,{modelValue:t.campos.prescricao.dioptria.oe.perto.dnp,"onUpdate:modelValue":e[46]||(e[46]=s=>t.campos.prescricao.dioptria.oe.perto.dnp=s),min:"0",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])])])])])]),_:1})],2)]),_:1}),o(d,{class:"items-center q-col-gutter-md q-mb-md"},{default:l(()=>[r("div",tr,[o(c,{color:"primary",icon:"content_copy",label:"Copiar OD > OE",unelevated:"",onClick:i.copiarODDioptria},null,8,["onClick"])])]),_:1})]),_:1}),o(Fe,{name:"prisma",class:"bg-light q-px-none"},{default:l(()=>[o(d,{class:"items-center q-col-gutter-md q-mb-md"},{default:l(()=>[r("div",lr,[o(X,{class:"no-shadow rounded-borders q-mb-md"},{default:l(()=>[r("div",ar,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[sr,r("div",ir,[o(n,{modelValue:t.campos.prescricao.prisma.od.valor,"onUpdate:modelValue":e[47]||(e[47]=s=>t.campos.prescricao.prisma.od.valor=s),rotulo:"Prisma",min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])]),r("div",rr,[o(n,{modelValue:t.campos.prescricao.prisma.od.base,"onUpdate:modelValue":e[48]||(e[48]=s=>t.campos.prescricao.prisma.od.base=s),rotulo:"Base",tipo:"seletor",opcoes:["Nasal","Temporal","Superior","Inferior"]},null,8,["modelValue"])])]),_:1})])]),_:1})]),r("div",nr,[o(c,{color:"primary",unelevated:"",icon:"content_copy",label:"Copiar OD > OE",onClick:i.copiarODPrisma,class:"'q-my-none'"},null,8,["onClick"])]),r("div",dr,[o(X,{class:"no-shadow rounded-borders q-mb-md"},{default:l(()=>[r("div",ur,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[mr,r("div",cr,[o(n,{modelValue:t.campos.prescricao.prisma.oe.valor,"onUpdate:modelValue":e[49]||(e[49]=s=>t.campos.prescricao.prisma.oe.valor=s),rotulo:"Prisma",min:"-30",max:"30",passo:".25",tipo:"decimal",decimals:"2",permiteNull:""},null,8,["modelValue"])]),r("div",pr,[o(n,{modelValue:t.campos.prescricao.prisma.oe.base,"onUpdate:modelValue":e[50]||(e[50]=s=>t.campos.prescricao.prisma.oe.base=s),rotulo:"Base",tipo:"seletor",opcoes:["Nasal","Temporal","Superior","Inferior"]},null,8,["modelValue"])])]),_:1})])]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t.verOptometria?(p(),O(T,{key:1},[o(te,{"expand-separator":"","default-opened":"",modelValue:t.abasOptometria.OftalmoscopiaDireta,"onUpdate:modelValue":e[70]||(e[70]=s=>t.abasOptometria.OftalmoscopiaDireta=s),label:"Oftalmoscopia Direta",onShow:i.setAba,onHide:i.setAba},{default:l(()=>[o(X,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",fr,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[hr,br,gr]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[vr,r("div",_r,[r("label",yr,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.bruckner,"onUpdate:modelValue":e[52]||(e[52]=s=>t.camposOptometria.oftalmoscopiaDireta.od.bruckner=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",xr,[r("label",Vr,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.bruckner,"onUpdate:modelValue":e[53]||(e[53]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.bruckner=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[wr,r("div",Cr,[r("label",kr,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.lente,"onUpdate:modelValue":e[54]||(e[54]=s=>t.camposOptometria.oftalmoscopiaDireta.od.lente=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Or,[r("label",qr,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.lente,"onUpdate:modelValue":e[55]||(e[55]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.lente=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[zr,r("div",Ar,[r("label",Fr,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.escavacao,"onUpdate:modelValue":e[56]||(e[56]=s=>t.camposOptometria.oftalmoscopiaDireta.od.escavacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Pr,[r("label",Mr,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.escavacao,"onUpdate:modelValue":e[57]||(e[57]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.escavacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Ur,r("div",Tr,[r("label",Dr,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.relacaoAV,"onUpdate:modelValue":e[58]||(e[58]=s=>t.camposOptometria.oftalmoscopiaDireta.od.relacaoAV=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Rr,[r("label",Er,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.relacaoAV,"onUpdate:modelValue":e[59]||(e[59]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.relacaoAV=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Ir,r("div",jr,[r("label",Br,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.macula,"onUpdate:modelValue":e[60]||(e[60]=s=>t.camposOptometria.oftalmoscopiaDireta.od.macula=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Nr,[r("label",Sr,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.macula,"onUpdate:modelValue":e[61]||(e[61]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.macula=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Lr,r("div",Hr,[r("label",Qr,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.fixacao,"onUpdate:modelValue":e[62]||(e[62]=s=>t.camposOptometria.oftalmoscopiaDireta.od.fixacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Gr,[r("label",Xr,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.fixacao,"onUpdate:modelValue":e[63]||(e[63]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.fixacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Yr,r("div",Wr,[r("label",Jr,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.cor,"onUpdate:modelValue":e[64]||(e[64]=s=>t.camposOptometria.oftalmoscopiaDireta.od.cor=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Zr,[r("label",Kr,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.cor,"onUpdate:modelValue":e[65]||(e[65]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.cor=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[$r,r("div",en,[r("label",on,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.papila,"onUpdate:modelValue":e[66]||(e[66]=s=>t.camposOptometria.oftalmoscopiaDireta.od.papila=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",tn,[r("label",ln,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.papila,"onUpdate:modelValue":e[67]||(e[67]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.papila=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[an,r("div",sn,[r("label",rn,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.od.observacao,"onUpdate:modelValue":e[68]||(e[68]=s=>t.camposOptometria.oftalmoscopiaDireta.od.observacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",nn,[r("label",dn,[o(n,{modelValue:t.camposOptometria.oftalmoscopiaDireta.oe.observacao,"onUpdate:modelValue":e[69]||(e[69]=s=>t.camposOptometria.oftalmoscopiaDireta.oe.observacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.AcuiVisual,"onUpdate:modelValue":e[82]||(e[82]=s=>t.abasOptometria.AcuiVisual=s),onShow:i.setAba,onHide:i.setAba,label:"Acui. Visual"},{default:l(()=>[o(X,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",un,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[mn,cn,pn,fn,hn,bn]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[gn,r("div",vn,[o(n,{modelValue:t.camposOptometria.acuiVisual.od.VLSC,"onUpdate:modelValue":e[71]||(e[71]=s=>t.camposOptometria.acuiVisual.od.VLSC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",_n,[o(n,{modelValue:t.camposOptometria.acuiVisual.od.PH,"onUpdate:modelValue":e[72]||(e[72]=s=>t.camposOptometria.acuiVisual.od.PH=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",yn,[o(n,{modelValue:t.camposOptometria.acuiVisual.od.VPSC,"onUpdate:modelValue":e[73]||(e[73]=s=>t.camposOptometria.acuiVisual.od.VPSC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",xn,[o(n,{modelValue:t.camposOptometria.acuiVisual.od.VLCC,"onUpdate:modelValue":e[74]||(e[74]=s=>t.camposOptometria.acuiVisual.od.VLCC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Vn,[o(n,{modelValue:t.camposOptometria.acuiVisual.od.VPCC,"onUpdate:modelValue":e[75]||(e[75]=s=>t.camposOptometria.acuiVisual.od.VPCC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[wn,r("div",Cn,[o(n,{modelValue:t.camposOptometria.acuiVisual.oe.VLSC,"onUpdate:modelValue":e[76]||(e[76]=s=>t.camposOptometria.acuiVisual.oe.VLSC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",kn,[o(n,{modelValue:t.camposOptometria.acuiVisual.oe.PH,"onUpdate:modelValue":e[77]||(e[77]=s=>t.camposOptometria.acuiVisual.oe.PH=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",On,[o(n,{modelValue:t.camposOptometria.acuiVisual.oe.VPSC,"onUpdate:modelValue":e[78]||(e[78]=s=>t.camposOptometria.acuiVisual.oe.VPSC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",qn,[o(n,{modelValue:t.camposOptometria.acuiVisual.oe.VLCC,"onUpdate:modelValue":e[79]||(e[79]=s=>t.camposOptometria.acuiVisual.oe.VLCC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",zn,[o(n,{modelValue:t.camposOptometria.acuiVisual.oe.VPCC,"onUpdate:modelValue":e[80]||(e[80]=s=>t.camposOptometria.acuiVisual.oe.VPCC=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,null,{default:l(()=>[r("div",An,[o(n,{modelValue:t.camposOptometria.acuiVisual.optotipo,"onUpdate:modelValue":e[81]||(e[81]=s=>t.camposOptometria.acuiVisual.optotipo=s),tipo:"texto",rotulo:"Optotipo",dense:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.ReflPup,"onUpdate:modelValue":e[89]||(e[89]=s=>t.abasOptometria.ReflPup=s),onShow:i.setAba,onHide:i.setAba,label:"Refl. Pup"},{default:l(()=>[o(X,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",Fn,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Pn,Mn,Un,Tn]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Dn,r("div",Rn,[o(n,{modelValue:t.camposOptometria.reflPup.od.fotomotor,"onUpdate:modelValue":e[83]||(e[83]=s=>t.camposOptometria.reflPup.od.fotomotor=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",En,[o(n,{modelValue:t.camposOptometria.reflPup.od.consensual,"onUpdate:modelValue":e[84]||(e[84]=s=>t.camposOptometria.reflPup.od.consensual=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",In,[o(n,{modelValue:t.camposOptometria.reflPup.od.acomodativo,"onUpdate:modelValue":e[85]||(e[85]=s=>t.camposOptometria.reflPup.od.acomodativo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[jn,r("div",Bn,[o(n,{modelValue:t.camposOptometria.reflPup.oe.fotomotor,"onUpdate:modelValue":e[86]||(e[86]=s=>t.camposOptometria.reflPup.oe.fotomotor=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Nn,[o(n,{modelValue:t.camposOptometria.reflPup.oe.consensual,"onUpdate:modelValue":e[87]||(e[87]=s=>t.camposOptometria.reflPup.oe.consensual=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Sn,[o(n,{modelValue:t.camposOptometria.reflPup.oe.acomodativo,"onUpdate:modelValue":e[88]||(e[88]=s=>t.camposOptometria.reflPup.oe.acomodativo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.AvaliacaoMotora,"onUpdate:modelValue":e[110]||(e[110]=s=>t.abasOptometria.AvaliacaoMotora=s),onShow:i.setAba,onHide:i.setAba,label:"Avalia\xE7\xE3o Motora"},{default:l(()=>[o(X,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",Ln,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Hn,Qn,Gn]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Xn,r("div",Yn,[r("label",Wn,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.od.kappa,"onUpdate:modelValue":e[90]||(e[90]=s=>t.camposOptometria.avaliacaoMotora.od.kappa=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Jn,[r("label",Zn,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.oe.kappa,"onUpdate:modelValue":e[91]||(e[91]=s=>t.camposOptometria.avaliacaoMotora.oe.kappa=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Kn,r("div",$n,[r("label",ed,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.od.hirschberg,"onUpdate:modelValue":e[92]||(e[92]=s=>t.camposOptometria.avaliacaoMotora.od.hirschberg=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",od,[r("label",td,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.oe.hirschberg,"onUpdate:modelValue":e[93]||(e[93]=s=>t.camposOptometria.avaliacaoMotora.oe.hirschberg=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[ld,r("div",ad,[r("label",sd,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.od.duccoes,"onUpdate:modelValue":e[94]||(e[94]=s=>t.camposOptometria.avaliacaoMotora.od.duccoes=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",id,[r("label",rd,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.oe.duccoes,"onUpdate:modelValue":e[95]||(e[95]=s=>t.camposOptometria.avaliacaoMotora.oe.duccoes=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[nd,r("div",dd,[r("div",ud,[md,r("div",cd,[y(r("input",{type:"checkbox",id:"c_ava_mot_ver_od_0",name:"ava_mot_ver_od_0","onUpdate:modelValue":e[96]||(e[96]=s=>t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_0=s)},null,512),[[le,t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_0]]),pd]),r("div",fd,[y(r("input",{type:"checkbox",id:"c_ava_mot_ver_od_1",name:"ava_mot_ver_od_1","onUpdate:modelValue":e[97]||(e[97]=s=>t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_1=s)},null,512),[[le,t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_1]]),hd]),r("div",bd,[y(r("input",{type:"checkbox",id:"c_ava_mot_ver_od_2",name:"ava_mot_ver_od_2","onUpdate:modelValue":e[98]||(e[98]=s=>t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_2=s)},null,512),[[le,t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_2]]),gd]),r("div",vd,[y(r("input",{type:"checkbox",id:"c_ava_mot_ver_od_3",name:"ava_mot_ver_od_3","onUpdate:modelValue":e[99]||(e[99]=s=>t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_3=s)},null,512),[[le,t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_3]]),_d]),r("div",yd,[y(r("input",{type:"checkbox",id:"c_ava_mot_ver_od_4",name:"ava_mot_ver_od_4","onUpdate:modelValue":e[100]||(e[100]=s=>t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_4=s)},null,512),[[le,t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_4]]),xd]),r("div",Vd,[y(r("input",{type:"checkbox",id:"c_ava_mot_ver_od_5",name:"ava_mot_ver_od_5","onUpdate:modelValue":e[101]||(e[101]=s=>t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_5=s)},null,512),[[le,t.camposOptometria.avaliacaoMotora.od.versoes.ava_mot_ver_od_5]]),wd])])]),r("div",Cd,[r("div",kd,[Od,r("div",qd,[y(r("input",{type:"checkbox",id:"c_ava_mot_ver_oe_0",name:"ava_mot_ver_oe_0","onUpdate:modelValue":e[102]||(e[102]=s=>t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_0=s)},null,512),[[le,t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_0]]),zd]),r("div",Ad,[y(r("input",{type:"checkbox",id:"c_ava_mot_ver_oe_1",name:"ava_mot_ver_oe_1","onUpdate:modelValue":e[103]||(e[103]=s=>t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_1=s)},null,512),[[le,t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_1]]),Fd]),r("div",Pd,[y(r("input",{type:"checkbox",id:"c_ava_mot_ver_oe_2",name:"ava_mot_ver_oe_2","onUpdate:modelValue":e[104]||(e[104]=s=>t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_2=s)},null,512),[[le,t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_2]]),Md]),r("div",Ud,[y(r("input",{type:"checkbox",id:"c_ava_mot_ver_oe_3",name:"ava_mot_ver_oe_3","onUpdate:modelValue":e[105]||(e[105]=s=>t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_3=s)},null,512),[[le,t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_3]]),Td]),r("div",Dd,[y(r("input",{type:"checkbox",id:"c_ava_mot_ver_oe_4",name:"ava_mot_ver_oe_4","onUpdate:modelValue":e[106]||(e[106]=s=>t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_4=s)},null,512),[[le,t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_4]]),Rd]),r("div",Ed,[y(r("input",{type:"checkbox",id:"c_ava_mot_ver_oe_5",name:"ava_mot_ver_oe_5","onUpdate:modelValue":e[107]||(e[107]=s=>t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_5=s)},null,512),[[le,t.camposOptometria.avaliacaoMotora.oe.versoes.ava_mot_ver_oe_5]]),Id])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[jd,r("div",Bd,[r("label",Nd,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.od.observacao,"onUpdate:modelValue":e[108]||(e[108]=s=>t.camposOptometria.avaliacaoMotora.od.observacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Sd,[r("label",Ld,[o(n,{modelValue:t.camposOptometria.avaliacaoMotora.oe.observacao,"onUpdate:modelValue":e[109]||(e[109]=s=>t.camposOptometria.avaliacaoMotora.oe.observacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.Ppc,"onUpdate:modelValue":e[114]||(e[114]=s=>t.abasOptometria.Ppc=s),onShow:i.setAba,onHide:i.setAba,label:"PPC"},{default:l(()=>[o(X,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",Hd,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Qd,Gd,Xd]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[r("div",Yd,[o(n,{modelValue:t.camposOptometria.ppc.objetoReal,"onUpdate:modelValue":e[111]||(e[111]=s=>t.camposOptometria.ppc.objetoReal=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Wd,[o(n,{modelValue:t.camposOptometria.ppc.luz,"onUpdate:modelValue":e[112]||(e[112]=s=>t.camposOptometria.ppc.luz=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Jd,[o(n,{modelValue:t.camposOptometria.ppc.filtro,"onUpdate:modelValue":e[113]||(e[113]=s=>t.camposOptometria.ppc.filtro=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{modelValue:t.abasOptometria.CoverTeste,"onUpdate:modelValue":e[121]||(e[121]=s=>t.abasOptometria.CoverTeste=s),onShow:i.setAba,onHide:i.setAba,"expand-separator":"",label:"Cover Teste"},{default:l(()=>[o(X,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",Zd,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Kd,$d,eu]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[ou,r("div",tu,[r("label",lu,[o(n,{modelValue:t.camposOptometria.coverTeste.sc.dist6m,"onUpdate:modelValue":e[115]||(e[115]=s=>t.camposOptometria.coverTeste.sc.dist6m=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",au,[r("label",su,[o(n,{modelValue:t.camposOptometria.coverTeste.cc.dist6m,"onUpdate:modelValue":e[116]||(e[116]=s=>t.camposOptometria.coverTeste.cc.dist6m=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[iu,r("div",ru,[r("label",nu,[o(n,{modelValue:t.camposOptometria.coverTeste.sc.dist40cm,"onUpdate:modelValue":e[117]||(e[117]=s=>t.camposOptometria.coverTeste.sc.dist40cm=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",du,[r("label",uu,[o(n,{modelValue:t.camposOptometria.coverTeste.cc.dist40cm,"onUpdate:modelValue":e[118]||(e[118]=s=>t.camposOptometria.coverTeste.cc.dist40cm=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[mu,r("div",cu,[r("label",pu,[o(n,{modelValue:t.camposOptometria.coverTeste.sc.dist20cm,"onUpdate:modelValue":e[119]||(e[119]=s=>t.camposOptometria.coverTeste.sc.dist20cm=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",fu,[r("label",hu,[o(n,{modelValue:t.camposOptometria.coverTeste.cc.dist20cm,"onUpdate:modelValue":e[120]||(e[120]=s=>t.camposOptometria.coverTeste.cc.dist20cm=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.ReservasFusionais,"onUpdate:modelValue":e[126]||(e[126]=s=>t.abasOptometria.ReservasFusionais=s),onShow:i.setAba,onHide:i.setAba,label:"Reservas Fusionais"},{default:l(()=>[o(X,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",bu,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[gu,vu,_u]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[yu,r("div",xu,[r("label",Vu,[o(n,{modelValue:t.camposOptometria.reservasFusionais.vl.rfn,"onUpdate:modelValue":e[122]||(e[122]=s=>t.camposOptometria.reservasFusionais.vl.rfn=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",wu,[r("label",Cu,[o(n,{modelValue:t.camposOptometria.reservasFusionais.vp.rfn,"onUpdate:modelValue":e[123]||(e[123]=s=>t.camposOptometria.reservasFusionais.vp.rfn=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[ku,r("div",Ou,[r("label",qu,[o(n,{modelValue:t.camposOptometria.reservasFusionais.vl.rfp,"onUpdate:modelValue":e[124]||(e[124]=s=>t.camposOptometria.reservasFusionais.vl.rfp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",zu,[r("label",Au,[o(n,{modelValue:t.camposOptometria.reservasFusionais.vp.rfp,"onUpdate:modelValue":e[125]||(e[125]=s=>t.camposOptometria.reservasFusionais.vp.rfp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{modelValue:t.abasOptometria.Subjetivo,"onUpdate:modelValue":e[142]||(e[142]=s=>t.abasOptometria.Subjetivo=s),onShow:i.setAba,onHide:i.setAba,"expand-separator":"",label:"Subjetivo"},{default:l(()=>[o(X,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",Fu,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Pu,Mu,Uu,Tu,Du,Ru]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Eu,r("div",Iu,[o(n,{modelValue:t.camposOptometria.subjetivo.od.esf,"onUpdate:modelValue":e[127]||(e[127]=s=>t.camposOptometria.subjetivo.od.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",ju,[o(n,{modelValue:t.camposOptometria.subjetivo.od.cil,"onUpdate:modelValue":e[128]||(e[128]=s=>t.camposOptometria.subjetivo.od.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Bu,[o(n,{modelValue:t.camposOptometria.subjetivo.od.eixo,"onUpdate:modelValue":e[129]||(e[129]=s=>t.camposOptometria.subjetivo.od.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Nu,[o(n,{modelValue:t.camposOptometria.subjetivo.od.avl,"onUpdate:modelValue":e[130]||(e[130]=s=>t.camposOptometria.subjetivo.od.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Su,[o(n,{modelValue:t.camposOptometria.subjetivo.od.avp,"onUpdate:modelValue":e[131]||(e[131]=s=>t.camposOptometria.subjetivo.od.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Lu,r("div",Hu,[o(n,{modelValue:t.camposOptometria.subjetivo.oe.esf,"onUpdate:modelValue":e[132]||(e[132]=s=>t.camposOptometria.subjetivo.oe.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Qu,[o(n,{modelValue:t.camposOptometria.subjetivo.oe.cil,"onUpdate:modelValue":e[133]||(e[133]=s=>t.camposOptometria.subjetivo.oe.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Gu,[o(n,{modelValue:t.camposOptometria.subjetivo.oe.eixo,"onUpdate:modelValue":e[134]||(e[134]=s=>t.camposOptometria.subjetivo.oe.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Xu,[o(n,{modelValue:t.camposOptometria.subjetivo.oe.avl,"onUpdate:modelValue":e[135]||(e[135]=s=>t.camposOptometria.subjetivo.oe.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Yu,[o(n,{modelValue:t.camposOptometria.subjetivo.oe.avp,"onUpdate:modelValue":e[136]||(e[136]=s=>t.camposOptometria.subjetivo.oe.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Wu,r("div",Ju,[o(n,{modelValue:t.camposOptometria.subjetivo.add.esf,"onUpdate:modelValue":e[137]||(e[137]=s=>t.camposOptometria.subjetivo.add.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Zu,[o(n,{modelValue:t.camposOptometria.subjetivo.add.cil,"onUpdate:modelValue":e[138]||(e[138]=s=>t.camposOptometria.subjetivo.add.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Ku,[o(n,{modelValue:t.camposOptometria.subjetivo.add.eixo,"onUpdate:modelValue":e[139]||(e[139]=s=>t.camposOptometria.subjetivo.add.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",$u,[o(n,{modelValue:t.camposOptometria.subjetivo.add.avl,"onUpdate:modelValue":e[140]||(e[140]=s=>t.camposOptometria.subjetivo.add.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",em,[o(n,{modelValue:t.camposOptometria.subjetivo.add.avp,"onUpdate:modelValue":e[141]||(e[141]=s=>t.camposOptometria.subjetivo.add.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.Ambulatorial,"onUpdate:modelValue":e[158]||(e[158]=s=>t.abasOptometria.Ambulatorial=s),onShow:i.setAba,onHide:i.setAba,label:"Ambulatorial"},{default:l(()=>[o(X,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",om,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[tm,lm,am,sm,im,rm]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[nm,r("div",dm,[o(n,{modelValue:t.camposOptometria.ambulatorial.od.esf,"onUpdate:modelValue":e[143]||(e[143]=s=>t.camposOptometria.ambulatorial.od.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",um,[o(n,{modelValue:t.camposOptometria.ambulatorial.od.cil,"onUpdate:modelValue":e[144]||(e[144]=s=>t.camposOptometria.ambulatorial.od.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",mm,[o(n,{modelValue:t.camposOptometria.ambulatorial.od.eixo,"onUpdate:modelValue":e[145]||(e[145]=s=>t.camposOptometria.ambulatorial.od.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",cm,[o(n,{modelValue:t.camposOptometria.ambulatorial.od.avl,"onUpdate:modelValue":e[146]||(e[146]=s=>t.camposOptometria.ambulatorial.od.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",pm,[o(n,{modelValue:t.camposOptometria.ambulatorial.od.avp,"onUpdate:modelValue":e[147]||(e[147]=s=>t.camposOptometria.ambulatorial.od.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[fm,r("div",hm,[o(n,{modelValue:t.camposOptometria.ambulatorial.oe.esf,"onUpdate:modelValue":e[148]||(e[148]=s=>t.camposOptometria.ambulatorial.oe.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",bm,[o(n,{modelValue:t.camposOptometria.ambulatorial.oe.cil,"onUpdate:modelValue":e[149]||(e[149]=s=>t.camposOptometria.ambulatorial.oe.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",gm,[o(n,{modelValue:t.camposOptometria.ambulatorial.oe.eixo,"onUpdate:modelValue":e[150]||(e[150]=s=>t.camposOptometria.ambulatorial.oe.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",vm,[o(n,{modelValue:t.camposOptometria.ambulatorial.oe.avl,"onUpdate:modelValue":e[151]||(e[151]=s=>t.camposOptometria.ambulatorial.oe.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",_m,[o(n,{modelValue:t.camposOptometria.ambulatorial.oe.avp,"onUpdate:modelValue":e[152]||(e[152]=s=>t.camposOptometria.ambulatorial.oe.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[ym,r("div",xm,[o(n,{modelValue:t.camposOptometria.ambulatorial.add.esf,"onUpdate:modelValue":e[153]||(e[153]=s=>t.camposOptometria.ambulatorial.add.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Vm,[o(n,{modelValue:t.camposOptometria.ambulatorial.add.cil,"onUpdate:modelValue":e[154]||(e[154]=s=>t.camposOptometria.ambulatorial.add.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",wm,[o(n,{modelValue:t.camposOptometria.ambulatorial.add.eixo,"onUpdate:modelValue":e[155]||(e[155]=s=>t.camposOptometria.ambulatorial.add.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Cm,[o(n,{modelValue:t.camposOptometria.ambulatorial.add.avl,"onUpdate:modelValue":e[156]||(e[156]=s=>t.camposOptometria.ambulatorial.add.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",km,[o(n,{modelValue:t.camposOptometria.ambulatorial.add.avp,"onUpdate:modelValue":e[157]||(e[157]=s=>t.camposOptometria.ambulatorial.add.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.Afinamento,"onUpdate:modelValue":e[174]||(e[174]=s=>t.abasOptometria.Afinamento=s),onShow:i.setAba,onHide:i.setAba,label:"Afinamento"},{default:l(()=>[o(X,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",Om,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[qm,zm,Am,Fm,Pm,Mm]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Um,r("div",Tm,[o(n,{modelValue:t.camposOptometria.afinamento.od.esf,"onUpdate:modelValue":e[159]||(e[159]=s=>t.camposOptometria.afinamento.od.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Dm,[o(n,{modelValue:t.camposOptometria.afinamento.od.cil,"onUpdate:modelValue":e[160]||(e[160]=s=>t.camposOptometria.afinamento.od.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Rm,[o(n,{modelValue:t.camposOptometria.afinamento.od.eixo,"onUpdate:modelValue":e[161]||(e[161]=s=>t.camposOptometria.afinamento.od.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Em,[o(n,{modelValue:t.camposOptometria.afinamento.od.avl,"onUpdate:modelValue":e[162]||(e[162]=s=>t.camposOptometria.afinamento.od.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Im,[o(n,{modelValue:t.camposOptometria.afinamento.od.avp,"onUpdate:modelValue":e[163]||(e[163]=s=>t.camposOptometria.afinamento.od.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[jm,r("div",Bm,[o(n,{modelValue:t.camposOptometria.afinamento.oe.esf,"onUpdate:modelValue":e[164]||(e[164]=s=>t.camposOptometria.afinamento.oe.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Nm,[o(n,{modelValue:t.camposOptometria.afinamento.oe.cil,"onUpdate:modelValue":e[165]||(e[165]=s=>t.camposOptometria.afinamento.oe.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Sm,[o(n,{modelValue:t.camposOptometria.afinamento.oe.eixo,"onUpdate:modelValue":e[166]||(e[166]=s=>t.camposOptometria.afinamento.oe.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Lm,[o(n,{modelValue:t.camposOptometria.afinamento.oe.avl,"onUpdate:modelValue":e[167]||(e[167]=s=>t.camposOptometria.afinamento.oe.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Hm,[o(n,{modelValue:t.camposOptometria.afinamento.oe.avp,"onUpdate:modelValue":e[168]||(e[168]=s=>t.camposOptometria.afinamento.oe.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Qm,r("div",Gm,[o(n,{modelValue:t.camposOptometria.afinamento.add.esf,"onUpdate:modelValue":e[169]||(e[169]=s=>t.camposOptometria.afinamento.add.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Xm,[o(n,{modelValue:t.camposOptometria.afinamento.add.cil,"onUpdate:modelValue":e[170]||(e[170]=s=>t.camposOptometria.afinamento.add.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Ym,[o(n,{modelValue:t.camposOptometria.afinamento.add.eixo,"onUpdate:modelValue":e[171]||(e[171]=s=>t.camposOptometria.afinamento.add.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Wm,[o(n,{modelValue:t.camposOptometria.afinamento.add.avl,"onUpdate:modelValue":e[172]||(e[172]=s=>t.camposOptometria.afinamento.add.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Jm,[o(n,{modelValue:t.camposOptometria.afinamento.add.avp,"onUpdate:modelValue":e[173]||(e[173]=s=>t.camposOptometria.afinamento.add.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.Biomicroscopia,"onUpdate:modelValue":e[191]||(e[191]=s=>t.abasOptometria.Biomicroscopia=s),onShow:i.setAba,onHide:i.setAba,label:"Biomicroscopia"},{default:l(()=>[o(X,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",Zm,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Km,$m,ec]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[oc,r("div",tc,[r("label",lc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.sobrancelhas,"onUpdate:modelValue":e[175]||(e[175]=s=>t.camposOptometria.biomicroscopia.od.sobrancelhas=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",ac,[r("label",sc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.sobrancelhas,"onUpdate:modelValue":e[176]||(e[176]=s=>t.camposOptometria.biomicroscopia.oe.sobrancelhas=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[ic,r("div",rc,[r("label",nc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.cilios,"onUpdate:modelValue":e[177]||(e[177]=s=>t.camposOptometria.biomicroscopia.od.cilios=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",dc,[r("label",uc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.cilios,"onUpdate:modelValue":e[178]||(e[178]=s=>t.camposOptometria.biomicroscopia.oe.cilios=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[mc,r("div",cc,[r("label",pc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.palpepras,"onUpdate:modelValue":e[179]||(e[179]=s=>t.camposOptometria.biomicroscopia.od.palpepras=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",fc,[r("label",hc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.palpepras,"onUpdate:modelValue":e[180]||(e[180]=s=>t.camposOptometria.biomicroscopia.oe.palpepras=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[bc,r("div",gc,[r("label",vc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.conjuntivas,"onUpdate:modelValue":e[181]||(e[181]=s=>t.camposOptometria.biomicroscopia.od.conjuntivas=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",_c,[r("label",yc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.conjuntivas,"onUpdate:modelValue":e[182]||(e[182]=s=>t.camposOptometria.biomicroscopia.oe.conjuntivas=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[xc,r("div",Vc,[r("label",wc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.corneas,"onUpdate:modelValue":e[183]||(e[183]=s=>t.camposOptometria.biomicroscopia.od.corneas=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Cc,[r("label",kc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.corneas,"onUpdate:modelValue":e[184]||(e[184]=s=>t.camposOptometria.biomicroscopia.oe.corneas=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Oc,r("div",qc,[r("label",zc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.iris,"onUpdate:modelValue":e[185]||(e[185]=s=>t.camposOptometria.biomicroscopia.od.iris=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Ac,[r("label",Fc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.iris,"onUpdate:modelValue":e[186]||(e[186]=s=>t.camposOptometria.biomicroscopia.oe.iris=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Pc,r("div",Mc,[r("label",Uc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.cristalinos,"onUpdate:modelValue":e[187]||(e[187]=s=>t.camposOptometria.biomicroscopia.od.cristalinos=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",Tc,[r("label",Dc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.cristalinos,"onUpdate:modelValue":e[188]||(e[188]=s=>t.camposOptometria.biomicroscopia.oe.cristalinos=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Rc,r("div",Ec,[r("label",Ic,[o(n,{modelValue:t.camposOptometria.biomicroscopia.od.observacao,"onUpdate:modelValue":e[189]||(e[189]=s=>t.camposOptometria.biomicroscopia.od.observacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),r("div",jc,[r("label",Bc,[o(n,{modelValue:t.camposOptometria.biomicroscopia.oe.observacao,"onUpdate:modelValue":e[190]||(e[190]=s=>t.camposOptometria.biomicroscopia.oe.observacao=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.RXFinal,"onUpdate:modelValue":e[207]||(e[207]=s=>t.abasOptometria.RXFinal=s),onShow:i.setAba,onHide:i.setAba,label:"RX Final"},{default:l(()=>[o(X,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",Nc,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Sc,Lc,Hc,Qc,Gc,Xc]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[Yc,r("div",Wc,[o(n,{modelValue:t.camposOptometria.rxFinal.od.esf,"onUpdate:modelValue":e[192]||(e[192]=s=>t.camposOptometria.rxFinal.od.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Jc,[o(n,{modelValue:t.camposOptometria.rxFinal.od.cil,"onUpdate:modelValue":e[193]||(e[193]=s=>t.camposOptometria.rxFinal.od.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Zc,[o(n,{modelValue:t.camposOptometria.rxFinal.od.eixo,"onUpdate:modelValue":e[194]||(e[194]=s=>t.camposOptometria.rxFinal.od.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Kc,[o(n,{modelValue:t.camposOptometria.rxFinal.od.avl,"onUpdate:modelValue":e[195]||(e[195]=s=>t.camposOptometria.rxFinal.od.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",$c,[o(n,{modelValue:t.camposOptometria.rxFinal.od.avp,"onUpdate:modelValue":e[196]||(e[196]=s=>t.camposOptometria.rxFinal.od.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[ep,r("div",op,[o(n,{modelValue:t.camposOptometria.rxFinal.oe.esf,"onUpdate:modelValue":e[197]||(e[197]=s=>t.camposOptometria.rxFinal.oe.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",tp,[o(n,{modelValue:t.camposOptometria.rxFinal.oe.cil,"onUpdate:modelValue":e[198]||(e[198]=s=>t.camposOptometria.rxFinal.oe.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",lp,[o(n,{modelValue:t.camposOptometria.rxFinal.oe.eixo,"onUpdate:modelValue":e[199]||(e[199]=s=>t.camposOptometria.rxFinal.oe.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",ap,[o(n,{modelValue:t.camposOptometria.rxFinal.oe.avl,"onUpdate:modelValue":e[200]||(e[200]=s=>t.camposOptometria.rxFinal.oe.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",sp,[o(n,{modelValue:t.camposOptometria.rxFinal.oe.avp,"onUpdate:modelValue":e[201]||(e[201]=s=>t.camposOptometria.rxFinal.oe.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[ip,r("div",rp,[o(n,{modelValue:t.camposOptometria.rxFinal.add.esf,"onUpdate:modelValue":e[202]||(e[202]=s=>t.camposOptometria.rxFinal.add.esf=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",np,[o(n,{modelValue:t.camposOptometria.rxFinal.add.cil,"onUpdate:modelValue":e[203]||(e[203]=s=>t.camposOptometria.rxFinal.add.cil=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",dp,[o(n,{modelValue:t.camposOptometria.rxFinal.add.eixo,"onUpdate:modelValue":e[204]||(e[204]=s=>t.camposOptometria.rxFinal.add.eixo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",up,[o(n,{modelValue:t.camposOptometria.rxFinal.add.avl,"onUpdate:modelValue":e[205]||(e[205]=s=>t.camposOptometria.rxFinal.add.avl=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",mp,[o(n,{modelValue:t.camposOptometria.rxFinal.add.avp,"onUpdate:modelValue":e[206]||(e[206]=s=>t.camposOptometria.rxFinal.add.avp=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(te,{"expand-separator":"",modelValue:t.abasOptometria.Diagnostico,"onUpdate:modelValue":e[217]||(e[217]=s=>t.abasOptometria.Diagnostico=s),onShow:i.setAba,onHide:i.setAba,label:"Diagnostico"},{default:l(()=>[o(X,{class:"bg-white q-mb-md no-shadow"},{default:l(()=>[r("div",cp,[o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[pp,fp,hp,bp]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[gp,r("div",vp,[o(n,{modelValue:t.camposOptometria.diagnostico.od.patologico,"onUpdate:modelValue":e[208]||(e[208]=s=>t.camposOptometria.diagnostico.od.patologico=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",_p,[o(n,{modelValue:t.camposOptometria.diagnostico.od.motor,"onUpdate:modelValue":e[209]||(e[209]=s=>t.camposOptometria.diagnostico.od.motor=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",yp,[o(n,{modelValue:t.camposOptometria.diagnostico.od.refrativo,"onUpdate:modelValue":e[210]||(e[210]=s=>t.camposOptometria.diagnostico.od.refrativo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[xp,r("div",Vp,[o(n,{modelValue:t.camposOptometria.diagnostico.oe.patologico,"onUpdate:modelValue":e[211]||(e[211]=s=>t.camposOptometria.diagnostico.oe.patologico=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",wp,[o(n,{modelValue:t.camposOptometria.diagnostico.oe.motor,"onUpdate:modelValue":e[212]||(e[212]=s=>t.camposOptometria.diagnostico.oe.motor=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",Cp,[o(n,{modelValue:t.camposOptometria.diagnostico.oe.refrativo,"onUpdate:modelValue":e[213]||(e[213]=s=>t.camposOptometria.diagnostico.oe.refrativo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1}),o(d,{class:"items-end q-col-gutter-md"},{default:l(()=>[kp,r("div",Op,[o(n,{modelValue:t.camposOptometria.diagnostico.obs.patologico,"onUpdate:modelValue":e[214]||(e[214]=s=>t.camposOptometria.diagnostico.obs.patologico=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",qp,[o(n,{modelValue:t.camposOptometria.diagnostico.obs.motor,"onUpdate:modelValue":e[215]||(e[215]=s=>t.camposOptometria.diagnostico.obs.motor=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])]),r("div",zp,[o(n,{modelValue:t.camposOptometria.diagnostico.obs.refrativo,"onUpdate:modelValue":e[216]||(e[216]=s=>t.camposOptometria.diagnostico.obs.refrativo=s),dense:"",tipo:"texto",permiteNull:""},null,8,["modelValue"])])]),_:1})])]),_:1})]),_:1},8,["modelValue","onShow","onHide"]),o(X,{class:"bg-white q-my-md no-shadow"},{default:l(()=>[o(d,null,{default:l(()=>[r("div",Ap,[o(R,{class:"text-tertiary"},{default:l(()=>[o(B,{name:"history",size:"24px"}),o(j,null,{default:l(()=>[v("Termo de autoriza\xE7\xE3o")]),_:1})]),_:1}),Fp]),r("div",Pp,[o(R,{class:"text-tertiary"},{default:l(()=>[o(B,{name:"history",size:"24px"}),o(j,null,{default:l(()=>[v("Encaminhamento")]),_:1})]),_:1}),Mp])]),_:1})]),_:1})],64)):w("",!0)])])]),_:1})]),_:1})],32),o(h,{ref:"modalDependente","cpf-cnpj":"","data-nascimento":"","msg-erro":"Ocorreu um erro ao incluir o paciente.","msg-sucesso":"Paciente inclu\xEDdo com sucesso.",titulo:"Incluir Paciente",observacao:""},null,512),o(h,{ref:"modalMedico","msg-erro":"Ocorreu um erro ao incluir o m\xE9dico.","msg-sucesso":"Inclu\xEDdo com sucesso.",numeroDocumentoMunicipal:"CRM/CRO",titulo:"Incluir M\xE9dico ou Optometrista"},null,512)]),_:1})}var Tp=H(ni,[["render",Up],["__scopeId","data-v-7e8373fd"]]);const Dp={data(){return{}},emits:["mudarTela","fecharModal"],methods:{fecharModal(){this.$emit("fecharModal")},btAnterior(){this.$emit("mudarTela","ReceitaCompleta")}}};function Rp(a,e,u,m,t,i){const n=k("g-label"),d=k("g-col"),b=k("g-row");return p(),_(L,{view:"hHh LpR fFf",class:"bg-light"},{default:l(()=>[o(Y,null,{default:l(()=>[o(R,null,{default:l(()=>[o(c,{onClick:e[0]||(e[0]=h=>i.btAnterior()),icon:"arrow_back",round:"",flat:"",dense:""}),o(me,{vertical:"",inset:"",class:"q-mx-sm"}),o(c,{onClick:e[1]||(e[1]=h=>i.fecharModal()),icon:"close",round:"",flat:"",dense:""}),o(j,null,{default:l(()=>[v("Integra\xE7\xE3o")]),_:1}),o(c,{onClick:e[2]||(e[2]=h=>i.fecharModal()),label:"Finalizar",color:"white","text-color":"tertiary",unelevated:"",class:"q-ml-sm"})]),_:1})]),_:1}),o(W,{class:"q-mt-md"},{default:l(()=>[o(Z,{class:"u-container rounded-borders"},{default:l(()=>[o(b,{gutter:"md"},{default:l(()=>[o(d,null,{default:l(()=>[o(n,{text:"h1 bold center",class:"q-my-xl q-mx-auto"},{default:l(()=>[v("INTEGRA\xC7\xC3O...")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}var Ep=H(Dp,[["render",Rp]]);const Ip={components:{Contato:yo,FormatoRosto:mt,FormatoArmacao:Ft,EscolherArmacao:It,TirarFoto:St,TamanhoFoto:ul,TamanhoArmacao:gl,Olho:Pl,Diagonal:Bl,Bifocal:la,Medidas:Ha,FotoReceita:zo,ReceitaTeclado:Po,Anamnese:Xa,GraficoAnamnese:Js,CampoVisao:je,Materiais:ns,Coloracao:Re,Polarizado:Ee,Carrinho:$s,Pagamento:ti,NotaFiscal:si,ReceitaCompleta:Tp,Integracao:Ep,CardapioLentes:Xs},data(){return{tela:"",optsEntreTelas:null}},emits:["fecharModal"],props:{avancar:String},methods:{async mudarTela(a,e){this.tela=a,this.optsEntreTelas=e,$db.jornada.doc.value.tela=this.tela,await $db.jornada.grava()}},async created(){await this.mudarTela(this.avancar||"Contato")}};function jp(a,e,u,m,t,i){const n=k("Contato"),d=k("FotoReceita"),b=k("ReceitaTeclado"),h=k("FormatoRosto"),s=k("FormatoArmacao"),P=k("EscolherArmacao"),f=k("TirarFoto"),I=k("TamanhoFoto"),g=k("TamanhoArmacao"),E=k("Olho"),V=k("Diagonal"),G=k("Bifocal"),re=k("Medidas"),Be=k("Anamnese"),Ne=k("Materiais"),Se=k("CardapioLentes"),Le=k("Grafico-Anamnese"),He=k("Campo-Visao"),Qe=k("Coloracao"),Ge=k("Polarizado"),Xe=k("Carrinho"),Ye=k("Pagamento"),We=k("NotaFiscal"),Je=k("Receita-Completa"),Ze=k("Integracao");return p(),O(T,null,[t.tela==="Contato"?(p(),_(n,{key:0,onMudarTela:i.mudarTela,onFecharModal:e[0]||(e[0]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="FotoReceita"?(p(),_(d,{key:1,onMudarTela:i.mudarTela,onFecharModal:e[1]||(e[1]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="ReceitaTeclado"?(p(),_(b,{key:2,onMudarTela:i.mudarTela,onFecharModal:e[2]||(e[2]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="FormatoRosto"?(p(),_(h,{key:3,onMudarTela:i.mudarTela,onFecharModal:e[3]||(e[3]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="FormatoArmacao"?(p(),_(s,{key:4,onMudarTela:i.mudarTela,onFecharModal:e[4]||(e[4]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="EscolherArmacao"?(p(),_(P,{key:5,onMudarTela:i.mudarTela,onFecharModal:e[5]||(e[5]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="TirarFoto"?(p(),_(f,{key:6,onMudarTela:i.mudarTela,onFecharModal:e[6]||(e[6]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="TamanhoFoto"?(p(),_(I,{key:7,onMudarTela:i.mudarTela,onFecharModal:e[7]||(e[7]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="TamanhoArmacao"?(p(),_(g,{key:8,onMudarTela:i.mudarTela,onFecharModal:e[8]||(e[8]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="Olho"?(p(),_(E,{key:9,onMudarTela:i.mudarTela,onFecharModal:e[9]||(e[9]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="Diagonal"?(p(),_(V,{key:10,onMudarTela:i.mudarTela,onFecharModal:e[10]||(e[10]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="Bifocal"?(p(),_(G,{key:11,onMudarTela:i.mudarTela,onFecharModal:e[11]||(e[11]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="Medidas"?(p(),_(re,{key:12,onMudarTela:i.mudarTela,onFecharModal:e[12]||(e[12]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="Anamnese"?(p(),_(Be,{key:13,onMudarTela:i.mudarTela,onFecharModal:e[13]||(e[13]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="Materiais"?(p(),_(Ne,{key:14,onMudarTela:i.mudarTela,onFecharModal:e[14]||(e[14]=oe=>a.$emit("fecharModal"))},null,8,["onMudarTela"])):w("",!0),t.tela==="CardapioLentes"?(p(),_(Se,{key:15,opts:t.optsEntreTelas,onMudarTela:i.mudarTela},null,8,["opts","onMudarTela"])):w("",!0),t.tela==="GraficoAnamnese"?(p(),_(Le,{key:16,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="CampoVisao"?(p(),_(He,{key:17,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="Coloracao"?(p(),_(Qe,{key:18,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="Polarizado"?(p(),_(Ge,{key:19,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="Carrinho"?(p(),_(Xe,{key:20,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="Pagamento"?(p(),_(Ye,{key:21,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="NotaFiscal"?(p(),_(We,{key:22,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="ReceitaCompleta"?(p(),_(Je,{key:23,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0),t.tela==="Integracao"?(p(),_(Ze,{key:24,onMudarTela:i.mudarTela},null,8,["onMudarTela"])):w("",!0)],64)}var Bp=H(Ip,[["render",jp]]);const Pe={paginacao:{atual:1,maximo:1,total:1,limite:25},filtros:{numero:"",numeroCompra:null,dataHoraCriacao:{ini:"",fim:""},dataHoraModificacao:{ini:"",fim:""},fornecedor:{id:"",nome:""}}},Np={components:{Lista:po,PromptItemTabelaPreco:co,JornadaFicha:Bp},data(){return{mostrarJornada:!1,tela:"",contatos:{},lista:[],resultado:{},mostrar:{barraTopo:!0,toolbarTitulo:!0,icone:"connect_without_contact",titulo:"Jornadas",buscar:!0,filtroAvancado:!0,btnAjuda:!0,btnAtualizar:!0,btnNovo:!0,toolbarAcoes:!0,checkBox:!1,btnRemover:!1,btnRestaurar:!1,centralizaTabs:!1,btnDetalhes:!1,btnExportaXLS:!1,btnMenuMais:!1,toolbarAdicao:!1,bannerMsg:""},busca:"",filtros:$utils.clonarV2(Pe.filtros),tabSelecionada:{valor:"Digita\xE7\xE3o"},tabs:[{valor:"Digita\xE7\xE3o",rotulo:"Digita\xE7\xE3o"},{valor:"Finalizado",rotulo:"Finalizado"},{valor:"Todos",rotulo:"Todos"}],paginacao:$utils.clonarV2(Pe.paginacao)}},methods:{async fecharModal(){this.mostrarJornada=!1,await this.atualizar()},async atualizar(a){var u;const e=$utils.logarIni("JornadaLista");await $tryLoading(async()=>{a!=null&&a.aba&&(this.tabSelecionada.valor=a.aba);const m={...$utils.eliminarVazios(this.filtros),status:this.tabSelecionada.valor,termoBusca:this.busca,dataHoraCriacao:{ini:this.filtros.dataHoraCriacao.ini?ce.formatDate(this.filtros.dataHoraCriacao.ini).substr(0,10):null,fim:this.filtros.dataHoraCriacao.fim?ce.formatDate(ce.addToDate(this.filtros.dataHoraCriacao.fim,{days:1})).substr(0,10):null},dataHoraModificacao:{ini:this.filtros.dataHoraModificacao.ini?ce.formatDate(this.filtros.dataHoraModificacao.ini).substr(0,10):null,fim:this.filtros.dataHoraModificacao.fim?ce.formatDate(ce.addToDate(this.filtros.dataHoraModificacao.fim,{days:1})).substr(0,10):null}};let t=await $db.jornada.leListaCompleta({where:m,limit:this.paginacao.limite,page:this.paginacao.atual,sort:["dataHoraModificacao"],dir:["desc"]});this.paginacao.total=t.total,this.paginacao.maximo=t.totalPages,this.lista=t.data,this.contatos=t.contatos,this.carregarImagensContatos(this.contatos)},{mensagem:"Carregando...",erro:"Ocorreu um erro ao consultar"}),$utils.logarFim(e,((u=this.lista)==null?void 0:u.length)||0)},async carregarImagensContatos(a){const e=Object.keys(a);if(!!e.length){await $utils.dormir(200);try{const u=await $db.hibrido.lista({table:"contato",columns:["id","apelido","imagem"],whereIn:{id:e}});for(const m of u)a[m.id].imagem=m.imagem||""}catch(u){console.error("Erro ao carregar imagens de contatos - ",u)}}},async abrir(a){try{$q.loading.show(),await $db.jornada.carrega(a),this.tela=$db.jornada.doc.value.tela==="CardapioLentes"?"Materiais":$db.jornada.doc.value.tela,this.mostrarJornada=!0}catch(e){let u=`Erro ao abrir a jornada. ${e.message}`;/^GError:.+/.test(e.message)&&(u=e.message.slice(7)),$q.notify({message:u,type:"negative"})}finally{$q.loading.hide()}},async selecionarEmpresa(){const a=await $db.contatoEmpresa.listaCache();if(a.length===0)throw new Error("GError:N\xE3o h\xE1 empresa configurada.");return a.length===1?a[0]:await $g.promptContato.show({filtro:{ativo:!0,empresas:!0},placeholder:"Selecione a empresa"})},async selecionarItemTabelaPreco(a){var i,n;const e=await $db.configuracoes.porNome("vendas.tabelapadrao",a);let u=Number((i=e.find(d=>d.idEmpresa===a))==null?void 0:i.valor);u||(u=Number((n=e.find(d=>!d.idEmpresa))==null?void 0:n.valor));let m,t=await $erp().itemTabelaPreco.toArray();if(u&&(m=t.find(d=>Number(d.codigoItemTabelaPreco)===u),m))return m;if(t=t.filter(d=>d.tabelaMaster===1&&(!d.idEmpresa||d.idEmpresa===a)),t.length!==0)return t.length===1?t[0]:await this.selecionarPromptItemTabelaPreco(null,a)},async selecionarPromptItemTabelaPreco(a,e){if(!a)return this.$refs.promptItemTabelaPreco.placeholder="Selecione a tabela de pre\xE7o",this.$refs.promptItemTabelaPreco.filtro={tabelaMaster:!0,idContatoEmpresa:e},this.$refs.promptItemTabelaPreco.mostrar(),new Promise((u,m)=>{this.resolve=u,this.reject=m});a.id||this.reject("Tabela de pre\xE7o n\xE3o selecionada"),this.resolve(a)},async selecionarVendedor(){var m;let a=(await $db.contato.ler({filtros:{ativo:!0,vendedores:!0}})).data;if(a.length===0)throw new Error("GError:N\xE3o h\xE1 vendedores cadastrados.");if(a.length===1)return a[0];let e;const u=JSON.parse(localStorage.getItem("usuario"));return(m=u==null?void 0:u.numeroDocumentoNacional)!=null&&m.trim()&&(u.numeroDocumentoNacional=u.numeroDocumentoNacional.replace(/\D/g,""),e=a.find(t=>{if(!(t!=null&&t.numeroDocumentoNacional))return!1;const i=t.numeroDocumentoNacional.replace(/\D/g,"");return u.numeroDocumentoNacional===i}),e)||(e=await $g.promptContato.show({placeholder:"Selecione o vendedor",filtro:{ativo:!0,vendedores:!0}})),e},async obterContatoUsuario(){const a=JSON.parse(localStorage.getItem("usuario"));return a!=null&&a.codigoUsuario?(await $db.hibrido.lista({table:"contato",where:{codigoUsuario:a.codigoUsuario}}))[0]:void 0},async criarClick(){try{const a=await this.obterContatoUsuario(),e=await this.selecionarEmpresa();if(!e)return;const u=await this.selecionarVendedor();if(!u)return;let m;try{m=await this.selecionarItemTabelaPreco(e.id)}catch(t){console.error(t);return}$q.loading.show(),await $db.jornada.cria({idContatoDigitador:a==null?void 0:a.id,idContatoEmpresa:e==null?void 0:e.id,idContatoVendedor:u==null?void 0:u.id,idItemTabelaPreco:m==null?void 0:m.id}),$q.loading.hide(),this.tela="Contato",this.mostrarJornada=!0}catch(a){let e=`Erro ao criar a jornada. ${a.message}`;/^GError:.+/.test(a.message)&&(e=a.message.slice(7)),$q.notify({message:e,type:"negative"})}finally{$q.loading.hide()}},limparFiltrosClick(){this.filtros.dataHoraCriacao.ini="",this.filtros.dataHoraCriacao.fim="",this.filtros.dataHoraModificacao.ini="",this.filtros.dataHoraModificacao.fim="",this.atualizar()}},async mounted(){await this.atualizar()}},Sp={id:"JornadaLista"},Lp={class:"mw80 text-center"};function Hp(a,e,u,m,t,i){const n=k("campo"),d=k("BadgeCopiarUid"),b=k("avatar"),h=k("g-label"),s=k("g-col"),P=k("g-row"),f=k("badge"),I=k("Lista"),g=k("PromptItemTabelaPreco"),E=k("JornadaFicha");return p(),O("div",Sp,[o(I,{busca:t.busca,"onUpdate:busca":e[5]||(e[5]=V=>t.busca=V),onAtualizar:i.atualizar,onLimparFiltrosClick:i.limparFiltrosClick,onCriarClick:i.criarClick,lista:t.lista,tabSelecionada:t.tabSelecionada,tabs:t.tabs,paginacao:t.paginacao,mostrar:t.mostrar},{filtroCampos:l(()=>[o(n,{modelValue:t.filtros.dataHoraCriacao.ini,"onUpdate:modelValue":e[0]||(e[0]=V=>t.filtros.dataHoraCriacao.ini=V),rotulo:"Data de Cria\xE7\xE3o",dense:"",tipo:"data",class:"q-mb-xs"},null,8,["modelValue"]),o(n,{modelValue:t.filtros.dataHoraCriacao.fim,"onUpdate:modelValue":e[1]||(e[1]=V=>t.filtros.dataHoraCriacao.fim=V),rotulo:"at\xE9",dense:"",tipo:"data",class:"q-mb-xl"},null,8,["modelValue"]),o(n,{modelValue:t.filtros.dataHoraModificacao.ini,"onUpdate:modelValue":e[2]||(e[2]=V=>t.filtros.dataHoraModificacao.ini=V),rotulo:"Data Modificado",dense:"",tipo:"data",class:"q-mb-xs"},null,8,["modelValue"]),o(n,{modelValue:t.filtros.dataHoraModificacao.fim,"onUpdate:modelValue":e[3]||(e[3]=V=>t.filtros.dataHoraModificacao.fim=V),rotulo:"at\xE9",dense:"",tipo:"data",class:"q-mb-xl"},null,8,["modelValue"]),o(n,{modelValue:t.paginacao.limite,"onUpdate:modelValue":e[4]||(e[4]=V=>t.paginacao.limite=V),min:"1",rotulo:"Quantidade por p\xE1gina",dense:"",tipo:"quantidade",class:"q-field--with-bottom"},null,8,["modelValue"])]),itemLista:l(()=>[o(J,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:l(()=>[(p(!0),O(T,null,N(t.lista,V=>(p(),O("div",{key:V.id,class:"itemHover"},[o(U,{"manual-focus":"",class:"q-py-sm q-px-xs"},{default:l(()=>[o(A,{class:"hideonmobile col-auto q-px-sm no-margin"},{default:l(()=>[r("div",Lp,[o(d,{id:V==null?void 0:V.id,cor:"positive",dica:"ID Jornada",escuro:""},null,8,["id"])])]),_:2},1024),o(A,{onClick:G=>i.abrir(V==null?void 0:V.id),class:"col-md col-lg col-xl no-margin cursor-pointer"},{default:l(()=>[o(U,{class:"q-pa-none"},{default:l(()=>[o(A,{class:"col-auto items-center"},{default:l(()=>{var G,re;return[o(b,{imagem:(G=t.contatos[V==null?void 0:V.idContato])==null?void 0:G.imagem,rotulo:(re=t.contatos[V==null?void 0:V.idContato])==null?void 0:re.nome,tamanho:"40",style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"])]}),_:2},1024),o(A,{class:"col"},{default:l(()=>[o(U,{class:"q-pa-none",style:{"min-height":"unset"}},{default:l(()=>[o(S,{lines:"2",class:"text-tertiary text-weight-bold ellipsis-2-lines"},{default:l(()=>{var G;return[v(q(((G=t.contatos[V==null?void 0:V.idContato])==null?void 0:G.nome)||"Sem contato")+" ",1),o($,{anchor:"bottom middle",self:"center middle"},{default:l(()=>[v("Cliente")]),_:1})]}),_:2},1024)]),_:2},1024),o(U,{class:"q-pa-none hideonmobile",style:{"min-height":"unset"}},{default:l(()=>[o(S,{caption:"",class:"text-weight-bold"},{default:l(()=>{var G;return[v(q((G=t.contatos[V==null?void 0:V.idContatoVendedor])==null?void 0:G.nome)+" ",1),o($,{anchor:"bottom middle",self:"center middle"},{default:l(()=>[v("respons\xE1vel")]),_:1})]}),_:2},1024)]),_:2},1024),o(A,{class:"hideondesktop q-mt-sm"},{default:l(()=>[o(P,{mg:"xs-b"},{default:l(()=>[V.dataHoraCriacao?(p(),_(s,{key:0,col:"shrink"},{default:l(()=>[o(h,{icon:"mdi-calendar-today xs tertiary left",tip:`Emitido \xE1s ${a.$filters.hora(V==null?void 0:V.dataHoraCriacao)}`},{default:l(()=>[v(q(a.$filters.data(V==null?void 0:V.dataHoraCriacao)),1)]),_:2},1032,["tip"])]),_:2},1024)):w("",!0),V.dataHoraModificacao?(p(),_(s,{key:1,col:"shrink",class:"q-ml-sm"},{default:l(()=>[o(h,{icon:"mdi-calendar xs tertiary left",tip:`Finalizado \xE0s ${a.$filters.hora(V==null?void 0:V.dataHoraModificacao)}`},{default:l(()=>[v(q(a.$filters.data(V==null?void 0:V.dataHoraModificacao)),1)]),_:2},1032,["tip"])]),_:2},1024)):w("",!0)]),_:2},1024),o(P,{mg:"xs-b"},{default:l(()=>[o(s,{col:"shrink"},{default:l(()=>[o(d,{id:V==null?void 0:V.id,cor:"positive",escuro:"",dica:"ID Jornada"},null,8,["id"]),V!=null&&V.status?(p(),_(f,{key:0,cor:(V==null?void 0:V.status)==="Entregue"?"positive":"light",escuro:(V==null?void 0:V.status)==="Entregue",class:"col-auto q-ml-sm q-mr-auto"},{default:l(()=>[v(q(V==null?void 0:V.status)+" ",1),o($,{anchor:"bottom middle",self:"center middle"},{default:l(()=>[v("Status")]),_:1})]),_:2},1032,["cor","escuro"])):w("",!0)]),_:2},1024),o(s,{col:"shrink",class:"q-ml-sm"},{default:l(()=>{var G;return[(G=t.contatos[V.idContatoEmpresa])!=null&&G.nome?(p(),_(f,{key:0,cor:"tertiary",escuro:"",class:"col-auto q-mx-auto"},{default:l(()=>{var re;return[v(q((re=t.contatos[V.idContatoEmpresa])==null?void 0:re.nome)+" ",1),o($,{anchor:"bottom middle",self:"center middle"},{default:l(()=>[v("Empresa")]),_:1})]}),_:2},1024)):w("",!0)]}),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]),o(A,{onClick:G=>i.abrir(V==null?void 0:V.id),class:"hideonmobile maxw200 q-pl-sm no-margin cursor-pointer"},{default:l(()=>{var G;return[(G=t.contatos[V.idContatoEmpresa])!=null&&G.nome?(p(),_(f,{key:0,cor:"tertiary",escuro:"",class:"col-auto q-mx-auto"},{default:l(()=>{var re;return[v(q((re=t.contatos[V.idContatoEmpresa])==null?void 0:re.nome)+" ",1),o($,{anchor:"bottom middle",self:"center middle"},{default:l(()=>[v("Empresa")]),_:1})]}),_:2},1024)):w("",!0)]}),_:2},1032,["onClick"]),o(A,{onClick:G=>i.abrir(V==null?void 0:V.id),class:"hideonmobile maxw110 q-pl-sm no-margin cursor-pointer"},{default:l(()=>[V.dataHoraCriacao?(p(),_(S,{key:0,color:"tertiary",lines:"1",class:"ellipsis"},{default:l(()=>[o(B,{name:"mdi-calendar-today"}),v(" "+q(a.$filters.data(V==null?void 0:V.dataHoraCriacao))+" ",1),o($,{anchor:"bottom middle",self:"center middle"},{default:l(()=>[v(" Criado \xE1s "+q(a.$filters.hora(V==null?void 0:V.dataHoraCriacao)),1)]),_:2},1024)]),_:2},1024)):w("",!0)]),_:2},1032,["onClick"]),o(A,{onClick:G=>i.abrir(V==null?void 0:V.id),class:"hideonmobile maxw110 q-pl-sm no-margin cursor-pointer"},{default:l(()=>[V.dataHoraModificacao?(p(),_(S,{key:0,color:"tertiary",lines:"1",class:"ellipsis"},{default:l(()=>[o(B,{name:"mdi-calendar-today"}),v(" "+q(a.$filters.data(V==null?void 0:V.dataHoraModificacao))+" ",1),o($,{anchor:"bottom middle",self:"center middle"},{default:l(()=>[v(" Modificado \xE1s "+q(a.$filters.hora(V==null?void 0:V.dataHoraModificacao)),1)]),_:2},1024)]),_:2},1024)):w("",!0)]),_:2},1032,["onClick"]),o(A,{class:"col-shrink q-pl-sm no-margin"},{default:l(()=>[o(U,{class:"q-pa-none"},{default:l(()=>[t.tabSelecionada.valor!="Finalizado"?(p(),_(A,{key:0,class:"hideonmobile q-mr-xs",style:{width:"32px"}},{default:l(()=>[V.tela!=="Envelope"?(p(),_(c,{key:0,onClick:G=>i.abrir(V==null?void 0:V.id),icon:"edit",color:"primary",size:"md",round:"",flat:"",dense:""},{default:l(()=>[o($,{anchor:"bottom middle",self:"center middle"},{default:l(()=>[v("Editar")]),_:1})]),_:2},1032,["onClick"])):w("",!0)]),_:2},1024)):w("",!0),o(A,{class:"hideondesktop no-margin",style:{width:"32px"}},{default:l(()=>[o(c,{icon:"more_vert",size:"md",round:"",flat:"",dense:""},{default:l(()=>[o(ee,null,{default:l(()=>[y((p(),_(J,{link:"","no-border":"",separator:""},{default:l(()=>[V.tela!=="Envelope"?(p(),_(U,{key:0,onClick:G=>i.abrir(V==null?void 0:V.id),clickable:"",class:"hideondesktop"},{default:l(()=>[o(A,{avatar:""},{default:l(()=>[o(B,{name:"edit"})]),_:1}),o(A,null,{default:l(()=>[v(" Editar ")]),_:1})]),_:2},1032,["onClick"])):w("",!0)]),_:2},1024)),[[M]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),o(me)]))),128))]),_:1})]),_:1},8,["busca","onAtualizar","onLimparFiltrosClick","onCriarClick","lista","tabSelecionada","tabs","paginacao","mostrar"]),o(g,{ref:"promptItemTabelaPreco",onSelecionar:i.selecionarPromptItemTabelaPreco},null,8,["onSelecionar"]),o(de,{modelValue:t.mostrarJornada,"onUpdate:modelValue":e[6]||(e[6]=V=>t.mostrarJornada=V),maximized:"",persistent:""},{default:l(()=>[o(E,{onFecharModal:i.fecharModal,avancar:t.tela},null,8,["onFecharModal","avancar"])]),_:1},8,["modelValue"])])}var ef=H(Np,[["render",Hp]]);export{ef as default};
