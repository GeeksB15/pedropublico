import{_ as re,r as F,o as u,n as j,f as a,bs as ue,w as o,R as w,S as d,j as B,T as b,k as n,O as J,F as _,s as I,d as p,U as K,m as E,t as m,B as i,e as g,Q as y,ax as de,G as X,M as Y,l as Z,L as $,K as me,D as fe,E as ee,h as ae,i as W,b1 as pe,b2 as oe,H as se,I as le,bc as ce,bd as te,J as be,bD as ge,C as ne}from"./index.129a5639.js";import{L as ve}from"./Lista.0485e31d.js";import{S as ye}from"./SeletorEmpresa.73c95389.js";import"./QBtnDropdown.549d789e.js";import"./QBtnGroup.dde1c940.js";import"./QScrollArea.93b95b42.js";const G={visivel:!1,dadosEmpresa:null,id:"",ativo:1,removido:0,gerarBonus:0,empresa:"",cnpjEmpresa:"00.000.000/000-00",vigenciaDe:null,vigenciaAte:null,idFinanceiroPlanoConta:null,percentual:10,percentualSobreBonus:5,valorMinimo:1,valorMaximo:500,diasMinimoUso:1,diasExpiracao:60,textoRegras:"",observacao:"",mensagens:{aoCriar:"",aoClienteAceitarReceberBonus:"",diasAntesDeVencer:[{dias:0,mensagem:""}],aoUsarBonus:""}},xe={components:{Lista:ve,SeletorEmpresa:ye},data(){return{usuario:"",listaLayout:{},lista:[],listaRemovidos:[],mostrar:{header:!1,barraTopo:!1,toolbarTitulo:!0,icone:"",titulo:"",buscar:!0,filtroAvancado:!0,btnAjuda:!0,btnAtualizar:!0,btnNovo:!0,toolbarAcoes:!0,checkBox:!1,btnRemover:!1,btnRestaurar:!1,centralizaTabs:!1,btnDetalhes:!0,btnExportaXLS:!1,btnMenuMais:!0,toolbarAdicao:!1,bannerMsg:""},busca:"",filtrosOriginal:{},filtros:{cnpjEmpresa:null,status:"todos",ordenacao:"vigenciaDe",direcao:"desc"},statusOpcoes:[{value:"ativo",label:"Ativo"},{value:"inativo",label:"Inativo"},{value:"todos",label:"Todos"}],ordenacaoOpcoes:[{value:"vigenciaDe",label:"Vig\xEAncia De"},{value:"vigenciaAte",label:"Vig\xEAncia At\xE9"},{value:"descricao",label:"Descri\xE7\xE3o"}],direcaoOpcoes:[{value:"asc",label:"Crescente"},{value:"desc",label:"Decrescente"}],detalhes:!1,tabSelecionada:{valor:"Vigente"},tabs:[{valor:"Vigente",rotulo:"Vigente"},{valor:"Futuro",rotulo:"Futuro"},{valor:"Vencidos",rotulo:"Vencidos"},{valor:"Todos",rotulo:"Todos"}],paginacao:{atual:1,maximo:1,total:1,limite:25},bonusOriginal:{},bonus:{},tabConfiguracoes:"configuracoes",removidos:!1,dataAtual:$utils.dataAtual(),tela:{width:0,heihgt:0}}},methods:{async atualizar(t){var e,k,A,l,f,q,x,N,L,O,V;try{$q.loading.show(),this.lista=[],this.listaRemovidos=[];let r=[];this.tabSelecionadaAnt!==this.tabSelecionada.valor&&(this.paginacao.atual=1),this.tabSelecionadaAnt=this.tabSelecionada.valor;let{buscarDadosRecentes:U}=t!=null?t:{},C={};U&&(C=await $utils.localIDB.getItem({objectStore:"dadosRecentes",id:"ConfiguracoesBonus_"+((e=this.usuario)==null?void 0:e.id)}),C!=null&&C._id&&(this.tabSelecionada.valor=(C==null?void 0:C.tabSelecionada)||"Ativos",this.busca=(C==null?void 0:C.busca)||"",this.filtros={cnpjEmpresa:((k=C==null?void 0:C.filtros)==null?void 0:k.cnpjEmpresa)||null,status:((A=C==null?void 0:C.filtros)==null?void 0:A.status)||"todos",ordenacao:((l=C==null?void 0:C.filtros)==null?void 0:l.ordenacao)||"vigenciaDe",direcao:((f=C==null?void 0:C.filtros)==null?void 0:f.direcao)||"desc"},this.compareObject(this.filtrosOriginal,this.filtros,["ordenacao","direcao"])&&(this.$refs.configuracoesBonus.filtros=!0)));const P=await $utils.geeksApi({leBonusConfiguracoes:{funcao:"2CB180A6-5464-4D30-AF0F-82C897831886"}}),s=(O=JSON.parse((L=(N=(x=(q=P==null?void 0:P.data)==null?void 0:q.leBonusConfiguracoes)==null?void 0:x[0])==null?void 0:N.json)!=null?L:null))!=null?O:[];if(r=this.ordenarDados(s,{ordenacao:this.filtros.ordenacao,direcao:this.filtros.direcao}),this.listaRemovidos=r.filter(v=>v.removido===1)||[],r=r.filter(v=>v.removido===0)||[],this.filtros.cnpjEmpresa){const v=this.filtros.cnpjEmpresa.numeroDocumentoNacional;r=r.filter(h=>h.cnpjEmpresa===v)}if(this.filtros.vigenciaDe||this.filtros.vigenciaAte){const v=this.filtros.vigenciaDe?new Date(this.filtros.vigenciaDe).setHours(0,0,0,0):null,h=this.filtros.vigenciaAte?new Date(this.filtros.vigenciaAte).setHours(0,0,0,0):null;r=r.filter(T=>{const R=new Date(T.vigenciaDe).setHours(0,0,0,0),M=new Date(T.vigenciaAte).setHours(0,0,0,0);return v!==null&&h!==null?R>=v&&R<=h||M>=h&&M<=v:v!==null?R>=v&&R<=v:h!==null?M>=h&&M<=h:!0})}if(this.filtros.status!==""){const v=this.filtros.status==="ativo"?1:this.filtros.status==="inativo"?0:this.filtros.status==="todos"?"":null;r=r.filter(h=>v===""||h.ativo===v)}if(this.busca)if(this.paginacao.atual=1,/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(this.busca))this.tabSelecionada.valor="Todos",r=r.filter(h=>h.id===this.busca);else{const T=$utils.removerAcentos(this.busca.toUpperCase()).split(" ").filter(Boolean).filter(M=>!M.match(/^\d+$/)),R=[];r=r.filter(M=>{const H=$utils.removerAcentos([(M.empresa||"Todas as empresas")+" - "+M.percentual+"%",M.cnpjEmpresa].join(" ").toUpperCase());let Q=!0;for(const ie of T)Q=Q&&H.includes(ie);return Q})}this.tabSelecionada.valor==="Vigente"&&(r=r.filter(v=>new Date(this.dataAtual).setHours(0,0,0,0)>=new Date(v.vigenciaDe).setHours(0,0,0,0)&&new Date(this.dataAtual).setHours(0,0,0,0)<=new Date(v.vigenciaAte).setHours(0,0,0,0))),this.tabSelecionada.valor==="Futuro"&&(r=r.filter(v=>new Date(v.vigenciaDe).setHours(0,0,0,0)>new Date(this.dataAtual).setHours(0,0,0,0))),this.tabSelecionada.valor==="Vencidos"&&(r=r.filter(v=>new Date(v.vigenciaAte).setHours(0,0,0,0)<new Date(this.dataAtual).setHours(0,0,0,0)));const c=Math.ceil(r.length/this.paginacao.limite);this.paginacao.atual=this.paginacao.atual>c?c:this.paginacao.atual,this.paginacao.total=r.length,this.paginacao.maximo=c;const z=this.paginacao.atual*this.paginacao.limite-this.paginacao.limite,D=this.paginacao.atual*this.paginacao.limite;this.lista=r.slice(z,D);let S=!0;for(const v of this.lista)this.listaLayout.hasOwnProperty(v.id)||(this.listaLayout[v.id]={detalhes:!1}),this.listaLayout[v.id].detalhes||(S=!1);this.$refs.configuracoesBonus.detalhes=S,C={_id:"ConfiguracoesBonus_"+((V=this.usuario)==null?void 0:V.id),tabSelecionada:this.tabSelecionada.valor,busca:this.busca,filtros:$utils.clonar(this.filtros)},await $utils.localIDB.setItem({objectStore:"dadosRecentes",data:C})}catch(r){$q.notifyError("Erro iniciar",r)}finally{$q.loading.hide()}},ordenarDados(t,e){return t.sort((k,A)=>{let l=e.ordenacao,f=e.direcao==="desc"?-1:1,q="",x="";return l.includes("vigencia")&&(q=new Date(k[l]),x=new Date(A[l])),l.includes("descricao")?(q=`${k.empresa?k.empresa:"Todas as empresas"} - ${k.percentual}%`,x=`${A.empresa?A.empresa:"Todas as empresas"} - ${A.percentual}%`):typeof q=="string"&&typeof x=="string"&&(q=q.trim().toLowerCase(),x=x.trim().toLowerCase()),q<x?-1*f:q>x?1*f:0})},async abrirBonus(t){if(t!=null&&t.id){const e=await this.buscarEmpresa(t.cnpjEmpresa);this.bonus={...t,dadosEmpresa:e,visivel:!0},this.bonusOriginal=$utils.clonar(this.bonus)}else this.bonus={...G,id:$utils.uuid(),vigenciaDe:this.dataAtual,vigenciaAte:this.dataAtual,visivel:!0}},fecharBonus(){this.bonus=$utils.clonar(G)},async salvarBonus(t){try{if($q.loading.show(),t){const A=await this.buscarEmpresa(t.cnpjEmpresa);this.bonus={...t,dadosEmpresa:A,visivel:!1}}const e=$utils.clonar(this.bonus),k=$utils.diferencaObjetos(this.bonusOriginal,e);Object.keys(k).length>0?(e.dadosEmpresa?(e.empresa=e.dadosEmpresa.nome||e.dadosEmpresa.apelido,e.cnpjEmpresa=e.dadosEmpresa.numeroDocumentoNacional):(e.empresa="",e.cnpjEmpresa=""),delete e.visivel,delete e.dadosEmpresa,await $utils.geeksApi({salvarBonusConfiguracoes:{funcao:"A288EBE9-B138-4D5D-A185-2F68BDDBB3F9",...e}}),this.bonus.removido?$q.notifyPositive("Configura\xE7\xF5es de b\xF4nus removida com sucesso!"):$q.notifyPositive("Configura\xE7\xF5es de b\xF4nus cadastrada com sucesso!"),this.bonus=$utils.clonar(G),await this.atualizar()):$q.notify("Configura\xE7\xF5es de b\xF4nus sem altera\xE7\xF5es a serem salvas.")}catch{$q.notifyError("Erro ao cadastrar configura\xE7\xF5es de b\xF4nus.")}finally{$q.loading.hide()}},async duplicarBonus(t){$q.dialog({title:"Duplicar Configura\xE7\xF5es do B\xF4nus",message:`Ao continuar voc\xEA ir\xE1 duplicar as configura\xE7\xF5es do b\xF4nus: ${t.empresa||"Todas as empresas"} - ${t.percentual+"%"}.`,cancel:{label:"N\xE3o",push:!0,color:"textiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async()=>{const e=await this.buscarEmpresa(t.cnpjEmpresa);this.bonus={...t,id:$utils.uuid(),vigenciaDe:this.dataAtual,vigenciaAte:this.dataAtual,dadosEmpresa:e,visivel:!0}})},removerBonus(t){$q.dialog({title:"Remover Configura\xE7\xF5es do B\xF4nus",message:`Ao continuar voc\xEA ir\xE1 remover as configura\xE7\xF5es do b\xF4nus: ${t.empresa||"Todas as empresas"} - ${t.percentual+"%"}.`,cancel:{label:"N\xE3o",push:!0,color:"textiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async()=>{const e=await this.buscarEmpresa(t.cnpjEmpresa);this.bonus={...t,ativo:0,removido:1,dadosEmpresa:e,visivel:!1},await this.salvarBonus()})},restaurarBonus(t){$q.dialog({title:"Restaurar Configura\xE7\xF5es do B\xF4nus",message:`Ao continuar voc\xEA ir\xE1 restaurar as configura\xE7\xF5es do b\xF4nus: ${t.empresa||"Todas as empresas"} - ${t.percentual+"%"}.`,cancel:{label:"N\xE3o",push:!0,color:"textiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async()=>{const e=await this.buscarEmpresa(t.cnpjEmpresa);this.removidos=!1,this.bonus={...t,ativo:1,removido:0,dadosEmpresa:e,visivel:!0}})},async buscarEmpresa(t){try{if(t){const e=(await $db.hibrido.lista({table:"empresa",whereFilter:{numeroDocumentoNacional:t}}))[0];return{id:e.idContato,nome:e.nome,apelido:e.apelido,numeroDocumentoNacional:t}}return null}catch(e){$q.notifyError("Empresa n\xE3o localizada",e)}},adicionarDiasAntesDeVencer(t){try{t.mensagens.diasAntesDeVencer.push({dias:0,mensagem:""})}catch{$q.notifyError("Erro ao adicionar novo per\xEDodo de dias para vencimento.")}},async removerDiasAntesDeVencer(t,e){if(!!await $q.dialogSimNao({title:"Remover",message:"Deseja remover este per\xEDodo de dias de vencimento?"}))try{t.mensagens.diasAntesDeVencer.splice(e,1),t.mensagens.diasAntesDeVencer.length===0&&this.adicionarDiasAntesDeVencer(t)}catch(k){$q.notifyError("Ocorreu um erro ao remover este per\xEDodo de dias.",k)}},validacao(t,e){if(t==="vigenciaDe"){const k=new Date(e).setHours(0,0,0,0),A=new Date(this.bonus.vigenciaAte).setHours(0,0,0,0),l=new Date(this.dataAtual).setHours(0,0,0,0);if(!e)return"Defina a vig\xEAncia.";A<l&&(this.bonus.vigenciaAte=k>=l?this.bonus.vigenciaDe:this.dataAtual),A<k&&(this.bonus.vigenciaAte=k>=l?this.bonus.vigenciaDe:this.dataAtual);return}if(t==="vigenciaAte"){const k=new Date(this.bonus.vigenciaDe).setHours(0,0,0,0),A=new Date(e).setHours(0,0,0,0),l=new Date(this.dataAtual).setHours(0,0,0,0);return e?A<l?(this.bonus.vigenciaAte=k>=l?this.bonus.vigenciaDe:this.dataAtual,"A vig\xEAncia deve ser maior ou igual \xE0 data atual"):A<k?(this.bonus.vigenciaAte=k>=l?this.bonus.vigenciaDe:this.dataAtual,"A vig\xEAncia at\xE9 deve ser maior ou igual \xE0 vig\xEAncia de"):void 0:"Defina a vig\xEAncia."}if(t==="diasMinimoUso")return!e||e<0?(this.bonus.diasMinimoUso=1,"N\xFAmero de dias deve ser maior que 0"):void 0;if(t==="diasExpiracao")return!e||e<0?(this.bonus.diasExpiracao=1,"N\xFAmero de dias deve ser maior que 0"):void 0;if(t==="valorMinimo")return!e||e<0?(this.bonus.valorMinimo=0,"Valor deve ser maior que R$ 0,00"):void 0;if(t==="valorMaximo")return e<0?(this.bonus.valorMaximo=0,"Valor n\xE3o pode ser negativo."):void 0;if(t==="percentual")return!e||e<=0?(this.bonus.percentual=0,"O percentual deve ser maior que 0%"):void 0;if(t==="percentualSobreBonus")return e<0?(this.bonus.percentualSobreBonus=0,"O fator n\xE3o pode ser negativo."):e>=1e3?this.bonus.percentualSobreBonus=999.99:void 0},detalhesClick(){this.detalhes=!this.detalhes,this.lista.forEach(t=>{this.abrirDetalhes(t,this.detalhes)})},async abrirDetalhes(t,e){this.listaLayout[t.id].detalhes=e||!this.listaLayout[t.id].detalhes,this.verificarListaLayout("detalhes")},verificarListaLayout(t){{let e=!0;for(const k of this.lista)this.listaLayout[k.id].detalhes||(e=!1);this.detalhes=e,this.$refs.configuracoesBonus.detalhes=e}},async limparFiltrosClick(){this.filtros=$utils.clonar(this.filtrosOriginal),await this.atualizar()},compareObject(t,e,k=[]){const A=Object.keys(t);for(const l of A)if(!k.includes(l)){if(typeof t[l]=="object"&&t[l]!==null){if(!this.compareObject(t[l],e[l],k))continue;return!0}else if(t[l]!==e[l])return!0}return!1},resize(){const t=document.getElementById("ConfiguracoesBonus");t&&(this.tela={width:t.offsetWidth,height:t.offsetHeight})}},async mounted(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.filtrosOriginal=$utils.clonar(this.filtros),await this.atualizar({buscarDadosRecentes:!0})}},ke={id:"ConfiguracoesBonus"},Ce={class:"mw80 text-center"},De={class:"text-weight-bold"},Ve={class:"text-weight-bold"},we={class:"text-weight-bold"},Ae={class:"text-weight-bold"},he={class:"text-weight-medium"},Be={class:"text-weight-bold"},Ee={class:"text-weight-bold"},qe={key:0},ze={key:1},Me={class:"mw80 text-center"},Ue={class:"text-weight-bold"},Se={class:"text-weight-bold"},Fe={class:"text-weight-bold"},je={class:"text-weight-bold"},Ne={class:"text-weight-medium"},Oe={class:"text-weight-bold"},Re={class:"text-weight-bold"};function Te(t,e,k,A,l,f){const q=F("SeletorEmpresa"),x=F("campo"),N=F("BadgeCopiarUid"),L=F("avatar"),O=F("badge"),V=F("g-label"),r=F("g-col"),U=F("g-row"),C=F("Lista"),P=F("ajuda");return u(),j("div",ke,[a(ue,{onResize:e[0]||(e[0]=s=>f.resize())}),a(C,{ref:"configuracoesBonus",busca:l.busca,"onUpdate:busca":e[7]||(e[7]=s=>l.busca=s),onAtualizar:f.atualizar,onCriarClick:f.abrirBonus,onDetalhesClick:f.detalhesClick,onLimparFiltrosClick:f.limparFiltrosClick,lista:l.lista,tabSelecionada:l.tabSelecionada,tabs:l.tabs,paginacao:l.paginacao,mostrar:l.mostrar,style:{"margin-top":"-16px"}},{menuExtras:o(()=>[a(w,{onClick:e[1]||(e[1]=()=>{l.removidos=!l.removidos}),clickable:""},{default:o(()=>[a(d,{avatar:""},{default:o(()=>[a(B,{name:"restore_from_trash",size:"sm"})]),_:1}),a(d,null,{default:o(()=>[a(b,null,{default:o(()=>e[45]||(e[45]=[n("Restaurar")])),_:1}),a(b,{caption:""},{default:o(()=>e[46]||(e[46]=[n("B\xF4nus removidos")])),_:1})]),_:1})]),_:1})]),filtroCampos:o(()=>[a(q,{modelValue:l.filtros.cnpjEmpresa,"onUpdate:modelValue":e[2]||(e[2]=s=>l.filtros.cnpjEmpresa=s),rotulo:"Por empresa",dense:"",chaves:["id","numeroDocumentoNacional"]},null,8,["modelValue"]),a(x,{modelValue:l.filtros.status,"onUpdate:modelValue":e[3]||(e[3]=s=>l.filtros.status=s),options:l.statusOpcoes,dense:"",rotuloFixo:"Status",tipo:"seletor",class:"q-mt-sm"},null,8,["modelValue","options"]),a(x,{modelValue:l.filtros.ordenacao,"onUpdate:modelValue":e[4]||(e[4]=s=>l.filtros.ordenacao=s),options:l.ordenacaoOpcoes,dense:"",rotuloFixo:"Ordenar por",tipo:"seletor",class:"q-mt-lg"},null,8,["modelValue","options"]),a(x,{modelValue:l.filtros.direcao,"onUpdate:modelValue":e[5]||(e[5]=s=>l.filtros.direcao=s),options:l.direcaoOpcoes,dense:"",rotuloFixo:"Dire\xE7\xE3o",tipo:"seletor",class:"q-mt-sm"},null,8,["modelValue","options"]),a(x,{modelValue:l.paginacao.limite,"onUpdate:modelValue":e[6]||(e[6]=s=>l.paginacao.limite=s),tipo:"quantidade",min:"1",dense:"",rotulo:"Quantidade por p\xE1gina",class:"q-mt-xl q-mb-md"},null,8,["modelValue"])]),itemLista:o(()=>[a(J,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:o(()=>[(u(!0),j(_,null,I(l.lista,s=>(u(),j("div",{key:s.id,class:"itemHover"},[s.id?(u(),p(w,{key:0,"manual-focus":"",class:"q-py-sm q-px-xs items-center"},{default:o(()=>[a(d,{class:"hideonmobile col-auto no-margin"},{default:o(()=>[a(w,{class:"q-pa-none"},{default:o(()=>[a(d,{class:"no-margin col-auto q-px-sm"},{default:o(()=>[a(K,{modelValue:s.ativo,"onUpdate:modelValue":[c=>s.ativo=c,c=>f.salvarBonus(s)],dense:"","true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue"]),a(E,{anchor:"bottom middle",self:"center start"},{default:o(()=>[n(m(s.ativo===1?"B\xF4nus Ativo":"B\xF4nus Inativo"),1)]),_:2},1024)]),_:2},1024),a(d,{class:"no-margin col-auto q-pa-none"},{default:o(()=>[i("div",Ce,[a(N,{id:s.id,numero:s.id.slice(-6),escuro:"",cor:s.ativo?"positive":"tertiary",dica:"ID Config. B\xF4nus"},null,8,["id","numero","cor"])])]),_:2},1024)]),_:2},1024)]),_:2},1024),a(d,{class:"col-xs col-sm no-margin"},{default:o(()=>[a(w,{class:"q-pa-none"},{default:o(()=>[a(d,{onClick:c=>f.abrirBonus(s),class:"col-auto items-center cursor-pointer"},{default:o(()=>[a(L,{rotulo:`${s.empresa||"Todas as empresas"}`,tamanho:"40",style:{display:"flex","align-self":"center"}},null,8,["rotulo"])]),_:2},1032,["onClick"]),a(d,{class:"col"},{default:o(()=>[a(b,{onClick:c=>f.abrirBonus(s),lines:"2",class:"cursor-pointer"},{default:o(()=>[i("span",null,[i("span",De,m(s.empresa||"Todas as empresas"),1),e[48]||(e[48]=i("span",{class:"q-px-sm"},"-",-1)),i("span",null,m(s.percentual)+"%",1),a(E,{anchor:"bottom start",self:"center start"},{default:o(()=>e[47]||(e[47]=[n("Descri\xE7\xE3o")])),_:1})])]),_:2},1032,["onClick"]),s.cnpjEmpresa?(u(),p(b,{key:0,onClick:c=>f.abrirBonus(s),caption:"",class:"cursor-pointer"},{default:o(()=>[i("span",null,[n(m(s.cnpjEmpresa)+" ",1),a(E,{anchor:"bottom start",self:"center start"},{default:o(()=>e[49]||(e[49]=[n("CNPJ")])),_:1})])]),_:2},1032,["onClick"])):g("",!0),a(d,{class:"hideondesktop q-mt-xs"},{default:o(()=>[a(N,{id:s.id,numero:s.id.slice(-8),escuro:"",cor:s.ativo?"positive":"tertiary",dica:"ID Config. B\xF4nus",class:"col-auto q-mr-auto"},null,8,["id","numero","cor"]),a(w,{class:"no-padding no-margin",style:{"min-height":"20px"}},{default:o(()=>[a(d,{onClick:c=>f.abrirBonus(s),class:"no-margin text-weight-medium"},{default:o(()=>[s.vigenciaDe?(u(),p(b,{key:0,caption:""},{default:o(()=>[a(B,{name:"mdi-calendar-today"}),n(" "+m(t.$filters.data(s.vigenciaDe)),1)]),_:2},1024)):g("",!0)]),_:2},1032,["onClick"]),a(d,{onClick:c=>f.abrirBonus(s),class:"no-margin text-weight-medium"},{default:o(()=>[s.vigenciaAte?(u(),p(b,{key:0,caption:""},{default:o(()=>[a(B,{name:"mdi-calendar"}),n(" "+m(t.$filters.data(s.vigenciaAte)),1)]),_:2},1024)):g("",!0)]),_:2},1032,["onClick"])]),_:2},1024),a(w,{class:"no-padding no-margin",style:{"min-height":"10px"}},{default:o(()=>[a(d,{onClick:c=>f.abrirBonus(s),class:"no-margin"},{default:o(()=>[s.diasExpiracao?(u(),p(b,{key:0,caption:""},{default:o(()=>[e[50]||(e[50]=n(" Expira em: ")),i("span",Ve,m(s.diasExpiracao),1)]),_:2},1024)):g("",!0)]),_:2},1032,["onClick"]),a(d,{onClick:c=>f.abrirBonus(s),class:"no-margin"},{default:o(()=>[s.diasMinimoUso?(u(),p(b,{key:0,caption:""},{default:o(()=>[e[51]||(e[51]=n(" Dias m\xEDnimo: ")),i("span",we,m(s.diasMinimoUso),1)]),_:2},1024)):g("",!0)]),_:2},1032,["onClick"])]),_:2},1024),a(w,{class:"no-padding no-margin",style:{"min-height":"32px"}},{default:o(()=>[a(d,{onClick:c=>f.abrirBonus(s),class:"maxw50 no-margin"},{default:o(()=>[s.percentual?(u(),p(b,{key:0},{default:o(()=>[a(O,{rotulo:s.percentual+"%",escuro:"",dica:"Percentual da venda",cor:"tertiary"},null,8,["rotulo"])]),_:2},1024)):g("",!0)]),_:2},1032,["onClick"]),a(d,{onClick:c=>f.abrirBonus(s),class:"col-auto no-margin"},{default:o(()=>[s.valorMaximo?(u(),p(b,{key:0,caption:"",class:"text-right"},{default:o(()=>[e[52]||(e[52]=n(" Valor m\xE1ximo: ")),i("span",Ae,m(t.$filters.numero(s.valorMaximo,2)),1)]),_:2},1024)):g("",!0),s.valorMinimo?(u(),p(b,{key:1,caption:"",class:"text-right"},{default:o(()=>[e[53]||(e[53]=n(" Valor m\xEDnimo: ")),i("span",he,m(t.$filters.numero(s.valorMinimo,2)),1)]),_:2},1024)):g("",!0)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(d,{onClick:c=>f.abrirBonus(s),class:"hideonmobile maxw100 no-margin cursor-pointer"},{default:o(()=>[s.vigenciaDe?(u(),p(b,{key:0,caption:"",class:"text-center text-weight-medium"},{default:o(()=>[i("span",null,[a(B,{name:"mdi-calendar-today"}),n(" "+m(t.$filters.data(s.vigenciaDe))+" ",1),a(E,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[54]||(e[54]=[n("Vig\xEAncia de")])),_:1})])]),_:2},1024)):g("",!0),s.vigenciaAte?(u(),p(b,{key:1,caption:"",class:"text-center text-weight-medium"},{default:o(()=>[i("span",null,[a(B,{name:"mdi-calendar"}),n(" "+m(t.$filters.data(s.vigenciaAte))+" ",1),a(E,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[55]||(e[55]=[n("Vig\xEAncia at\xE9")])),_:1})])]),_:2},1024)):g("",!0)]),_:2},1032,["onClick"]),a(d,{onClick:c=>f.abrirBonus(s),class:"hideonmobile maxw120 q-pl-sm no-margin cursor-pointer"},{default:o(()=>[s.diasExpiracao?(u(),p(b,{key:0,caption:""},{default:o(()=>[e[56]||(e[56]=n(" Expira em: ")),i("span",Be,m(s.diasExpiracao),1)]),_:2},1024)):g("",!0),s.diasMinimoUso?(u(),p(b,{key:1,caption:""},{default:o(()=>[e[57]||(e[57]=n(" Dias m\xEDnimo: ")),i("span",Ee,m(s.diasMinimoUso),1)]),_:2},1024)):g("",!0)]),_:2},1032,["onClick"]),a(d,{onClick:c=>f.abrirBonus(s),class:"hideonmobile maxw50 q-pl-sm no-margin"},{default:o(()=>[s.percentual?(u(),p(b,{key:0},{default:o(()=>[a(O,{rotulo:s.percentual+"%",escuro:"",dica:"Percentual da venda",cor:"tertiary"},null,8,["rotulo"])]),_:2},1024)):g("",!0)]),_:2},1032,["onClick"]),a(d,{onClick:c=>f.abrirBonus(s),class:"hideonmobile maxw100 q-pl-sm no-margin"},{default:o(()=>[s.valorMaximo?(u(),p(b,{key:0,caption:"",class:"text-weight-bold text-right"},{default:o(()=>[i("span",null,[n(m(t.$filters.numero(s.valorMaximo,2))+" ",1),a(E,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[58]||(e[58]=[n(" Valor m\xE1ximo ")])),_:1})])]),_:2},1024)):g("",!0),s.valorMinimo?(u(),p(b,{key:1,caption:"",class:"text-weight-medium text-right"},{default:o(()=>[i("span",null,[n(m(t.$filters.numero(s.valorMinimo,2))+" ",1),a(E,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[59]||(e[59]=[n(" Valor m\xEDnimo ")])),_:1})])]),_:2},1024)):g("",!0)]),_:2},1032,["onClick"]),a(d,{class:"col-auto no-margin"},{default:o(()=>[a(w,{class:"q-pa-none"},{default:o(()=>[a(d,{class:"hideonmobile no-margin",style:{"max-width":"32px"}},{default:o(()=>[a(y,{onClick:c=>f.abrirDetalhes(s),size:"md",color:"tertiary",round:"",flat:"",dense:"",icon:l.listaLayout[s.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])]),_:2},1024),a(d,{class:"hideonmobile no-margin"},{default:o(()=>[a(y,{onClick:c=>f.abrirBonus(s),icon:"edit",size:"md",color:"primary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024),a(d,{class:"no-margin"},{default:o(()=>[a(y,{icon:"more_vert",size:"md",round:"",flat:"",dense:""},{default:o(()=>[a(de,null,{default:o(()=>[X((u(),p(J,{link:"","no-border":"",separator:""},{default:o(()=>[a(w,{onClick:c=>f.abrirBonus(s),clickable:"",class:"hideondesktop"},{default:o(()=>[a(d,{avatar:""},{default:o(()=>[a(B,{name:"edit"})]),_:1}),a(d,null,{default:o(()=>e[60]||(e[60]=[n(" Editar ")])),_:1})]),_:2},1032,["onClick"]),a(w,{onClick:c=>f.duplicarBonus(s),clickable:""},{default:o(()=>[a(d,{avatar:""},{default:o(()=>[a(B,{name:"file_copy"})]),_:1}),a(d,null,{default:o(()=>[a(b,null,{default:o(()=>e[61]||(e[61]=[n(" Duplicar ")])),_:1})]),_:1})]),_:2},1032,["onClick"]),a(w,{onClick:c=>f.removerBonus(s),clickable:""},{default:o(()=>[a(d,{avatar:""},{default:o(()=>[a(B,{name:"delete"})]),_:1}),a(d,null,{default:o(()=>[a(b,null,{default:o(()=>e[62]||(e[62]=[n(" Remover ")])),_:1})]),_:1})]),_:2},1032,["onClick"]),a(w,{onClick:c=>f.abrirDetalhes(s),clickable:"",class:"hideondesktop"},{default:o(()=>[a(d,{avatar:""},{default:o(()=>[a(B,{name:l.listaLayout[s.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])]),_:2},1024),a(d,null,{default:o(()=>e[63]||(e[63]=[n("Mais Detalhes")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)),[[Y]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):g("",!0),l.listaLayout[s.id].detalhes?(u(),p(U,{key:1,gutter:"md-x lg-y"},{default:o(()=>[a(r,{col:"12 sm6"},{default:o(()=>[a(U,null,{default:o(()=>[a(r,{col:"12",bordered:""},{default:o(()=>[a(V,{icon:"description xs tertiary left",text:"medium"},{default:o(()=>e[64]||(e[64]=[n("Regras para uso")])),_:1}),a(V,{class:"q-pl-lg"},{default:o(()=>[n(m(s.textoRegras),1)]),_:2},1024)]),_:2},1024),a(r,{col:"12",bordered:""},{default:o(()=>[a(V,{icon:"description xs tertiary left",text:"medium"},{default:o(()=>e[65]||(e[65]=[n("Observa\xE7\xE3o")])),_:1}),a(V,{class:"q-pl-lg"},{default:o(()=>[n(m(s.observacao),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(r,{col:"12 sm6",bordered:""},{default:o(()=>{var c,z;return[a(V,{icon:"chat xs tertiary left",text:"medium"},{default:o(()=>e[66]||(e[66]=[n("Mensagens")])),_:1}),(u(!0),j(_,null,I((z=(c=s==null?void 0:s.mensagens)==null?void 0:c.diasAntesDeVencer)!=null?z:[],(D,S)=>(u(),p(V,{key:S,class:"q-pl-lg q-mb-sm"},{default:o(()=>[a(O,{rotulo:`${D.dias} ${D.dias>1?"Dias":"Dia"}`,cor:"tertiary",escuro:"",class:"q-mr-xs"},null,8,["rotulo"]),n(" "+m(D.mensagem),1)]),_:2},1024))),128))]}),_:2},1024)]),_:2},1024)):g("",!0),s.id?(u(),p(Z,{key:2})):g("",!0)]))),128))]),_:1})]),_:1},8,["busca","onAtualizar","onCriarClick","onDetalhesClick","onLimparFiltrosClick","lista","tabSelecionada","tabs","paginacao","mostrar"]),a(ne,{modelValue:l.bonus.visivel,"onUpdate:modelValue":e[42]||(e[42]=s=>l.bonus.visivel=s),onKeyup:e[43]||(e[43]=ge(s=>f.fecharBonus(),["esc"])),maximized:l.tela.width<=992},{default:o(()=>[a($,{container:"",view:"hHh LpR fFf",class:"bg-white rounded-borders",style:me(l.tela.width<=992?"":"max-width:600px;height:100%;max-height:600px;")},{default:o(()=>[a(fe,{onSubmit:e[41]||(e[41]=s=>f.salvarBonus()),autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",novalidate:""},{default:o(()=>[a(ee,null,{default:o(()=>[a(ae,null,{default:o(()=>[a(B,{name:"edit_note",size:"md"}),a(W,{class:"hideonmobile"},{default:o(()=>e[67]||(e[67]=[n("Configura\xE7\xF5es do B\xF4nus")])),_:1}),a(W,{class:"hideondesktop"},{default:o(()=>e[68]||(e[68]=[n("Config. B\xF4nus")])),_:1}),a(P),l.bonus.id?(u(),p(N,{key:0,id:l.bonus.id||"0000",numero:(l.bonus.id||"0000").slice(-6),cor:"positive",class:"float-right"},null,8,["id","numero"])):g("",!0)]),_:1}),a(pe,{modelValue:l.tabConfiguracoes,"onUpdate:modelValue":e[8]||(e[8]=s=>l.tabConfiguracoes=s),dense:"","inline-label":"","outside-arrows":"","mobile-arrows":"",align:"justify"},{default:o(()=>[a(oe,{name:"configuracoes",icon:"settings",label:"configura\xE7\xF5es"}),a(oe,{name:"mensagens",icon:"chat",label:"Mensagens"})]),_:1},8,["modelValue"])]),_:1}),a(se,null,{default:o(()=>[a(le,null,{default:o(()=>[a(ce,{modelValue:l.tabConfiguracoes,"onUpdate:modelValue":e[38]||(e[38]=s=>l.tabConfiguracoes=s),animated:"",swipeable:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:o(()=>[a(te,{name:"configuracoes",class:"q-pa-none"},{default:o(()=>[a(U,{gutter:"md",items:"center",justify:"center"},{default:o(()=>[a(r,{col:"12",class:"q-mb-md"},{default:o(()=>[a(U,{items:"center"},{default:o(()=>[a(r,{col:"shrink"},{default:o(()=>[i("span",null,[a(K,{modelValue:l.bonus.ativo,"onUpdate:modelValue":e[9]||(e[9]=s=>l.bonus.ativo=s),dense:"","true-value":1,"false-value":0,class:"q-mb-md"},null,8,["modelValue"]),a(E,{anchor:"bottom start",self:"center start"},{default:o(()=>[n(m(l.bonus.ativo===1?"B\xF4nus Ativo":"B\xF4nus Inativo"),1)]),_:1})])]),_:1}),a(r,{col:"xs"},{default:o(()=>[a(V,{text:"medium",class:"disabled",style:{background:"rgba(0, 0, 0, 0.1)",padding:"9.5px 12px"}},{default:o(()=>[l.bonus.dadosEmpresa?(u(),j("span",qe,m(l.bonus.dadosEmpresa.nome||l.bonus.dadosEmpresa.apelido||l.bonus.empresa),1)):(u(),j("span",ze," Todas as empresas ")),e[69]||(e[69]=i("span",{class:"q-px-sm"},"-",-1)),i("span",null,m(l.bonus.percentual)+"%",1)]),_:1}),a(V,{text:"caption light"},{default:o(()=>e[70]||(e[70]=[n(" Descri\xE7\xE3o gerada autom\xE1ticamente pelos parametros abaixo. ")])),_:1})]),_:1})]),_:1})]),_:1}),a(r,{col:"12"},{default:o(()=>[a(V,{"rounded-borders":"",class:"q-mb-md",style:{background:"rgba(0, 0, 0, 0.05)",padding:"1.5px 8px"}},{default:o(()=>[a(U,{items:"center"},{default:o(()=>[a(r,{col:"shrink"},{default:o(()=>[i("span",null,[a(K,{modelValue:l.bonus.gerarBonus,"onUpdate:modelValue":e[10]||(e[10]=s=>l.bonus.gerarBonus=s),dense:"","true-value":1,"false-value":0},null,8,["modelValue"]),a(E,{anchor:"bottom start",self:"center start"},{default:o(()=>[n(m(l.bonus.gerarBonus===1?"Ativo":"Inativo"),1)]),_:1})])]),_:1}),a(r,{col:"xs"},{default:o(()=>[a(V,{text:"regular",class:"q-py-sm"},{default:o(()=>e[71]||(e[71]=[n(" Gerar b\xF4nus em fatura que tem b\xF4nus sendo utilizado. ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(r,{col:"12"},{default:o(()=>[a(q,{modelValue:l.bonus.dadosEmpresa,"onUpdate:modelValue":e[11]||(e[11]=s=>l.bonus.dadosEmpresa=s),filled:"",dense:"",chaves:["id","nome","apelido","numeroDocumentoNacional"]},null,8,["modelValue"])]),_:1}),a(r,{col:"6"},{default:o(()=>[a(x,{modelValue:l.bonus.vigenciaDe,"onUpdate:modelValue":e[12]||(e[12]=s=>l.bonus.vigenciaDe=s),filled:"",dense:"","lazy-rules":"",tipo:"data",rotulo:"Vig\xEAncia de",rules:[s=>f.validacao("vigenciaDe",l.bonus.vigenciaDe)]},null,8,["modelValue","rules"])]),_:1}),a(r,{col:"6"},{default:o(()=>[a(x,{modelValue:l.bonus.vigenciaAte,"onUpdate:modelValue":e[13]||(e[13]=s=>l.bonus.vigenciaAte=s),filled:"",dense:"","lazy-rules":"",tipo:"data",rotulo:"Vig\xEAncia at\xE9",rules:[s=>f.validacao("vigenciaAte",l.bonus.vigenciaAte)]},null,8,["modelValue","rules"])]),_:1}),a(r,{col:"6"},{default:o(()=>[a(x,{modelValue:l.bonus.diasMinimoUso,"onUpdate:modelValue":e[14]||(e[14]=s=>l.bonus.diasMinimoUso=s),filled:"",dense:"","lazy-rules":"",tipo:"quantidade",rotulo:"Dias m\xEDnimos para uso",min:1,rules:[s=>f.validacao("diasMinimoUso",l.bonus.diasMinimoUso)]},null,8,["modelValue","rules"])]),_:1}),a(r,{col:"6"},{default:o(()=>[a(x,{modelValue:l.bonus.diasExpiracao,"onUpdate:modelValue":e[15]||(e[15]=s=>l.bonus.diasExpiracao=s),filled:"",dense:"","lazy-rules":"",tipo:"quantidade",rotulo:"Expira em (dias)",min:1,rules:[s=>f.validacao("diasExpiracao",l.bonus.diasExpiracao)]},null,8,["modelValue","rules"])]),_:1}),a(r,{col:"12 sm6"},{default:o(()=>[a(x,{modelValue:l.bonus.valorMinimo,"onUpdate:modelValue":e[16]||(e[16]=s=>l.bonus.valorMinimo=s),filled:"",dense:"","lazy-rules":"",tipo:"decimal",decimals:"2",zerosDireita:"2",prefix:"R$",rotulo:"Valor m\xEDnimo (b\xF4nus)",rules:[s=>f.validacao("valorMinimo",l.bonus.valorMinimo)]},null,8,["modelValue","rules"])]),_:1}),a(r,{col:"12 sm6"},{default:o(()=>[a(x,{modelValue:l.bonus.valorMaximo,"onUpdate:modelValue":e[17]||(e[17]=s=>l.bonus.valorMaximo=s),filled:"",dense:"","lazy-rules":"",tipo:"decimal",decimals:"2",zerosDireita:"2",prefix:"R$",rotulo:"Valor m\xE1ximo (b\xF4nus)",rules:[s=>f.validacao("valorMaximo",l.bonus.valorMaximo)]},null,8,["modelValue","rules"])]),_:1}),a(r,{col:"12",class:"q-mb-md"},{default:o(()=>[a(V,{bordered:"","rounded-borders":"",class:"q-pa-sm"},{default:o(()=>[a(U,null,{default:o(()=>[a(r,{col:"12 sm6"},{default:o(()=>[a(x,{modelValue:l.bonus.percentual,"onUpdate:modelValue":e[18]||(e[18]=s=>l.bonus.percentual=s),filled:"",dense:"","lazy-rules":"",tipo:"number",rotulo:"Percentual sobre a Venda",suffix:"%","input-class":"text-right",rules:[s=>f.validacao("percentual",l.bonus.percentual)]},null,8,["modelValue","rules"])]),_:1}),a(r,{col:"12 sm6"},{default:o(()=>[a(x,{modelValue:l.bonus.percentualSobreBonus,"onUpdate:modelValue":e[19]||(e[19]=s=>l.bonus.percentualSobreBonus=s),filled:"",dense:"","lazy-rules":"",tipo:"decimal",decimals:"2",zerosDireita:"2",rotulo:"Fator sobre o b\xF4nus",rules:[s=>f.validacao("percentualSobreBonus",l.bonus.percentualSobreBonus)]},null,8,["modelValue","rules"])]),_:1})]),_:1}),a(V,null,{default:o(()=>{var s,c,z,D;return[e[72]||(e[72]=n(" Para uma venda de ")),e[73]||(e[73]=i("strong",null,"R$ 1.000,00",-1)),e[74]||(e[74]=n(" aplicando ")),i("strong",null,m((s=l.bonus)==null?void 0:s.percentual)+"%",1),e[75]||(e[75]=n(" ir\xE1 gerar um b\xF4nus de ")),i("strong",null,"R$ "+m(t.$filters.numero(1e3*parseFloat((((c=l.bonus)==null?void 0:c.percentual)||"0").toString().replace(",","."))/100,2)),1),e[76]||(e[76]=n(". ")),e[77]||(e[77]=i("br",null,null,-1)),e[78]||(e[78]=n(" Para utiliza\xE7\xE3o do b\xF4nus, o cliente ")),e[79]||(e[79]=i("strong",null,"deve comprar",-1)),e[80]||(e[80]=n(" no m\xEDnimo ")),i("strong",null,"R$ "+m(t.$filters.numero(((z=l.bonus)==null?void 0:z.percentualSobreBonus)*(1e3*parseFloat((((D=l.bonus)==null?void 0:D.percentual)||"0").toString().replace(",","."))/100),2)),1),e[81]||(e[81]=n(". "))]}),_:1})]),_:1})]),_:1}),a(r,{col:"12"},{default:o(()=>[a(V,{caption:"",bordered:"",class:"q-pa-sm q-mb-md"},{default:o(()=>{var s,c,z,D,S,v,h,T,R,M,H;return[a(V,{text:"body2",class:"q-mb-md"},{default:o(()=>e[82]||(e[82]=[n("Esse texto ser\xE1 enviado junto as informa\xE7\xF5es do b\xF4nus para o cliente.")])),_:1}),i("strong",null,m(((c=(s=l.bonus)==null?void 0:s.dadosEmpresa)==null?void 0:c.apelido)||((D=(z=l.bonus)==null?void 0:z.dadosEmpresa)==null?void 0:D.nome)||"Sua \xD3tica"),1),e[84]||(e[84]=n(" tem um presente para voc\xEA, ")),e[85]||(e[85]=i("strong",null,"Ricardo",-1)),e[86]||(e[86]=n(". ")),e[87]||(e[87]=i("br",null,null,-1)),e[88]||(e[88]=n(" Um super b\xF4nus no valor de ")),i("strong",null,"R$ "+m(t.$filters.numero(1e3*parseFloat((((S=l.bonus)==null?void 0:S.percentual)||"0").toString().replace(",","."))/100,2)),1),e[89]||(e[89]=n(" para voc\xEA usar na sua pr\xF3xima compra acima de ")),e[90]||(e[90]=i("br",null,null,-1)),i("strong",null,"R$ "+m(t.$filters.numero(((v=l.bonus)==null?void 0:v.percentualSobreBonus)*(1e3*parseFloat((((h=l.bonus)==null?void 0:h.percentual)||"0").toString().replace(",","."))/100),2)),1),e[91]||(e[91]=n(", mas, fique atento ao prazo: v\xE1lido de ")),i("strong",null,m(t.$filters.data(new Date(l.dataAtual).setDate(new Date(l.dataAtual).getDate()+((T=l.bonus)==null?void 0:T.diasMinimoUso)))),1),e[92]||(e[92]=n(" at\xE9 ")),i("strong",null,m(t.$filters.data(new Date(l.dataAtual).setDate(new Date(l.dataAtual).getDate()+(((R=l.bonus)==null?void 0:R.diasMinimoUso)+((M=l.bonus)==null?void 0:M.diasExpiracao))))),1),e[93]||(e[93]=n("! ")),e[94]||(e[94]=i("br",null,null,-1)),e[95]||(e[95]=n(" Seu token \xE9 ")),i("strong",null,m((H=l.bonus.id||"")==null?void 0:H.slice(-8).replace(/(.{4})(.{4})/g,"$1-$2")),1),e[96]||(e[96]=n(". ")),e[97]||(e[97]=i("br",null,null,-1)),a(V,{text:"center",class:"q-my-sm"},{default:o(()=>[a(B,{name:"add",color:"primary",size:"xs"})]),_:1}),a(x,{modelValue:l.bonus.textoRegras,"onUpdate:modelValue":e[20]||(e[20]=Q=>l.bonus.textoRegras=Q),filled:"",dense:"",tipo:"textoArea",rotulo:"Regras para uso:"},null,8,["modelValue"]),a(V,{text:"regular"},{default:o(()=>[e[83]||(e[83]=n(" Texto din\xE2mico: ")),a(y,{onClick:e[21]||(e[21]=()=>{l.bonus.textoRegras+=" [NomeCliente]"}),dense:"",flat:"","no-caps":"",label:"[NomeCliente]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[22]||(e[22]=()=>{l.bonus.textoRegras+=" [NomeEmpresa]"}),dense:"",flat:"","no-caps":"",label:"[NomeEmpresa]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[23]||(e[23]=()=>{l.bonus.textoRegras+=" [DataVencimento]"}),dense:"",flat:"","no-caps":"",label:"[DataVencimento]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[24]||(e[24]=()=>{l.bonus.textoRegras+=" [CPF]"}),class:"captalize",dense:"",flat:"","no-caps":"",label:"[CPF]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[25]||(e[25]=()=>{l.bonus.textoRegras+=" [WhatsApp]"}),dense:"",flat:"","no-caps":"",label:"[WhatsApp]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[26]||(e[26]=()=>{l.bonus.textoRegras+=" [Valor]"}),dense:"",flat:"","no-caps":"",label:"[Valor]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[27]||(e[27]=()=>{l.bonus.textoRegras+=" [ValorMinimoCompra]"}),dense:"",flat:"","no-caps":"",label:"[ValorMinimoCompra]",style:{"font-size":"0.75rem"}})]),_:1})]}),_:1})]),_:1}),a(r,{col:"12"},{default:o(()=>[a(V,{bordered:"","roudned-borders":"",text:"regular caption",class:"q-pa-sm q-mb-md"},{default:o(()=>[a(x,{modelValue:l.bonus.observacao,"onUpdate:modelValue":e[28]||(e[28]=s=>l.bonus.observacao=s),filled:"",dense:"",tipo:"textoArea",rotulo:"Observa\xE7\xE3o:"},null,8,["modelValue"]),e[98]||(e[98]=i("strong",null,"*",-1)),e[99]||(e[99]=n(" Esta observa\xE7\xE3o s\xF3 estar\xE1 disponivel aqui nas configura\xE7\xF5es. "))]),_:1})]),_:1})]),_:1})]),_:1}),a(te,{name:"mensagens",class:"q-pa-none"},{default:o(()=>[a(U,{gutter:"md",items:"center",justify:"center"},{default:o(()=>[a(r,{col:"12",text:"center",class:"q-mb-lg"},{default:o(()=>{var s,c,z;return[(u(!0),j(_,null,I((z=(c=(s=l.bonus)==null?void 0:s.mensagens)==null?void 0:c.diasAntesDeVencer)!=null?z:[],(D,S)=>(u(),p(U,{key:S,gutter:"sm",items:"center",mg:"md-y",bordered:"","rounded-borders":""},{default:o(()=>[a(r,{col:"grow"},{default:o(()=>[a(x,{modelValue:D.dias,"onUpdate:modelValue":v=>D.dias=v,filled:"",dense:"",tipo:"quantidade",rotulo:"Dias antes de vencer"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(r,{col:"shrink"},{default:o(()=>[a(y,{onClick:v=>f.removerDiasAntesDeVencer(l.bonus,S),icon:"delete",round:"",flat:"",dense:"",color:"tertiary"},null,8,["onClick"])]),_:2},1024),a(r,{col:"12"},{default:o(()=>[a(x,{modelValue:D.mensagem,"onUpdate:modelValue":v=>D.mensagem=v,dense:"",filled:"",tipo:"textoArea",rotulo:`Mensagem para ${D.dias} dia(s):`},null,8,["modelValue","onUpdate:modelValue","rotulo"]),a(V,{caption:"",text:"regular left"},{default:o(()=>[e[100]||(e[100]=n(" Texto din\xE2mico: ")),a(y,{onClick:()=>{D.mensagem+=" [NomeCliente]"},dense:"",flat:"","no-caps":"",label:"[NomeCliente]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(y,{onClick:()=>{D.mensagem+=" [NomeEmpresa]"},class:"captalize",dense:"",flat:"","no-caps":"",label:"[NomeEmpresa]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(y,{onClick:()=>{D.mensagem+=" [DataVencimento]"},dense:"",flat:"","no-caps":"",label:"[DataVencimento]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(y,{onClick:()=>{D.mensagem+=" [CPF]"},class:"captalize",dense:"",flat:"","no-caps":"",label:"[CPF]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(y,{onClick:()=>{D.mensagem+=" [WhatsApp]"},dense:"",flat:"","no-caps":"",label:"[WhatsApp]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(y,{onClick:()=>{D.mensagem+=" [Valor]"},dense:"",flat:"","no-caps":"",label:"[Valor]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(y,{onClick:()=>{D.mensagem+=" [ValorMinimoCompra]"},dense:"",flat:"","no-caps":"",label:"[ValorMinimoCompra]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),e[101]||(e[101]=i("br",null,null,-1)),e[102]||(e[102]=i("strong",null,"*",-1)),e[103]||(e[103]=n(" Esse texto ser\xE1 enviado por WhatsApp ao cliente no per\xEDodo descrito. "))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),a(y,{onClick:e[29]||(e[29]=D=>f.adicionarDiasAntesDeVencer(l.bonus)),outline:"",icon:"add",label:"Adicionar periodo",size:"sm",color:"positive"})]}),_:1}),a(r,{col:"12"},{default:o(()=>[a(V,{caption:"",bordered:"",class:"q-pa-sm q-mb-lg"},{default:o(()=>[a(x,{modelValue:l.bonus.mensagens.aoUsarBonus,"onUpdate:modelValue":e[30]||(e[30]=s=>l.bonus.mensagens.aoUsarBonus=s),dense:"",filled:"",tipo:"textoArea",rotulo:"Ao cliente usar o b\xF4nus"},null,8,["modelValue"]),a(V,{text:"regular"},{default:o(()=>[e[104]||(e[104]=n(" Texto din\xE2mico: ")),a(y,{onClick:e[31]||(e[31]=()=>{l.bonus.mensagens.aoUsarBonus+=" [NomeCliente]"}),dense:"",flat:"","no-caps":"",label:"[NomeCliente]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[32]||(e[32]=()=>{l.bonus.mensagens.aoUsarBonus+=" [NomeEmpresa]"}),class:"captalize",dense:"",flat:"","no-caps":"",label:"[NomeEmpresa]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[33]||(e[33]=()=>{l.bonus.mensagens.aoUsarBonus+=" [DataVencimento]"}),dense:"",flat:"","no-caps":"",label:"[DataVencimento]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[34]||(e[34]=()=>{l.bonus.mensagens.aoUsarBonus+=" [CPF]"}),class:"captalize",dense:"",flat:"","no-caps":"",label:"[CPF]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[35]||(e[35]=()=>{l.bonus.mensagens.aoUsarBonus+=" [WhatsApp]"}),dense:"",flat:"","no-caps":"",label:"[WhatsApp]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[36]||(e[36]=()=>{l.bonus.mensagens.aoUsarBonus+=" [Valor]"}),dense:"",flat:"","no-caps":"",label:"[Valor]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[37]||(e[37]=()=>{l.bonus.mensagens.aoUsarBonus+=" [ValorMinimoCompra]"}),dense:"",flat:"","no-caps":"",label:"[ValorMinimoCompra]",style:{"font-size":"0.75rem"}}),e[105]||(e[105]=i("br",null,null,-1)),e[106]||(e[106]=i("strong",null,"*",-1)),e[107]||(e[107]=n(" Esse texto ser\xE1 enviado por WhatsApp ao cliente, quando for utilizado o b\xF4nus. "))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(be,{class:"bg-light border-top q-px-md q-py-sm text-right"},{default:o(()=>{var s;return[((s=l.bonus)==null?void 0:s.removido)===0?(u(),p(y,{key:0,onClick:e[39]||(e[39]=c=>f.removerBonus(l.bonus)),flat:"",round:"",dense:"",icon:"delete",color:"tertiary",class:"float-left"})):g("",!0),a(y,{onClick:e[40]||(e[40]=c=>f.fecharBonus()),flat:"",label:"Cancelar",color:"tertiary"}),a(y,{type:"submit",unelevated:"",dark:"",color:"primary",label:"Salvar",class:"q-ml-sm"})]}),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","maximized"]),a(ne,{modelValue:l.removidos,"onUpdate:modelValue":e[44]||(e[44]=s=>l.removidos=s),maximized:""},{default:o(()=>[a($,{container:"",view:"hHh LpR fFf",class:"bg-white rounded-borders"},{default:o(()=>[a(ee,null,{default:o(()=>[a(ae,{class:"q-px-sm"},{default:o(()=>[X(a(y,{icon:"arrow_back",dense:"",flat:"",round:""},null,512),[[Y]]),a(W,{class:"hideonmobile"},{default:o(()=>e[108]||(e[108]=[n("Configura\xE7\xF5es de B\xF4nus Removidos")])),_:1}),a(W,{class:"hideondesktop"},{default:o(()=>e[109]||(e[109]=[n("Config. B\xF4nus Removidos")])),_:1})]),_:1})]),_:1}),a(se,null,{default:o(()=>[a(le,null,{default:o(()=>[a(J,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:o(()=>[l.listaRemovidos.length?(u(!0),j(_,{key:0},I(l.listaRemovidos,s=>(u(),j("div",{key:s.id,class:"itemHover"},[s.id?(u(),p(w,{key:0,"manual-focus":"",class:"q-py-sm q-px-xs items-center"},{default:o(()=>[a(d,{class:"hideonmobile col-auto no-margin"},{default:o(()=>[i("div",Me,[a(N,{id:s.id,numero:s.id.slice(-8),escuro:"",cor:s.ativo?"positive":"tertiary",dica:"ID Config. B\xF4nus"},null,8,["id","numero","cor"])])]),_:2},1024),a(d,{class:"col-xs col-sm no-margin"},{default:o(()=>[a(w,{class:"q-pa-none"},{default:o(()=>[a(d,{class:"col-auto items-center cursor-pointer"},{default:o(()=>[a(L,{rotulo:`${s.empresa||"Todas as empresas"}`,tamanho:"40",style:{display:"flex","align-self":"center"}},null,8,["rotulo"])]),_:2},1024),a(d,{class:"col"},{default:o(()=>[a(b,{lines:"2",class:"cursor-pointer"},{default:o(()=>[i("span",null,[i("span",Ue,m(s.empresa||"Todas as empresas"),1),e[111]||(e[111]=i("span",{class:"q-px-sm"},"-",-1)),i("span",null,m(s.percentual)+"%",1),a(E,{anchor:"bottom start",self:"center start"},{default:o(()=>e[110]||(e[110]=[n("Descri\xE7\xE3o")])),_:1})])]),_:2},1024),s.cnpjEmpresa?(u(),p(b,{key:0,caption:"",class:"cursor-pointer"},{default:o(()=>[i("span",null,[n(m(s.cnpjEmpresa)+" ",1),a(E,{anchor:"bottom start",self:"center start"},{default:o(()=>e[112]||(e[112]=[n("CNPJ")])),_:1})])]),_:2},1024)):g("",!0),a(d,{class:"hideondesktop q-mt-xs"},{default:o(()=>[a(N,{id:s.id,numero:s.id.slice(-8),escuro:"",cor:s.ativo?"positive":"tertiary",dica:"ID Config. B\xF4nus",class:"col-auto q-mr-auto"},null,8,["id","numero","cor"]),a(w,{class:"no-padding no-margin",style:{"min-height":"20px"}},{default:o(()=>[a(d,{class:"no-margin text-weight-medium"},{default:o(()=>[s.vigenciaDe?(u(),p(b,{key:0,caption:""},{default:o(()=>[a(B,{name:"mdi-calendar-today"}),n(" "+m(t.$filters.data(s.vigenciaDe)),1)]),_:2},1024)):g("",!0)]),_:2},1024),a(d,{class:"no-margin text-weight-medium"},{default:o(()=>[s.vigenciaAte?(u(),p(b,{key:0,caption:""},{default:o(()=>[a(B,{name:"mdi-calendar"}),n(" "+m(t.$filters.data(s.vigenciaAte)),1)]),_:2},1024)):g("",!0)]),_:2},1024)]),_:2},1024),a(w,{class:"no-padding no-margin",style:{"min-height":"10px"}},{default:o(()=>[a(d,{class:"no-margin"},{default:o(()=>[s.diasExpiracao?(u(),p(b,{key:0,caption:""},{default:o(()=>[e[113]||(e[113]=n(" Expira em: ")),i("span",Se,m(s.diasExpiracao),1)]),_:2},1024)):g("",!0)]),_:2},1024),a(d,{class:"no-margin"},{default:o(()=>[s.diasMinimoUso?(u(),p(b,{key:0,caption:""},{default:o(()=>[e[114]||(e[114]=n(" Dias m\xEDnimo: ")),i("span",Fe,m(s.diasMinimoUso),1)]),_:2},1024)):g("",!0)]),_:2},1024)]),_:2},1024),a(w,{class:"no-padding no-margin",style:{"min-height":"32px"}},{default:o(()=>[a(d,{class:"maxw50 no-margin"},{default:o(()=>[s.percentual?(u(),p(b,{key:0},{default:o(()=>[a(O,{rotulo:s.percentual+"%",escuro:"",dica:"Percentual da venda",cor:"tertiary"},null,8,["rotulo"])]),_:2},1024)):g("",!0)]),_:2},1024),a(d,{class:"col-auto no-margin"},{default:o(()=>[s.valorMaximo?(u(),p(b,{key:0,caption:"",class:"text-right"},{default:o(()=>[e[115]||(e[115]=n(" Valor m\xE1ximo: ")),i("span",je,m(t.$filters.numero(s.valorMaximo,2)),1)]),_:2},1024)):g("",!0),s.valorMinimo?(u(),p(b,{key:1,caption:"",class:"text-right"},{default:o(()=>[e[116]||(e[116]=n(" Valor m\xEDnimo: ")),i("span",Ne,m(t.$filters.numero(s.valorMinimo,2)),1)]),_:2},1024)):g("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(d,{class:"hideonmobile maxw100 no-margin cursor-pointer"},{default:o(()=>[s.vigenciaDe?(u(),p(b,{key:0,caption:"",class:"text-center text-weight-medium"},{default:o(()=>[i("span",null,[a(B,{name:"mdi-calendar-today"}),n(" "+m(t.$filters.data(s.vigenciaDe))+" ",1),a(E,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[117]||(e[117]=[n("Vig\xEAncia de")])),_:1})])]),_:2},1024)):g("",!0),s.vigenciaAte?(u(),p(b,{key:1,caption:"",class:"text-center text-weight-medium"},{default:o(()=>[i("span",null,[a(B,{name:"mdi-calendar"}),n(" "+m(t.$filters.data(s.vigenciaAte))+" ",1),a(E,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[118]||(e[118]=[n("Vig\xEAncia at\xE9")])),_:1})])]),_:2},1024)):g("",!0)]),_:2},1024),a(d,{class:"hideonmobile maxw110 q-pl-sm no-margin cursor-pointer"},{default:o(()=>[s.diasExpiracao?(u(),p(b,{key:0,caption:""},{default:o(()=>[e[119]||(e[119]=n(" Expira em: ")),i("span",Oe,m(s.diasExpiracao),1)]),_:2},1024)):g("",!0),s.diasMinimoUso?(u(),p(b,{key:1,caption:""},{default:o(()=>[e[120]||(e[120]=n(" Dias m\xEDnimo: ")),i("span",Re,m(s.diasMinimoUso),1)]),_:2},1024)):g("",!0)]),_:2},1024),a(d,{class:"hideonmobile maxw50 q-pl-sm no-margin"},{default:o(()=>[s.percentual?(u(),p(b,{key:0},{default:o(()=>[a(O,{rotulo:s.percentual+"%",escuro:"",dica:"Percentual da venda",cor:"tertiary"},null,8,["rotulo"])]),_:2},1024)):g("",!0)]),_:2},1024),a(d,{class:"hideonmobile maxw100 q-pl-sm no-margin"},{default:o(()=>[s.valorMaximo?(u(),p(b,{key:0,caption:"",class:"text-weight-bold text-right"},{default:o(()=>[i("span",null,[n(m(t.$filters.numero(s.valorMaximo,2))+" ",1),a(E,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[121]||(e[121]=[n(" Valor m\xE1ximo ")])),_:1})])]),_:2},1024)):g("",!0),s.valorMinimo?(u(),p(b,{key:1,caption:"",class:"text-weight-medium text-right"},{default:o(()=>[i("span",null,[n(m(t.$filters.numero(s.valorMinimo,2))+" ",1),a(E,{anchor:"bottom middle",self:"center middle"},{default:o(()=>e[122]||(e[122]=[n(" Valor m\xEDnimo ")])),_:1})])]),_:2},1024)):g("",!0)]),_:2},1024),a(d,{class:"col-auto no-margin"},{default:o(()=>[a(w,{class:"q-pa-none"},{default:o(()=>[a(d,{class:"no-margin"},{default:o(()=>[a(y,{onClick:c=>f.restaurarBonus(s),round:"",flat:"",dense:"",icon:"restore_from_trash",size:"md",color:"primary"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):g("",!0),s.id?(u(),p(Z,{key:1})):g("",!0)]))),128)):(u(),p(w,{key:1},{default:o(()=>[a(d,null,{default:o(()=>[a(b,{class:"text-center"},{default:o(()=>e[123]||(e[123]=[n(" N\xE3o h\xE1 configura\xE7\xF5es de b\xF4nus removidas. ")])),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var We=re(xe,[["render",Te]]);export{We as default};
