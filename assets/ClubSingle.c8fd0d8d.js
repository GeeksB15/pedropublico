import{Q as O}from"./QSpinnerDots.910c2ca3.js";import{_ as F,r as C,o as l,d as u,w as d,f as c,L as Q,E as T,h as D,G as E,Q as V,M as R,i as N,k as z,t as y,H as j,I as M,n as _,F as x,s as q,B as n,J as B,a_ as L,C as U,a7 as p,ab as H,a$ as W,b0 as G,ai as J,b1 as X,b2 as Y,e as g,b3 as K,b4 as Z,b5 as $,q as ee,j as te,l as oe,X as se,Y as re}from"./index.353e304f.js";import{Q as S,a as A}from"./QCarousel.e259ffe5.js";import{F as ae,B as ie,C as ne}from"./RodapeSite.687c25c9.js";import"./open-url.305c60f4.js";import"./QBtnGroup.9119c6e2.js";const le={data(){return{estaAberto:!1,exibeBotaoAddNoCarrinho:!1,produto:{},produtosParaComprarJunto:{},urlsImagenId:null}},methods:{async abrir(o,t,r,s){var I;const e=[],a="https://southamerica-east1-b15node-178618.cloudfunctions.net/storage",m=$db.vitrine.banco,P=(await(await fetch(`${a}/${m}/itemImagem/${o.id}`,{method:"GET"})).json()).map(h=>({...h,...h.metadata,metadata:void 0}));for(const h of P)h.id!=o.id&&e.push({id:h.id,url:`https://southamerica-east1-b15node-178618.cloudfunctions.net/storage/${h.name}`});this.urlsImagenId=((I=e[0])==null?void 0:I.id)||null,this.produto={...o,urlImagem:s,urlsImagen:e},this.produtosParaComprarJunto={...t},this.exibeBotaoAddNoCarrinho=r,this.estaAberto=!0,this.$emit("abriu",o.id)},salvarNoCarrinho(){this.$emit("salvarNoCarrinho",{produtoSelecionado:this.produto,outrosProdutos:this.produtosParaComprarJunto})}}},de=["src"],ce=["src"];function ue(o,t,r,s,e,a){const m=C("g-col"),v=C("g-row");return l(),u(U,{modelValue:e.estaAberto,"onUpdate:modelValue":t[1]||(t[1]=b=>e.estaAberto=b),onHide:t[2]||(t[2]=b=>o.$emit("fechou"))},{default:d(()=>[c(Q,{view:"hHh LpR fFf",container:"",class:"bg-white"},{default:d(()=>[c(T,null,{default:d(()=>[c(D,null,{default:d(()=>[E(c(V,{icon:"arrow_back",flat:"",round:"",dense:""},null,512),[[R]]),c(N,null,{default:d(()=>[z(y(e.produto.descricao),1)]),_:1})]),_:1})]),_:1}),c(j,null,{default:d(()=>[c(M,null,{default:d(()=>{var b,P,I;return[((b=e.produto)==null?void 0:b.urlsImagen)&&((I=(P=e.produto)==null?void 0:P.urlsImagen)==null?void 0:I.length)?(l(),u(S,{key:0,modelValue:e.urlsImagenId,"onUpdate:modelValue":t[0]||(t[0]=h=>e.urlsImagenId=h),swipeable:"",navigation:"",arrows:"","transition-prev":"scale","transition-next":"scale",class:"no-shadow","control-color":"tertiary",style:{position:"absolute",width:"100%",height:"100%"}},{default:d(()=>{var h;return[(l(!0),_(x,null,q((h=e.produto)==null?void 0:h.urlsImagen,i=>(l(),u(A,{key:i.id,name:i==null?void 0:i.id,class:"column no-wrap flex-center"},{default:d(()=>[n("img",{src:i==null?void 0:i.url,style:{display:"block",width:"100%",margin:"0 auto"}},null,8,de)]),_:2},1032,["name"]))),128))]}),_:1},8,["modelValue"])):(l(),u(v,{key:1,gutter:"md",items:"center",width:"100%",height:"100%",style:{position:"absolute"}},{default:d(()=>[c(m,null,{default:d(()=>{var h;return[n("img",{src:(h=e.produto)==null?void 0:h.urlImagem,style:{display:"block",width:"100%",margin:"0 auto"}},null,8,ce)]}),_:1})]),_:1}))]}),_:1})]),_:1}),c(B,{class:"bg-white text-tertiary"},{default:d(()=>[c(D,{class:"text-h5 text-weight-bold border-top"},{default:d(()=>[c(L),n("span",null,"R$ "+y(o.$filters.numero(e.produto.valorVenda,2)),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}var he=F(le,[["render",ue]]);const pe={},me=n("h5",null," IMAGEM DE CLUB INATIVO VAI AQUI ",-1),fe=[me];function ge(o,t){return l(),_("div",null,fe)}var be=F(pe,[["render",ge]]);const _e=[p("rect",{y:"10",width:"15",height:"120",rx:"6"},[p("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),p("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),p("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},[p("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),p("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),p("rect",{x:"60",width:"15",height:"140",rx:"6"},[p("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),p("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),p("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},[p("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),p("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),p("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},[p("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),p("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})])];var ve=H({name:"QSpinnerBars",props:W,setup(o){const{cSize:t,classes:r}=G(o);return()=>p("svg",{class:r.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg"},_e)}});const we={components:{FooterSite:ae,BarraTopoEmpresa:ie,CarrinhoCompras:ne,DetalhesDoProduto:he,ClubInativo:be},data(){return{slide:J("1"),dados:{},banco:"",contatos:[],contatoPrincipal:{telefone:{}},gruposItens:{},filterSelect:"",filterOptions:[],openedF:!1,mostrarLogo:!1,qtd:{},contato:[],formasPagamento:[],item:[],urlImagemItem:{},carrinhoItens:{},carregando:!0,possuiWhatsapp:!1,possuiCarrinho:!1,searchText:""}},methods:{searchProduct(o){const t=$utils.tratamentoCompletoString(o).split(" ");let r=$utils.clonarV2(this.gruposItensOriginal),s={};if(t.length>0||(s=r),t.length>0)for(const e in r)for(const a of r[e]){const m=$utils.tratamentoCompletoString(a.descricaoConcatenada);let v=!0;for(const b of t)if(!~m.indexOf(b)){v=!1;break}!v||(s[e]||(s[e]=[]),s[e].push(a))}this.gruposItens=Object.fromEntries(Object.entries(s).sort(([e],[a])=>e.localeCompare(a)).map(([e,a])=>[e,a.sort((m,v)=>m.descricao.localeCompare(v.descricao))]))},injetarIdDoProdutoNaURL(o){const t=`${window.location.protocol}//${window.location.host}${window.location.pathname}?produtoId=${o}`;window.history.pushState({path:t},"",t)},limparIdDoProdutoDaURL(){const o=`${window.location.protocol}//${window.location.host}${window.location.pathname}`;window.history.pushState({path:o},"",o)},abrirProdutoInjetadoNaURL(){const{produtoId:o}=this.$route.query;if(!o)return;const t=this.item.find(r=>r.id===o);!t||this.verDetalhesDoProduto(t)},async atualizar(){var r;const o=await this.$utils.geeksApi({site:{funcao:"639A3247-947F-41F7-97E3-296A8C5BCFED"},itens:{funcao:"6AA367D8-5683-48B5-8F35-75B4FF37DEFD"}},{bancoDeDados:this.banco,convidado:!0});this.dados=o.data.site,(r=this.dados.carrossel)!=null&&r.length&&(this.slide=this.dados.carrossel[0].id),this.carregando=!1,this.contatoPrincipal=this.dados.contatoPrincipal,this.possuiWhatsapp=!!this.dados.telefoneWhatsapp,this.contatos=this.dados.contatoEmpresasSite,this.dados.formasPagamento.map(s=>{s.ativoSite&&this.formasPagamento.push({rotulo:s.descricao,valor:s.id})});for(const s of this.dados.itens){const e=`https://southamerica-east1-b15node-178618.cloudfunctions.net/storage/${this.banco}/vitrine/${s}`;this.urlImagemItem[s]=e}const t=o.data.itens;this.montarGrupos(t)},zerarProdutosQueEstavamNoCarrinho(o){for(const t of o)this.qtd[t]=0;this.carrinhoItens={},this.openedF=!1},updateCart(o,t){this.$refs.carrinho.atualizarCarrinho(o,t),this.carrinhoItens[o.id]={...o,quantidade:t};const r=Object.keys(this.carrinhoItens).length;this.openedF=!this.$q.platform.is.mobile&&!!r,Object.keys(this.carrinhoItens).reduce((s,e)=>s+this.carrinhoItens[e].quantidade,0)!==0?this.possuiCarrinho=!0:this.possuiCarrinho=!1},carrinhoAtualizado(o){this.carrinhoItens=o;for(const r of Object.keys(o))this.qtd[r]=o[r].quantidade;const t=Object.keys(this.carrinhoItens).length;this.openedF=!this.$q.platform.is.mobile&&!!t,Object.keys(this.carrinhoItens).reduce((r,s)=>r+this.carrinhoItens[s].quantidade,0)!==0?this.possuiCarrinho=!0:this.possuiCarrinho=!1},removerItemDoCarrinho(o){this.qtd[o]=0,delete this.carrinhoItens[o],Object.keys(this.carrinhoItens).length||(this.openedF=!1),Object.keys(this.carrinhoItens).reduce((t,r)=>t+this.carrinhoItens[r].quantidade,0)!==0?this.possuiCarrinho=!0:this.possuiCarrinho=!1},onFilterChange(){this.goToAnchor(this.filterSelect)},montarGrupos(o){let t=[];for(const s of this.dados.itens){const e=o.find(a=>a.id===s);!e||t.push(e)}this.item=t,o=X.exports.orderBy(this.item,"descricao","asc");let r={};o.map(s=>{const e=(s==null?void 0:s.grupo)||"Outros";r[e]||(r[e]=[],this.filterOptions=[...this.filterOptions,{label:e,value:this.criarSlug(e)}].sort((a,m)=>a.label.localeCompare(m.label))),r[e].push(s)}),r=Object.fromEntries(Object.entries(r).sort(([s],[e])=>s.localeCompare(e)).map(([s,e])=>[s,e.sort((a,m)=>a.descricao.localeCompare(m.descricao))])),this.gruposItens=r,this.gruposItensOriginal=$utils.clonarV2(r);for(const s of t)this.qtd[s.id]=0;for(const s of Object.keys(this.carrinhoItens))this.qtd[s]=this.carrinhoItens[s].quantidade;Object.keys(this.carrinhoItens).reduce((s,e)=>s+this.carrinhoItens[e].quantidade,0)!==0?this.possuiCarrinho=!0:this.possuiCarrinho=!1},async verDetalhesDoProduto(o){const t=this.pegarProdutosRandomicosParaComprarJunto(o),r={...o,quantidade:this.qtd[o.id]};this.$refs.detalhesDoProduto.abrir(r,t,this.possuiWhatsapp,this.urlImagemItem[o.id])},salvarProdutosDaModalDeDetalhes(o){const{produtoSelecionado:t,outrosProdutos:r}=o;this.carrinhoItens[t.id]=t,this.qtd[t.id]=t.quantidade,this.updateCart(t,t.quantidade);for(const s of Object.keys(r)){const e=r[s];this.carrinhoItens[e.id]=e,this.qtd[e.id]=e.quantidade,this.updateCart(e,e.quantidade)}},pegarProdutosRandomicosParaComprarJunto(o){const t=this.item.sort((e,a)=>.5-Math.random()),r={};let s=0;for(const e of t){if(s>3)break;e.id!==o.id&&!this.qtd[e.id]&&(r[e.id]={...e,quantidade:0},s++)}return r},irParaProdutos(){const o=this.filterOptions[0].value;this.goToAnchor(o)},criarSlug(o){return Y(o.replace(" ",""))},goToAnchor(o){document.getElementById(o).scrollIntoView({behavior:"smooth"})},injetarTags(){const{codigoTagHead:o,codigoTagBody:t}=this.dados.marketingDigital;o&&document.head.insertAdjacentHTML("beforeend",o),t&&document.body.insertAdjacentHTML("afterend",t)},pesquisaPorVozExiste(){return!!(window.SpeechRecognition||window.webkitSpeechRecognition)},pesquisaPorVoz(){$q.loading.show({spinner:ve,spinnerColor:"primary",spinnerSize:140,backgroundColor:"white"});const o=window.SpeechRecognition||window.webkitSpeechRecognition;if(!o)return;const t=new o;t.continuous=!0,t.start(),t.onresult=r=>{const s=r.resultIndex,e=r.results[s][0].transcript;this.searchText=e,this.searchProduct(e)},setTimeout(()=>{t.stop(),$q.loading.hide()},5e3)}},async created(){const o=await $db.vitrine.ler();$db.vitrine.banco=o.find(t=>`/${t.url}`===this.$route.path).banco,this.banco=$db.vitrine.banco,await this.atualizar(),this.injetarTags(),this.abrirProdutoInjetadoNaURL()}},Ce=o=>(se("data-v-09974500"),o=o(),re(),o),ye={class:"u-container q-px-sm"},Ie={class:"u-container q-px-none"},xe={class:"hideonmobile"},Pe={class:"hideondesktop"},qe={class:"bg-light q-pb-md q-pt-xl"},ke={class:"u-container"},De={id:"slogan"},Ve={class:"q-display-1 text-primary q-mt-lg q-mb-xl text-center"},Se={class:"text-subtitle1 text-tertiary q-mb-xl text-center",style:{"font-weight":"400"}},Ae={class:"q-pa-md q-my-none q-mx-auto",style:{"max-width":"999px"}},Fe={id:"produtos"},Qe=["id"],Te={class:"text-h6 text-tertiary q-ma-none"},Ne={class:"row q-col-gutter-md items-stretch q-py-md products"},je={class:"row full-height bg-white rounded-borders overflow-hidden shadow-14 arredondado"},Be=["onClick"],Oe=["src"],Ee=["onClick"],Re=["onClick"],ze={class:"text-h5 text-right text-tertiary"},Me={class:"col-12 self-end q-px-sm"},Le={id:"mapaD"},Ue={class:"row"},He=Ce(()=>n("div",{class:"text-body1 q-mr-sm"},"Total",-1)),We={class:"text-body1 q-mr-sm"};function Ge(o,t,r,s,e,a){const m=C("carrinho-compras"),v=C("BarraTopoEmpresa"),b=C("campo"),P=C("FooterSite"),I=C("DetalhesDoProduto"),h=C("ClubInativo");return l(),_(x,null,[e.carregando?(l(),u(O,{key:0,color:"primary",size:"10em",style:{"-moz-transform":"translateX(-50%) translateY(-50%)","-webkit-transform":"translateX(-50%) translateY(-50%)","-o-transform":"translateX(-50%) translateY(-50%)","-ms-transform":"translateX(-50%) translateY(-50%)",transform:"translateX(-50%) translateY(-50%)",position:"fixed",top:"50%",left:"50%"}})):g("",!0),e.dados.ativo?(l(),u(Q,{key:1,class:"Club",id:"ClubeSingle",view:"lHr lpR lFr"},{default:d(()=>[c(T,null,{default:d(()=>[n("div",ye,[e.mostrarLogo?g("",!0):(l(),u(K,{key:0,"inline-label":"","indicator-color":"transparent","mobile-arrows":"","outside-arrows":"",align:"left",class:"bg-primary text-white no-shadow"},{default:d(()=>[(l(!0),_(x,null,q(e.filterOptions,(i,w)=>(l(),u(Z,{flat:"","text-color":"white",name:i.label,label:i.label,key:w,onClick:f=>a.goToAnchor(i.value)},null,8,["name","label","onClick"]))),128))]),_:1}))])]),_:1}),e.possuiWhatsapp?(l(),u($,{key:0,modelValue:e.openedF,"onUpdate:modelValue":t[0]||(t[0]=i=>e.openedF=i),side:"right",bordered:""},{default:d(()=>[c(m,{ref:"carrinho",onCarrinhoAtualizado:a.carrinhoAtualizado,onItemRemovido:a.removerItemDoCarrinho,onCarrinhoLimpado:a.zerarProdutosQueEstavamNoCarrinho,formasPagamento:e.formasPagamento,contatoPrincipal:e.contatoPrincipal,banco:e.banco},null,8,["onCarrinhoAtualizado","onItemRemovido","onCarrinhoLimpado","formasPagamento","contatoPrincipal","banco"])]),_:1},8,["modelValue"])):g("",!0),c(j,null,{default:d(()=>[n("div",Ie,[c(v,{contatoPrincipal:e.contatoPrincipal,onVerProdutos:a.irParaProdutos,onVerEndereco:t[1]||(t[1]=i=>a.goToAnchor("mapaD"))},null,8,["contatoPrincipal","onVerProdutos"])]),n("div",xe,[e.dados.carrossel&&e.dados.carrossel.length?(l(),u(S,{key:0,modelValue:e.slide,"onUpdate:modelValue":t[2]||(t[2]=i=>e.slide=i),"transition-prev":"scale","transition-next":"scale","control-color":"white",height:"480px",class:"bg-primary text-white no-shadow hideonmobile",swipeable:"",animated:"",navigation:"",padding:"",arrows:""},{default:d(()=>[(l(!0),_(x,null,q(e.dados.carrossel,i=>(l(),u(A,{key:i.id,name:i.id,"img-src":i.imagemB64,class:"column no-wrap flex-center"},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue"])):g("",!0)]),n("div",Pe,[e.dados.carrossel&&e.dados.carrossel.length?(l(),u(S,{key:0,modelValue:e.slide,"onUpdate:modelValue":t[3]||(t[3]=i=>e.slide=i),"transition-prev":"scale","transition-next":"scale","control-color":"white",height:"280px",class:"bg-primary text-white shadow-1 rounded-borders",swipeable:"",animated:"",navigation:"",padding:"",arrows:""},{default:d(()=>[(l(!0),_(x,null,q(e.dados.carrossel,i=>(l(),u(A,{key:i.id,name:i.id,"img-src":i.imagemB64,class:"column no-wrap flex-center"},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue"])):g("",!0)]),n("div",qe,[n("div",ke,[n("div",De,[n("div",Ve,y(e.dados.slogan),1),n("div",Se,y(e.dados.descricao),1)]),n("div",Ae,[c(ee,{debounce:500,outlined:"",modelValue:e.searchText,"onUpdate:modelValue":[t[4]||(t[4]=i=>e.searchText=i),a.searchProduct],placeholder:"Pesquisar por produto",class:"bg-white"},{append:d(()=>[a.pesquisaPorVozExiste?(l(),u(V,{key:0,onClick:a.pesquisaPorVoz,icon:"mic",size:"lg",flat:"",round:"",dense:"",color:"primary"},null,8,["onClick"])):g("",!0),c(te,{name:"search",size:"md",color:"primary",class:"q-mr-sm"})]),_:1},8,["modelValue","onUpdate:modelValue"])]),n("div",Fe,[(l(!0),_(x,null,q(e.gruposItens,(i,w)=>(l(),_("section",{key:w,id:a.criarSlug(w),class:"q-px-sm q-pb-none q-pt-xl"},[n("div",Te,y(w),1),n("div",Ne,[(l(!0),_(x,null,q(i,f=>(l(),_("div",{class:"col-6 col-sm-4 col-md-2 q-mb-md",key:f.id},[n("div",je,[n("div",{onClick:k=>a.verDetalhesDoProduto(f),class:"col-12 self-start cursor-pointer"},[n("img",{src:this.urlImagemItem[f.id],style:{width:"100%",margin:"0 auto",display:"block"}},null,8,Oe)],8,Be),n("div",{onClick:k=>a.verDetalhesDoProduto(f),style:{"min-height":"50px"},class:"col-12 self-start text-tertiary q-pt-sm q-px-sm cursor-pointer"},y(f.descricao),9,Ee),n("div",{onClick:k=>a.verDetalhesDoProduto(f),class:"col-12 self-end q-pt-sm q-pb-xs q-px-sm cursor-pointer"},[n("div",ze,[n("b",null,"R$ "+y(o.$filters.numero(f.valorVenda,2)),1)])],8,Re),n("div",Me,[e.possuiWhatsapp?(l(),u(oe,{key:0,class:"full-width"})):g("",!0),e.possuiWhatsapp?(l(),u(b,{key:1,modelValue:e.qtd[f.id],"onUpdate:modelValue":[k=>e.qtd[f.id]=k,k=>a.updateCart(f,e.qtd[f.id])],min:"0",tipo:"quantidade",borderless:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])):g("",!0)])])]))),128))])],8,Qe))),128))])])]),n("div",Le,[c(P,{"contato-principal":e.contatoPrincipal},null,8,["contato-principal"])])]),_:1}),e.possuiWhatsapp&&e.possuiCarrinho?(l(),u(B,{key:1,class:"mobile-only",bordered:"",color:"primary"},{default:d(()=>[c(D,null,{default:d(()=>[c(N,null,{default:d(()=>[n("div",Ue,[He,n("div",We,"R$ "+y(o.$filters.numero(Object.keys(e.carrinhoItens).reduce((i,w)=>i+e.carrinhoItens[w].quantidade*e.carrinhoItens[w].valorVenda,0),2)),1)])]),_:1}),c(V,{label:"Finalizar",color:"white","text-color":"primary",onClick:t[5]||(t[5]=i=>e.openedF=!e.openedF),unelevated:""})]),_:1})]),_:1})):g("",!0)]),_:1})):g("",!0),c(I,{ref:"detalhesDoProduto",onSalvarNoCarrinho:a.salvarProdutosDaModalDeDetalhes,onAbriu:a.injetarIdDoProdutoNaURL,onFechou:a.limparIdDoProdutoDaURL},null,8,["onSalvarNoCarrinho","onAbriu","onFechou"]),!e.dados.ativo&&!e.carregando?(l(),u(h,{key:2})):g("",!0)],64)}var et=F(we,[["render",Ge],["__scopeId","data-v-09974500"]]);export{et as default};
