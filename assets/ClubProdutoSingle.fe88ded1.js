import{_ as T,r as q,o as g,d as v,w as s,f as o,E as B,B as l,h,i as x,aM as A,n as w,e as I,Q as m,b3 as M,H as L,I as N,t as p,aS as S,m as E,k as y,F as R,s as U,y as V,N as C,P as z,l as H,J as G,C as P,G as F,M as Q,q as b,L as j}from"./index.f2a220da.js";import{C as J}from"./Campo.22f0bacd.js";import{B as O,F as K,C as W}from"./RodapeSite.87a772f1.js";import{_ as X}from"./b15-white.58ad6516.js";import"./open-url.108a4da6.js";import"./QBtnGroup.9bb155bc.js";const Y={components:{Campo:J,BarraTopoEmpresa:O,FooterSite:K,CarrinhoCompras:W},computed:{},data(){return{filterSelect:"",filterOptions:[],opened:!1,openedM:!1,openedC:!1,openedF:!1,mostrarLogo:!1,qtd:{},dados:{},dadosE:{},contato:[],contatoEndereco:[],contatoTelefone:[],formasPagamento:[],item:[],cartItems:[],address:"",product:[],upSell:[],id:"",contatoPrincipal:{telefone:{}}}},methods:{updateCart(n,e,u,d,t){const c=this.cartItems.findIndex(r=>r.cod===n);c!==-1?u===0?this.cartItems=this.cartItems.filter(r=>r.cod!==n):this.cartItems[c].qtd=u:this.cartItems.push({cod:n,name:e,qtd:u,price:d,imagem:t}),localStorage.setItem("cartItemsStoraged",JSON.stringify(this.cartItems))},async atualizar(){let n=(await this.$utils.geeksApi({contato:{funcao:"010B5481-B61E-47A4-9557-20A0763B5F8E"}},{bancoDeDados:this.banco,convidado:!0})).data.contato,e=[],u={},d=await this.$utils.geeksApi({site:{funcao:"84C328A7-CEA7-4762-A703-C59DE8D53BF5"}},{bancoDeDados:this.banco,convidado:!0});this.dadosE=d.data.site,d=d.data.site;for(let r in d.empresas)e.push(n.filter(i=>i.id===d.empresas[r].idContato)[0]);for(let r in d.empresas)d.empresas[r].principal&&(u=n.filter(i=>i.id===d.empresas[r].idContato)[0]);console.log("dadosE",d),this.contatoPrincipal=u,this.contatos=e,d.formasPagamento.map(r=>{r.ativoSite&&this.formasPagamento.push({rotulo:r.descricao,valor:r.id})});const t=await this.$utils.geeksApi({clubsingle:{funcao:"D0405D75-055F-4202-80CE-76CBDF8EE0A7"}});this.cartItems.forEach(r=>{this.qtd[r.cod]=r.qtd});let c=0;this.item=t.data.clubsingle.item.reduce((r,i)=>(i.Grupo!==""&&(r[i.Grupo]=[...r[i.Grupo]||[],i],c<4&&i.Imagem!==""&&i.CodigoItem!=="2"&&(this.upSell.push(i),c++)),r),{}),console.log("this.upSell",this.upSell),this.product=t.data.clubsingle.item.find((r,i)=>r.CodigoItem==="2"),console.log("this.product",this.product),this.contato=t.data.clubsingle.contato,console.log("this.contato",this.contato),this.contatoEndereco=t.data.clubsingle.contatoEndereco,this.address=this.contatoEndereco[0].Logradouro+", ",this.address+=this.contatoEndereco[0].Numero+", ",this.address+=this.contatoEndereco[0].Complemento+", ",this.address+=this.contatoEndereco[0].Bairro+", ",this.address+=this.contatoEndereco[0].Municipio+"-",this.address+=this.contatoEndereco[0].UF,console.log("this.address",this.address),this.contatoTelefone=t.data.clubsingle.contatoTelefone,console.log("this.contatoTelefone",this.contatoTelefone)},abrirClub(){this.opened=!0,console.log(this.opened)},userHasScrolled(n){this.mostrarLogo=n.position>=102},goTo(n){this.$router.push(n)}},async created(){await this.atualizar()}},Z={class:"u-container q-px-none"},$={class:"u-container q-px-none"},ee={class:"q-display-1 text-primary q-pl-sm q-mt-xl"},oe={class:"text-h5 text-tertiary q-pl-sm"},te={class:"row q-my-lg"},se={class:"col-12 col-md-6 col-lg-4"},le=["src"],ae={class:"col-12 col-md-6 col-lg-8 text-tertiary text-subtitle1"},re={class:"text-body2 q-px-md",style:{"white-space":"pre-line"}},ne={class:"q-display-1 text-primary"},ie={color:"transparent",class:"q-px-sm q-mt-sm q-mb-none hideondesktop"},de={class:"q-title text-primary q-mt-xl q-mb-sm q-pl-sm"},ce={class:"row q-mb-lg"},me=["src"],pe={class:"text-h5 q-mb-none"},ue={class:"row"},fe={class:"text-body1 q-mr-sm"},ge={class:"text-body1 q-mr-sm"};function he(n,e,u,d,t,c){const r=q("carrinho-compras"),i=q("q-scroll-observable"),k=q("BarraTopoEmpresa"),_=q("campo"),D=q("FooterSite");return g(),v(j,{class:"Club",id:"ClubeSingle",view:"lHr lpR lFr"},{default:s(()=>[o(B,{class:"topbar"},{default:s(()=>[l("div",Z,[o(h,{color:"none",class:"q-px-none"},{default:s(()=>[o(x,{class:"q-px-none hideonmobile"},{default:s(()=>[o(A,{name:"fade"},{default:s(()=>[t.mostrarLogo?(g(),w("img",{key:0,src:X,alt:"",height:"28",onClick:e[0]||(e[0]=a=>c.goTo("/club"))})):I("",!0)]),_:1})]),_:1}),o(m,{flat:"",color:"white",label:"Minha empresa",class:"q-mx-sm",onClick:e[1]||(e[1]=a=>t.openedM=!0)}),o(m,{color:"white",flat:"",label:"Cadastre-se",class:"q-mx-sm hideonmobile",onClick:e[2]||(e[2]=a=>t.openedC=!0)}),o(m,{color:"white","text-color":"primary",label:"Entrar",class:"q-mx-sm",onClick:e[3]||(e[3]=a=>n.openURL("https://app.b15.com.br"))})]),_:1})])]),_:1}),o(M,{"show-if-above":"",modelValue:t.openedF,"onUpdate:modelValue":e[4]||(e[4]=a=>t.openedF=a),side:"right",bordered:""},{default:s(()=>[o(r,{ref:"carrinho",onCarrinhoAtualizado:n.carrinhoAtualizado,formasPagamento:t.formasPagamento,contatoPrincipal:t.contatoPrincipal,banco:n.banco},null,8,["onCarrinhoAtualizado","formasPagamento","contatoPrincipal","banco"])]),_:1},8,["modelValue"]),o(L,{style:{"padding-top":"0 !important"}},{default:s(()=>[o(N,{style:{"min-height":"auto"}},{default:s(()=>[l("div",$,[o(i,{onScroll:c.userHasScrolled},null,8,["onScroll"]),o(k,{contatoPrincipal:t.contatoPrincipal},null,8,["contatoPrincipal"]),l("div",ee,[l("strong",null,p(t.product.Descricao),1)]),l("div",oe,p(t.product.Marca),1),l("div",te,[l("div",se,[l("img",{src:t.product.Imagem,style:{width:"100%"}},null,8,le)]),l("div",ae,[l("pre",re,p(t.product.Observacao),1),o(h,{color:"transparent",class:"q-px-md q-my-lg hideonmobile"},{default:s(()=>[o(x,{class:"q-px-none"},{default:s(()=>[e[13]||(e[13]=l("p",{class:"text-tertiary q-mb-none",style:{"text-decoration":"line-through"},hidden:""},"De R$ 50,00",-1)),l("div",ne,[e[12]||(e[12]=l("small",{class:"q-title",hidden:""},"por ",-1)),l("strong",null,p(n.$filters.numero(t.product.ValorVenda,2)),1)]),e[14]||(e[14]=l("p",{class:"text-tertiary q-mb-none",hidden:""},"em at\xE9 10x de R$ 3,50 sem juros",-1))]),_:1}),o(S,{class:"col-3 q-px-sm",style:{"margin-top":"-18px"}},{default:s(()=>[o(_,{min:"0",tipo:"quantidade","onUpdate:modelValue":[e[5]||(e[5]=a=>c.updateCart(t.product.CodigoItem,t.product.Descricao,t.qtd[t.product.CodigoItem],t.product.ValorVenda,t.product.Imagem)),e[6]||(e[6]=a=>t.qtd[t.product.CodigoItem]=a)],borderless:"",modelValue:t.qtd[t.product.CodigoItem]},null,8,["modelValue"]),o(E,null,{default:s(()=>e[15]||(e[15]=[y("Quantidade")])),_:1})]),_:1})]),_:1}),l("div",ie,[e[17]||(e[17]=l("p",{class:"text-tertiary q-mb-none",style:{"text-decoration":"line-through"}},"De R$ 50,00",-1)),e[18]||(e[18]=l("div",{class:"q-display-1 text-primary"},[l("small",{class:"q-title"},"por "),l("strong",null,"R$ 35,00")],-1)),e[19]||(e[19]=l("p",{class:"text-tertiary q-mb-none"},"em at\xE9 10x de R$ 3,50 sem juros",-1)),o(S,{class:"q-px-sm q-mt-xs"},{default:s(()=>[o(_,{min:"0",tipo:"quantidade",borderless:"",modelValue:t.qtd,"onUpdate:modelValue":[e[7]||(e[7]=a=>t.qtd=a),e[8]||(e[8]=a=>c.updateCart(t.item,t.qtd[t.item.CodigoItem]))]},null,8,["modelValue"]),o(E,null,{default:s(()=>e[16]||(e[16]=[y("Quantidade")])),_:1})]),_:1})])])]),l("div",de,[o(m,{color:"primary",dense:"",flat:"",icon:"mdi-shopping",round:"",size:"xl",disabled:""}),e[20]||(e[20]=y(" Compre junto: "))]),l("div",ce,[(g(!0),w(R,null,U(t.upSell,a=>(g(),w("div",{class:"col-12 col-md-3 q-mb-md",key:a.id},[o(V,{class:"q-ma-sm bg-white full-height q-pa-none"},{default:s(()=>[a.Imagem?(g(),v(C,{key:0,class:"full-width q-pa-none self-start cursor-pointer arredondadoT"},{default:s(()=>[l("img",{src:a.Imagem,style:{width:"100%",margin:"0 auto",display:"block"},class:"arredondadoT"},null,8,me)]),_:2},1024)):I("",!0),o(C,{class:"q-my-none q-py-xs full-width self-start cursor-pointer"},{default:s(()=>[y(p(a.Descricao),1)]),_:2},1024),o(C,{class:"full-width q-py-xs self-start text-right cursor-pointer"},{default:s(()=>[l("p",pe,[l("strong",null,"R$ "+p(n.$filters.numero(a.ValorVenda,2)),1)])]),_:2},1024),o(z,{class:"self-end full-width q-py-none"},{default:s(()=>[o(H,{class:"full-width"}),o(h,{color:"none",class:"q-px-none"},{default:s(()=>[o(x,{class:"q-px-none text-left"},{default:s(()=>[o(_,{min:"0",tipo:"quantidade",borderless:"",modelValue:t.qtd[a.CodigoItem],"onUpdate:modelValue":[f=>t.qtd[a.CodigoItem]=f,f=>c.updateCart(a,t.qtd[a.CodigoItem])],dense:""},null,8,["modelValue","onUpdate:modelValue"]),o(E,null,{default:s(()=>e[21]||(e[21]=[y("Quantidade")])),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))])]),o(D,{"contato-principal":t.contatoPrincipal,id:"mapaD"},null,8,["contato-principal"])]),_:1})]),_:1}),t.cartItems.length&&t.openedF===!1?(g(),v(G,{key:0,bordered:"",color:"primary"},{default:s(()=>[o(h,null,{default:s(()=>[o(x,null,{default:s(()=>[l("div",ue,[l("div",fe,p(t.cartItems.reduce((a,f)=>a+f.qtd,0))+" itens",1),l("div",ge,"R$ "+p(n.$filters.numero(t.cartItems.reduce((a,f)=>a+f.qtd*f.price,0),2)),1)])]),_:1}),o(m,{label:"Finalizar",color:"white","text-color":"primary",onClick:e[9]||(e[9]=a=>t.openedF=!t.openedF),unelevated:""})]),_:1})]),_:1})):I("",!0),o(P,{modelValue:t.openedM,"onUpdate:modelValue":e[10]||(e[10]=a=>t.openedM=a)},{default:s(()=>[o(V,{class:"bg-light col-12 col-md-8 col-lg-6",style:{"min-width":"320px"}},{default:s(()=>[o(h,{class:"text-white bg-primary"},{default:s(()=>[F(o(m,{dense:"",flat:"",color:"white",icon:"arrow_back",round:""},null,512),[[Q]]),e[22]||(e[22]=l("div",{class:"text-subtitle1 text-white"},"Minha empresa",-1))]),_:1}),o(C,{class:"layout-padding q-pa-md"},{default:s(()=>[o(b,{color:"tertiary",label:"Login"}),o(b,{color:"tertiary",label:"Senha"}),o(m,{color:"primary",label:"Enviar",class:"q-mt-sm"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(P,{modelValue:t.openedC,"onUpdate:modelValue":e[11]||(e[11]=a=>t.openedC=a)},{default:s(()=>[o(V,{class:"bg-light col-12 col-md-8 col-lg-6",style:{"min-width":"320px"}},{default:s(()=>[o(h,{class:"text-white bg-primary"},{default:s(()=>[F(o(m,{dense:"",flat:"",color:"white",icon:"arrow_back",round:""},null,512),[[Q]]),e[23]||(e[23]=l("div",{class:"text-subtitle1 text-white"},"Cadastre-se",-1))]),_:1}),o(C,{class:"layout-padding q-pa-md"},{default:s(()=>[o(b,{color:"tertiary",label:"Nome"}),o(b,{color:"tertiary",label:"E-mail"}),o(b,{color:"tertiary",label:"Telefone"}),o(b,{color:"tertiary",label:"CPF/CNPJP"}),o(m,{color:"primary",label:"Enviar",class:"q-mt-sm"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var ve=T(Y,[["render",he]]);export{ve as default};
