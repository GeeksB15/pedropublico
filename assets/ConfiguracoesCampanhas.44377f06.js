import{_ as F,$ as R,p as V,o as v,d as z,x as E,f as e,w as a,e as u,i as b,l as w,F as D,r as U,Q as $,j as k,t as N,D as x,n as B,I as Q,s as M,B as J,E as L,C as I,L as T,bd as O,y as H}from"./index.88955961.js";import{g as W,a as Y,b as G}from"./g-label.a96ee1b3.js";import{s as K}from"./selecaoContaWhatsapp.1125cbe6.js";import{A as X}from"./Ajuda.1e08bc32.js";import"./QEditor.c8217724.js";import"./QBtnDropdown.22a607b4.js";import"./QBtnGroup.499d71a6.js";import"./QPopupProxy.913c7d5c.js";const S="v2024.0902",Z={components:{BadgeCopiarUid:R,"g-row":W,"g-col":Y,"g-label":G,selecaoContaWhatsapp:K,Ajuda:X},data(){return{campanha:{aniversario:[{ativo:!1,mensagem:"",whatsConexao:null,arquivo:{id:null,nome:""}}],receitaVencida:[{ativo:!1,mensagem:"",whatsConexao:null}],posVenda:[{ativo:!1,mensagem:"",dias:"",whatsConexao:null}],posVendaEnvelope:[{ativo:!1,mensagem:"",dias:"",whatsConexao:null}],cobranca:[{ativo:!1,mensagem:"",dias:"",whatsConexao:null}]},campanhaAnexos:[],sistemaPai:null,visivel:!1,telaVisivel:!1}},methods:{async getConfiguracoes(){await $tryLoading(async()=>{var f;const n={aniversario:[{arquivo:{id:null,nome:""},ativo:!1,mensagem:"",whatsConexao:""}],receitaVencida:[{arquivo:{id:null,nome:""},ativo:!1,mensagem:"",whatsConexao:""}],posVenda:[{arquivo:{id:null,nome:""},ativo:!1,dias:0,mensagem:"",whatsConexao:""}],posVendaEnvelope:[{arquivo:{id:null,nome:""},ativo:!1,mensagem:"",dias:0,whatsConexao:""}],cobranca:[{arquivo:{id:null,nome:""},ativo:!1,mensagem:"",dias:0,whatsConexao:""}],usuario:{}},r=JSON.parse(((f=(await $utils.geeksApi({campanhaConfigLer:{funcao:"731956A6-CAD8-474E-8C88-5BD77F755B33"}})).data.campanhaConfigLer)==null?void 0:f.json)||"{}");let s=r;(r==null?void 0:r.versao)!==S&&(s=this.validarJson(r)),this.campanha={...n,...s},this.telaVisivel=!0},{mensagem:"Carregando configura\xE7\xF5es..."})},async salvarConfiguracoes(){try{this.campanha.versao=S;const n=await this.$utils.geeksApi({upinsert:{funcao:"5E40D7B0-13BB-452A-AF19-58AC49F024CA",...this.campanha}});$q.notifyPositive("Campanhas salvas com sucesso!")}catch(n){console.error(n.message),this.$q.notifyError("N\xE3o foi poss\xEDvel salvar as altera\xE7\xF5es.")}},async anexar(n){const s={arquivo:await this.toBase64(n[0]),nome:n[0].name,id:$utils.uuid(),tipoArquivo:"campanhaAnexo",idTabelaMaster:this.campanha.id,dataCriacao:await this.formatDate(new Date($utils.dataAtual()))};await $db.arquivo.gravaOnline(s),this.campanha[this.propCampanha][this.indiceAnexo].arquivo={id:s.id,nome:s.nome},this.visivel=!1,await this.salvarConfiguracoes()},toBase64(n){return new Promise((r,s)=>{const f=new FileReader;f.readAsDataURL(n),f.onload=()=>r(f.result),f.onerror=g=>s(g)})},async anexoLer(){const r=(await $utils.geeksApi({get:{funcao:"69EF7937-5BBD-4228-A5B3-1CD78310B834"}})).data.get;let s=[];return r&&s.push({id:r.id,json:JSON.parse(r.json)}),s},async anexoDownload(n,r,s){const f=this.campanha[n][s].arquivo.nome.split(".").pop(),g=`${this.bancoDeDados}/campanhaAnexo/${this.campanha.id}/${r}.${f}`,i=await this.toBase64(await $db.arquivo.le({name:g}));let c=document.createElement("a");c.href=i,c.download=this.campanha[n][s].arquivo.nome,c.click()},async anexoRemove(n,r,s){this.$q.dialog({cancel:{label:"Manter",push:!0,color:"tertiary",flat:!0},title:"Tem certeza?",message:"Ao continuar voc\xEA ir\xE1 perder esse anexo.",ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{this.$q.loading.show();const f=this.campanha[n][s].arquivo.nome,g=this.campanha[n][s].arquivo.nome.split(".").pop(),c={name:`${this.bancoDeDados}/campanhaAnexo/${this.campanha.id}/${r}.${g}`};await $db.arquivo.removeOnline(c),this.campanha[n][s].arquivo={id:null,nome:""},$q.notifyPositive(`Anexo "${f}" removido com sucesso.`),await this.salvarConfiguracoes(),await this.getConfiguracoes()}catch(f){console.error(`Ocorreu um erro ao excluir a imagem: ${f}`),$q.notifyError(`Ocorreu um erro ao excluir a imagem: ${f.message}`)}finally{this.$q.loading.hide()}})},async anexoSubstituir(n,r,s,f){this.$q.dialog({title:"Tem certeza?",message:"Ao continuar voc\xEA ir\xE1 substituir o anexo atual.",cancel:{label:"Manter",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,textColor:"primary",flat:!0}}).onOk(async()=>{try{this.$q.loading.show();const g=this.campanha[n][s].arquivo.nome,i=this.campanha[n][s].arquivo.nome.split(".").pop(),t={name:`${this.bancoDeDados}/campanhaAnexo/${this.campanha.id}/${r}.${i}`};await $db.arquivo.removeOnline(t),this.campanha[n][s].arquivo={id:null,nome:""},await this.abrirArquivo(f)}catch(g){console.error(`Ocorreu um erro ao excluir a imagem atual: ${g}`),$q.notifyError(`Ocorreu um erro ao excluir a imagem atual: ${g.message}`)}finally{this.$q.loading.hide()}}).onCancel(()=>{this.$refs.upload.value=""})},uploadClick(n,r){this.propCampanha=n,this.indiceAnexo=r,this.$refs.upload.click()},async abrirArquivo(n){const r=this.campanha[this.propCampanha][this.indiceAnexo].arquivo.id||null;if(r){await this.anexoSubstituir(this.propCampanha,r,this.indiceAnexo,n);return}const s=this.$refs.upload.files;if(FileReader&&s&&s.length){var f=new FileReader;f.onload=()=>{},f.readAsDataURL(s[0]),await this.anexar(s)}},async adicionarCampanha(n){(n==="aniversario"||n==="receitaVencida")&&this.campanha[n].push({arquivo:{id:null,nome:""},ativo:!1,mensagem:"",whatsConexao:this.clienteSistema.bancoDeDados}),n!=="aniversario"&&n!=="receitaVencida"&&this.campanha[n].push({arquivo:{id:null,nome:""},ativo:!1,dias:0,mensagem:"",whatsConexao:this.clienteSistema.bancoDeDados})},async removerCampanha(n,r){$q.dialog({title:"Remover",message:"Ao continuar voc\xEA ir\xE1 remover este item.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{try{n.splice(r,1)}catch(s){s.message&&$q.notifyError("Ocorreu um erro ao remover item",s)}})},async whatsAlterarConta(n,r,s){this.campanha[r][s].whatsConexao=n},async formatDate(n){if(!(n instanceof Date))throw new Error('Argumento "data" inv\xE1lido. Voc\xEA deve passar uma inst\xE2ncia de data');const r=n.getFullYear(),s=String(n.getMonth()+1).padStart(2,"0");return`${String(n.getDate()).padStart(2,"0")}/${s}/${r}`},validarJson(n){var f,g,i,c,t,P,q,y,A;if(!n)throw new Error("JSON Inv\xE1lido.");const r={aniversario:["dias"],receitaVencida:["dias"]},s={};for(const d in n){if(Array.isArray(n[d]))n[d].length&&(s[d]=n[d].map(h=>({arquivo:h.arquivo||{id:null,nome:""},ativo:h.ativo||!1,dias:h.dias||0,mensagem:h.mensagem||"",whatsConexao:h.whatsConexao.value||null})));else if(typeof n[d]=="object")s[d]=[{arquivo:{id:((g=(f=n[d])==null?void 0:f.arquivo)==null?void 0:g.id)||null,nome:((c=(i=n[d])==null?void 0:i.arquivo)==null?void 0:c.nome)||""},ativo:((t=n[d])==null?void 0:t.ativo)||!1,dias:((P=n[d])==null?void 0:P.dias)||0,mensagem:((q=n[d])==null?void 0:q.mensagem)||"",whatsConexao:((A=(y=n[d])==null?void 0:y.whatsConexao)==null?void 0:A.value)||null}];else if(typeof n[d]=="string"||typeof n[d]=="number")s[d]=n[d];else throw new Error("Formato de JSON desconhecido.");r[d]&&s[d]&&s[d].forEach(h=>{r[d].forEach(p=>delete h[p])})}return s.versao=S,s}},async created(){this.clienteSistema=JSON.parse(await localStorage.getItem("clienteSistema"))||{},this.usuario=await $db.usuario.logado||{},await this.getConfiguracoes(),this.sistemaPai=$utils.sistemaPai(),this.bancoDeDados=localStorage.getItem("bancoDeDados")}},j={key:0,class:"u-container"};function ee(n,r,s,f,g,i){const c=V("g-label"),t=V("g-col"),P=V("ajuda"),q=V("campo"),y=V("selecaoContaWhatsapp"),A=V("BadgeCopiarUid"),d=V("g-row"),h=V("badge");return v(),z(D,null,[g.telaVisivel?(v(),z("div",j,[E("input",{ref:"upload",type:"file",onChange:r[0]||(r[0]=(...p)=>i.abrirArquivo&&i.abrirArquivo(...p)),style:{visibility:"hidden"}},null,544),e(d,{gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var p,_;return[e(t,{col:"6"},{default:a(()=>[e(c,{text:"h6"},{default:a(()=>[u("Aniversariantes")]),_:1})]),_:1}),n.usuario.desenvolvedor?(v(),b(t,{key:0,col:"6",text:"right"},{default:a(()=>[e(P,{caminho:"pages/ConfiguracoesCampanhas"})]),_:1})):w("",!0),e(t,{col:"12"},{default:a(()=>[(v(!0),z(D,null,U(g.campanha.aniversario,(o,m)=>(v(),b(d,{gutter:"md",key:"aniversario"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(t,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(q,{modelValue:o.ativo,"onUpdate:modelValue":l=>o.ativo=l,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(d,null,{default:a(()=>[e(t,{col:"grow"},{default:a(()=>[e(y,{conta:o==null?void 0:o.whatsConexao,onAtualizarConexao:l=>i.whatsAlterarConta(l,"aniversario",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(t,{col:"12"},{default:a(()=>[e($,{modelValue:o.mensagem,"onUpdate:modelValue":l=>o.mensagem=l,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{col:"12"},{default:a(()=>[e(c,{onClick:l=>i.uploadClick("aniversario",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(k,{name:"image",size:"xs"}),u(" Anexos "),e(k,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),o.arquivo.id?(v(),b(d,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(t,{col:"shrink",text:"center"},{default:a(()=>{var l,C;return[e(A,{id:(l=o.arquivo.id)!=null?l:"",numero:((C=o.arquivo.id)!=null?C:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(t,{col:"xs",onClick:l=>i.anexoDownload("aniversario",o.arquivo.id,m)},{default:a(()=>[e(c,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[u(N(o.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(t,{col:"shrink"},{default:a(()=>[e(x,{onClick:l=>i.anexoRemove("aniversario",o.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):w("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(t,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(x,{onClick:l=>i.removerCampanha(this.campanha.aniversario,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(t,{col:"12",class:B([((_=(p=g.campanha)==null?void 0:p.aniversario)==null?void 0:_.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(c,{text:"caption"},{default:a(()=>[u(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: "),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[Nome]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[PrimeiroNome]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[Apelido]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[PrimeiroApelido]")]),_:1})]),_:1})]),_:1},8,["class"]),e(t,{col:"12",text:"center"},{default:a(()=>[e(x,{onClick:r[1]||(r[1]=o=>i.adicionarCampanha("aniversario")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1}),g.sistemaPai==="optisoul"?(v(),b(d,{key:0,gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var p,_;return[e(t,{col:"12"},{default:a(()=>[e(c,{text:"h6"},{default:a(()=>[u("Receita Vencida")]),_:1})]),_:1}),e(t,{col:"12"},{default:a(()=>[(v(!0),z(D,null,U(g.campanha.receitaVencida,(o,m)=>(v(),b(d,{gutter:"md",key:"receitaVencida"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(t,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(q,{modelValue:o.ativo,"onUpdate:modelValue":l=>o.ativo=l,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(d,null,{default:a(()=>[e(t,{col:"grow"},{default:a(()=>[e(y,{conta:o==null?void 0:o.whatsConexao,onAtualizarConexao:l=>i.whatsAlterarConta(l,"receitaVencida",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(t,{col:"12"},{default:a(()=>[e($,{modelValue:o.mensagem,"onUpdate:modelValue":l=>o.mensagem=l,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{col:"12"},{default:a(()=>[e(c,{onClick:l=>i.uploadClick("receitaVencida",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(k,{name:"image",size:"xs"}),u(" Anexos "),e(k,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),o.arquivo.id?(v(),b(d,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(t,{col:"shrink",text:"center"},{default:a(()=>{var l,C;return[e(A,{id:(l=o.arquivo.id)!=null?l:"",numero:((C=o.arquivo.id)!=null?C:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(t,{col:"xs",onClick:l=>i.anexoDownload("receitaVencida",o.arquivo.id,m)},{default:a(()=>[e(c,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[u(N(o.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(t,{col:"shrink"},{default:a(()=>[e(x,{onClick:l=>i.anexoRemove("receitaVencida",o.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):w("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(t,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(x,{onClick:l=>i.removerCampanha(this.campanha.receitaVencida,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(t,{col:"12",class:B([((_=(p=g.campanha)==null?void 0:p.receitaVencida)==null?void 0:_.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(c,{text:"caption"},{default:a(()=>[u(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: "),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[Nome]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[PrimeiroNome]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[Apelido]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[PrimeiroApelido]")]),_:1})]),_:1})]),_:1},8,["class"]),e(t,{col:"12",text:"center"},{default:a(()=>[e(x,{onClick:r[2]||(r[2]=o=>i.adicionarCampanha("receitaVencida")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1})):w("",!0),e(d,{gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var p,_;return[e(t,{col:"12"},{default:a(()=>[e(c,{text:"h6"},{default:a(()=>[u("P\xF3s Venda")]),_:1})]),_:1}),e(t,{col:"12"},{default:a(()=>[(v(!0),z(D,null,U(g.campanha.posVenda,(o,m)=>(v(),b(d,{gutter:"md",key:"posVenda"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(t,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(q,{modelValue:o.ativo,"onUpdate:modelValue":l=>o.ativo=l,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(d,null,{default:a(()=>[e(t,{col:"shrink sm3 md2"},{default:a(()=>[e(q,{modelValue:o.dias,"onUpdate:modelValue":l=>o.dias=l,min:0,tipo:"quantidade",rotulo:"Dias"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{col:"grow"},{default:a(()=>[e(y,{conta:o==null?void 0:o.whatsConexao,onAtualizarConexao:l=>i.whatsAlterarConta(l,"posVenda",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(t,{col:"12"},{default:a(()=>[e($,{modelValue:o.mensagem,"onUpdate:modelValue":l=>o.mensagem=l,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{col:"12"},{default:a(()=>[e(c,{onClick:l=>i.uploadClick("posVenda",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(k,{name:"image",size:"xs"}),u(" Anexos "),e(k,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),o.arquivo.id?(v(),b(d,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(t,{col:"shrink",text:"center"},{default:a(()=>{var l,C;return[e(A,{id:(l=o.arquivo.id)!=null?l:"",numero:((C=o.arquivo.id)!=null?C:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(t,{col:"xs",onClick:l=>i.anexoDownload("posVenda",o.arquivo.id,m)},{default:a(()=>[e(c,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[u(N(o.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(t,{col:"shrink"},{default:a(()=>[e(x,{onClick:l=>i.anexoRemove("posVenda",o.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):w("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(t,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(x,{onClick:l=>i.removerCampanha(this.campanha.posVenda,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(t,{col:"12",class:B([((_=(p=g.campanha)==null?void 0:p.posVenda)==null?void 0:_.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(c,{text:"caption"},{default:a(()=>[u(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: "),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[Nome]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[PrimeiroNome]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[Apelido]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[PrimeiroApelido]")]),_:1})]),_:1})]),_:1},8,["class"]),e(t,{col:"12",text:"center"},{default:a(()=>[e(x,{onClick:r[3]||(r[3]=o=>i.adicionarCampanha("posVenda")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1}),g.sistemaPai==="optisoul"?(v(),b(d,{key:1,gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var p,_;return[e(t,{col:"12"},{default:a(()=>[e(c,{text:"h6"},{default:a(()=>[u("P\xF3s Venda - Envelope")]),_:1})]),_:1}),e(t,{col:"12"},{default:a(()=>[(v(!0),z(D,null,U(g.campanha.posVendaEnvelope,(o,m)=>(v(),b(d,{gutter:"md",key:"posVendaEnvelope"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(t,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(q,{modelValue:o.ativo,"onUpdate:modelValue":l=>o.ativo=l,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(d,null,{default:a(()=>[e(t,{col:"shrink sm3 md2"},{default:a(()=>[e(q,{modelValue:o.dias,"onUpdate:modelValue":l=>o.dias=l,min:0,tipo:"quantidade",rotulo:"Dias"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{col:"grow"},{default:a(()=>[e(y,{conta:o==null?void 0:o.whatsConexao,onAtualizarConexao:l=>i.whatsAlterarConta(l,"posVendaEnvelope",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(t,{col:"12"},{default:a(()=>[e($,{modelValue:o.mensagem,"onUpdate:modelValue":l=>o.mensagem=l,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{col:"12"},{default:a(()=>[e(c,{onClick:l=>i.uploadClick("posVendaEnvelope",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(k,{name:"image",size:"xs"}),u(" Anexos "),e(k,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),o.arquivo.id?(v(),b(d,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(t,{col:"shrink",text:"center"},{default:a(()=>{var l,C;return[e(A,{id:(l=o.arquivo.id)!=null?l:"",numero:((C=o.arquivo.id)!=null?C:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(t,{col:"xs",onClick:l=>i.anexoDownload("posVendaEnvelope",o.arquivo.id,m)},{default:a(()=>[e(c,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[u(N(o.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(t,{col:"shrink"},{default:a(()=>[e(x,{onClick:l=>i.anexoRemove("posVendaEnvelope",o.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):w("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(t,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(x,{onClick:l=>i.removerCampanha(this.campanha.posVendaEnvelope,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(t,{col:"12",class:B([((_=(p=g.campanha)==null?void 0:p.posVendaEnvelope)==null?void 0:_.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(c,{text:"caption"},{default:a(()=>[u(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: "),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[Nome]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[PrimeiroNome]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[Apelido]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[PrimeiroApelido]")]),_:1})]),_:1})]),_:1},8,["class"]),e(t,{col:"12",text:"center"},{default:a(()=>[e(x,{onClick:r[4]||(r[4]=o=>i.adicionarCampanha("posVendaEnvelope")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1})):w("",!0),e(d,{gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var p,_;return[e(t,{col:"12"},{default:a(()=>[e(c,{text:"h6"},{default:a(()=>[u("Cobran\xE7a")]),_:1})]),_:1}),e(t,{col:"12"},{default:a(()=>[(v(!0),z(D,null,U(g.campanha.cobranca,(o,m)=>(v(),b(d,{gutter:"md",key:"cobranca"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(t,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(q,{modelValue:o.ativo,"onUpdate:modelValue":l=>o.ativo=l,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(d,null,{default:a(()=>[e(t,{col:"shrink sm3 md2"},{default:a(()=>[e(q,{modelValue:o.dias,"onUpdate:modelValue":l=>o.dias=l,min:0,tipo:"quantidade",rotulo:"Dias"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{col:"grow"},{default:a(()=>[e(y,{conta:o==null?void 0:o.whatsConexao,onAtualizarConexao:l=>i.whatsAlterarConta(l,"cobranca",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(t,{col:"12"},{default:a(()=>[e($,{modelValue:o.mensagem,"onUpdate:modelValue":l=>o.mensagem=l,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{col:"12"},{default:a(()=>[e(c,{onClick:l=>i.uploadClick("cobranca",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(k,{name:"image",size:"xs"}),u(" Anexos "),e(k,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),o.arquivo.id?(v(),b(d,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(t,{col:"shrink",text:"center"},{default:a(()=>{var l,C;return[e(A,{id:(l=o.arquivo.id)!=null?l:"",numero:((C=o.arquivo.id)!=null?C:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(t,{col:"xs",onClick:l=>i.anexoDownload("cobranca",o.arquivo.id,m)},{default:a(()=>[e(c,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[u(N(o.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(t,{col:"shrink"},{default:a(()=>[e(x,{onClick:l=>i.anexoRemove("cobranca",o.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):w("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(t,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(x,{onClick:l=>i.removerCampanha(this.campanha.cobranca,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(t,{col:"12",class:B([((_=(p=g.campanha)==null?void 0:p.cobranca)==null?void 0:_.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(c,{text:"caption"},{default:a(()=>[u(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: "),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[Nome]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[PrimeiroNome]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[Apelido]")]),_:1}),e(h,{class:"q-mr-xs"},{default:a(()=>[u("[PrimeiroApelido]")]),_:1})]),_:1})]),_:1},8,["class"]),e(t,{col:"12",text:"center"},{default:a(()=>[e(x,{onClick:r[5]||(r[5]=o=>i.adicionarCampanha("cobranca")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1})])):w("",!0),e(Q,{class:"bg-light no-shadow q-pa-sm text-right",bordered:""},{default:a(()=>[e(d,{gutter:"sm",class:"u-container"},{default:a(()=>[e(t,null,{default:a(()=>[e(x,{onClick:r[6]||(r[6]=p=>i.salvarConfiguracoes()),label:"Salvar",color:"primary","text-color":"text-white",unelevated:""})]),_:1})]),_:1})]),_:1}),e(H,{modelValue:g.visivel,"onUpdate:modelValue":r[7]||(r[7]=p=>g.visivel=p)},{default:a(()=>[e(M,null,{default:a(()=>[e(J,null,{default:a(()=>[e(L,null,{default:a(()=>[u("Anexar")]),_:1}),I(e(x,{dense:"",flat:"",icon:"close",round:""},null,512),[[T]])]),_:1}),e(O,{"auto-expand":"",color:"none",class:"mobile-only",label:"Foto","hide-upload-btn":"","hide-upload-progress":"","dark-light":"",factory:i.anexar},null,8,["factory"]),e(O,{"auto-expand":"",color:"none",class:"mobile-hide",extensions:".jpg,.mp3,.mp4",label:"Anexo","hide-upload-btn":"","auto-upload":"","dark-light":"",factory:i.anexar},null,8,["factory"])]),_:1})]),_:1},8,["modelValue"])],64)}var de=F(Z,[["render",ee],["__scopeId","data-v-5e5ad533"]]);export{de as default};
