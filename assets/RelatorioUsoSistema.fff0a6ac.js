import{Q as q,a as b}from"./QBreadcrumbs.18b35aaa.js";import{_ as z,r as w,o as s,n as i,f as e,w as a,h as Q,j as v,i as T,k as r,Q as k,E as U,I as V,B as D,R as x,S as n,F as p,s as f,d as h,O as C,T as d,t as u,l as S,ax as A,G as I,M as E,H as M}from"./index.188ab8e6.js";const H={data(){return{de:$utils.dataAtual(),ate:$utils.dataAtual(),filtro:[],campo:"Geral",dados:[],campos:[],meses:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],icones:{Banco:"storage",Data:"event",Hora:"schedule",Item:"fork_right",Mes:"calendar_month",Usuario:"person",Geral:"home",Outros:"announcement"}}},methods:{async atualizar(){$q.loading.show();try{const m=(await this.$utils.geeksApi({ret:{funcao:"622981E7-2E61-451B-A243-7CAE01218C31",de:$filters.data(this.de),ate:$filters.data(this.ate),campo:this.campo,filtro:this.filtro}},{bancoDeDados:"geeksplat15a"})).data.ret;this.campos=m.campos,this.dados=m.dados}catch{}finally{$q.loading.hide()}},async avancar({dado:m,c:l}){this.filtro.push({campo:this.campo,valor:m.descricao}),this.campo=l,await this.atualizar()},async voltar(){this.filtro.length!==0&&(this.campo=this.filtro.slice(-1)[0].campo,this.filtro.pop(),await this.atualizar())}},async mounted(){await this.atualizar()}},N={id:"RelatorioUsoSistema"},R={class:"bg-white",style:{"border-bottom":"1px solid rgba(0, 0, 0, 0.12)"}};function F(m,l,G,J,o,g){const B=w("barraTopo"),y=w("campo");return s(),i("div",N,[e(U,{elevated:"",class:"bg-gradiente text-white"},{default:a(()=>[e(B),e(Q,{class:"hideondesktop text-caption q-px-sm",style:{"min-height":"auto"}},{default:a(()=>[e(q,{gutter:"none"},{default:a(()=>[e(b,{label:"Uso do sistema",icon:"extension"})]),_:1})]),_:1}),e(Q,{class:"q-px-sm"},{default:a(()=>[e(v,{name:"extension",size:"sm"}),e(T,{class:"hideonmobile"},{default:a(()=>l[2]||(l[2]=[r("Uso do sistema")])),_:1}),e(y,{tipo:"data",rotulo:"Data de",modelValue:o.de,"onUpdate:modelValue":l[0]||(l[0]=t=>o.de=t),class:"bg-white col-xs-auto col-sm-3 col-md-2 q-px-xs q-mx-sm rounded-borders"},null,8,["modelValue"]),e(y,{tipo:"data",rotulo:"Data at\xE9",modelValue:o.ate,"onUpdate:modelValue":l[1]||(l[1]=t=>o.ate=t),class:"bg-white col-xs-auto col-sm-3 col-md-2 q-px-xs q-mr-sm rounded-borders"},null,8,["modelValue"]),e(k,{onClick:g.atualizar,icon:"refresh",flat:"",round:""},null,8,["onClick"]),e(k,{onClick:g.voltar,icon:"arrow_back",flat:"",round:""},null,8,["onClick"])]),_:1})]),_:1}),e(M,null,{default:a(()=>[e(V,null,{default:a(()=>[D("div",R,[e(x,{dense:"",class:"q-px-sm"},{default:a(()=>[e(n,{class:"no-padding no-margin"},{default:a(()=>[e(q,{gutter:"xs"},{separator:a(()=>[e(v,{size:"1.5em",name:"chevron_right",color:"primary"})]),default:a(()=>[e(b,{icon:"home"}),(s(!0),i(p,null,f(o.filtro.slice(1),t=>(s(),h(b,{key:t.campo,icon:o.icones[t.campo],label:`${t.campo} [ ${t.valor} ]`},null,8,["icon","label"]))),128))]),_:1})]),_:1})]),_:1})]),e(C,null,{default:a(()=>[e(x,{dense:"",class:"hideonmobile q-py-none q-px-sm"},{default:a(()=>[e(n,{class:"col-xs-12 col-sm-9 col-md-4 col-lg-4 col-xl-4 col-lg col-xl no-margin"},{default:a(()=>[e(d,{caption:"",class:"caption text-weight-bold"},{default:a(()=>[r(u(o.campo),1)]),_:1})]),_:1}),e(n,{class:"col-xs-12 col-sm-3 col-md q-pl-sm no-margin"},{default:a(()=>[e(d,{caption:"",class:"caption text-weight-bold text-center"},{default:a(()=>l[3]||(l[3]=[r(" Total ")])),_:1})]),_:1}),(s(!0),i(p,null,f(o.meses,(t,c)=>(s(),h(n,{key:c,class:"col-xs-3 col-sm-3 col-md q-pl-sm no-margin"},{default:a(()=>[e(d,{caption:"",class:"caption text-weight-bold text-center"},{default:a(()=>[r(u(t),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(S),(s(!0),i(p,null,f(o.dados,t=>(s(),i("div",{key:t.descricao,class:"itemHover"},[e(x,{clickable:"","manual-focus":"",class:"listaUsoSistema q-pa-sm"},{default:a(()=>[e(n,{class:"col-xs-12 col-sm-9 col-md-4 col-lg-4 col-xl-4 col-lg col-xl no-margin"},{default:a(()=>[e(k,{label:t.descricao,icon:"tune",flat:"",dense:"",ripple:"",unelevated:"",align:"left"},{default:a(()=>[e(A,null,{default:a(()=>[I((s(),h(C,{link:"","no-border":"",separator:""},{default:a(()=>[(s(!0),i(p,null,f(o.campos,(c,_)=>(s(),i("div",{key:_},[e(x,{onClick:L=>g.avancar({dado:t,c}),clickable:""},{default:a(()=>[e(n,{avatar:""},{default:a(()=>[e(v,{name:o.icones[c],size:"sm",flat:"",dense:""},null,8,["name"])]),_:2},1024),e(n,null,{default:a(()=>[r(u(c),1)]),_:2},1024)]),_:2},1032,["onClick"])]))),128))]),_:2},1024)),[[E]])]),_:2},1024)]),_:2},1032,["label"])]),_:2},1024),e(n,{class:"col-xs-12 col-sm-3 col-md q-pl-sm no-margin"},{default:a(()=>[e(d,{lines:"1",class:"text-tertiary text-weight-bold text-center ellipsis"},{default:a(()=>[r(u(t.total)+" ",1),e(d,{caption:"",class:"hideondesktop q-pb-xs"},{default:a(()=>l[4]||(l[4]=[r(" Total ")])),_:1})]),_:2},1024)]),_:2},1024),(s(!0),i(p,null,f(o.meses,(c,_)=>(s(),h(n,{key:_,class:"col-xs-3 col-sm-3 col-md q-pl-sm no-margin"},{default:a(()=>[e(d,{lines:"1",class:"text-tertiary text-weight-bold text-center ellipsis"},{default:a(()=>[r(u(t[`mes${String(_+1).padStart(2,"0")}`])+" ",1),e(d,{caption:"",class:"hideondesktop q-pb-sm"},{default:a(()=>[r(u(c),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024),e(S)]))),128))]),_:1})]),_:1})]),_:1})])}var j=z(H,[["render",F],["__scopeId","data-v-26f94c62"]]);export{j as default};
