import{_ as x,X as V,aC as B,r as I,o as m,n as b,f as a,w as s,E as $,h as _,j as k,i as g,k as h,Q as p,B as n,F as w,s as T,d as v,y as A,t as y,P as N,m as C,e as P,l as Q,J as E,q,aq as z,D}from"./index.f2a220da.js";import{o as S}from"./open-url.108a4da6.js";import{Q as F}from"./QBtnGroup.9bb155bc.js";const j={components:{Avatar:V},data(){return{carrinhoItens:{},carrinhoPorBanco:{},produtos:{},produtosDisponiveis:[],carrinho:{email:"",nome:"",telefone:"",endereco:"",formaPagamento:""}}},props:{formasPagamento:{required:!0,type:Array},contatoPrincipal:{required:!0,type:Object},banco:{required:!0,type:String}},emits:["carrinhoAtualizado"],methods:{async atualizar(){await this.carregarProdutos();let o=JSON.parse(localStorage.getItem("cartItemsStoraged"));if(o&&(this.carrinhoPorBanco=o,this.carrinhoPorBanco[this.banco])){this.carrinhoItens=this.carrinhoPorBanco[this.banco],this.sincronizarProdutosCarrinhoComBanco(),this.salvarCarrinhoNoLocalStorage(),this.$emit("carrinhoAtualizado",this.carrinhoItens);return}this.carrinhoPorBanco={...this.carrinhoPorBanco,[this.banco]:[]},this.carrinhoItens={},this.$emit("carrinhoAtualizado",this.carrinhoItens)},salvarCarrinhoNoLocalStorage(){this.carrinhoPorBanco[this.banco]=this.carrinhoItens,localStorage.setItem("cartItemsStoraged",JSON.stringify(this.carrinhoPorBanco))},atualizarCarrinho(o,e){const{id:i}=o;if(e===0){delete this.carrinhoItens[i],this.salvarCarrinhoNoLocalStorage();return}this.carrinhoItens[i]={...o,quantidade:e},this.salvarCarrinhoNoLocalStorage()},enviarWhatsapp(){if(this.carrinho.nome===""||this.carrinho.telefone===""||this.carrinho.formaPagamento===""){this.$q.notify("Por favor, revise seus dados");return}const e=Object.keys(this.carrinhoItens).reduce((d,r)=>d+this.carrinhoItens[r].quantidade*this.carrinhoItens[r].valorVenda,0);let i="";for(var u in this.carrinhoItens)i+=`${this.carrinhoItens[u].quantidade} ${this.carrinhoItens[u].descricao}
`;const t=this.contatoPrincipal.telefone.find(d=>d.tipoTelefone==="WhatsApp").telefone,c=this.formasPagamento.find(d=>d.valor===this.carrinho.formaPagamento.valor);let l="";l+=`*Tenho um pedido:*
`,l+=i,l+=`
*Total R$${this.$filters.numero(e,2)}*
`,l+=`
Forma de pagamento: *${c.rotulo}*
`,l+=`
*${this.carrinho.nome}*
`,l+=`
${this.carrinho.telefone}
`,l+=`
Endere\xE7o:
 *${this.carrinho.endereco}*`,S("https://api.whatsapp.com/send?phone=55"+t+"&text="+encodeURIComponent(l))},limparCarrinho(){$q.dialog({title:"Limpar Carrinho",message:"Realmente deseja remover todos os itens do carrinho?",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(()=>{const o=Object.keys(this.carrinhoItens);this.carrinhoItens={},this.salvarCarrinhoNoLocalStorage(),this.$emit("carrinhoLimpado",o)})},sincronizarProdutosCarrinhoComBanco(){for(const o of Object.keys(this.carrinhoItens)){if(!this.produtosDisponiveis.includes(o)){delete this.carrinhoItens[o];continue}const{quantidade:e}=this.carrinhoItens[o];this.carrinhoItens[o]={...this.produtos[o],quantidade:e}}},async carregarProdutos(){const e=(await B.vitrine.ler()).find(t=>`/${t.url}`===this.$route.path).banco,i=(await this.$utils.geeksApi({produtos:{funcao:"6AA367D8-5683-48B5-8F35-75B4FF37DEFD"},site:{funcao:"84C328A7-CEA7-4762-A703-C59DE8D53BF5"}},{bancoDeDados:e,convidado:!0})).data,u=i.produtos;this.produtosDisponiveis=i.site.itens;for(const t of u)this.produtos[t.id]=t}},abrirPagto(){this.pagamento=!0},abrirParcelas(){this.parcelas=!0},async created(){await this.atualizar()}},L={class:"clubcarrinho q-pa-none"},O={class:"items q-mt-xl",style:{height:"calc(100vh - 420px)","overflow-y":"scroll"}},R={class:"row q-px-md q-py-none q-my-none"},U={class:"col-auto q-pt-sm"},W={class:"text-body1"},J={class:"col q-px-sm"},H={class:"text-body1 q-px-sm"},K={class:"bg-white q-pb-none q-mb-none",style:{"border-top":"1px solid rgba(0,0,0,.15)"}},G={class:"q-pa-md"},M={class:"row"},X={class:"text-body1 q-mr-sm",style:{"line-height":"1"}};function Y(o,e,i,u,t,c){const l=I("avatar"),d=I("campo");return m(),b("div",L,[a(D,{onSubmit:c.enviarWhatsapp,style:{overflow:"hidden"}},{default:s(()=>[a($,{class:"bg-white text-tertiary full-width",style:{"border-bottom":"1px solid rgba(0,0,0,.15)"}},{default:s(()=>[a(_,{color:"white",class:"text-tertiary"},{default:s(()=>[a(k,{class:"text-h5",name:"shopping_cart"}),a(g,null,{default:s(()=>e[6]||(e[6]=[h("Carrinho")])),_:1}),a(p,{dense:"",flat:"",icon:"close",round:"",class:"hideondesktop"})]),_:1})]),_:1}),n("div",O,[(m(!0),b(w,null,T(Object.keys(t.carrinhoItens),r=>(m(),v(A,{key:r,class:"q-ma-none q-pa-none no-shadow itemcard",style:{"border-radius":"0"}},{default:s(()=>[n("div",R,[n("div",U,[a(l,{imagem:t.carrinhoItens[r].imagem,icone:"photo",tamanho:"40"},null,8,["imagem"])]),a(_,{class:"bg-transparent col q-pr-none q-py-none",color:"black",dark:""},{default:s(()=>[a(g,{class:"q-pa-none"},{default:s(()=>[n("span",W,y(t.carrinhoItens[r].descricao),1)]),_:2},1024)]),_:2},1024)]),a(N,{class:"text-center no-shadow q-mt-none"},{default:s(()=>[n("div",J,[a(d,{min:"1",tipo:"quantidade",dense:"",borderless:"",modelValue:t.carrinhoItens[r].quantidade,"onUpdate:modelValue":[f=>t.carrinhoItens[r].quantidade=f,e[0]||(e[0]=f=>o.$emit("carrinhoAtualizado",t.carrinhoItens))]},null,8,["modelValue","onUpdate:modelValue"]),a(C,null,{default:s(()=>e[7]||(e[7]=[h("Quantidade")])),_:1})]),n("strong",H,[h(" R$ "+y(o.$filters.numero(t.carrinhoItens[r].valorVenda*t.carrinhoItens[r].quantidade,2))+" ",1),a(C,null,{default:s(()=>e[8]||(e[8]=[h("Subtotal")])),_:1})]),t.carrinhoItens[r].quantidade==1?(m(),v(p,{key:0,round:"",dense:"",flat:"",icon:"delete",color:"grey",onClick:f=>(delete t.carrinhoItens[r],c.salvarCarrinhoNoLocalStorage(),o.$emit("itemRemovido",r))},{default:s(()=>[a(C,null,{default:s(()=>e[9]||(e[9]=[h("Remover item")])),_:1})]),_:2},1032,["onClick"])):P("",!0)]),_:2},1024),a(Q)]),_:2},1024))),128))]),a(E,{color:"primary"},{default:s(()=>[n("div",K,[a(_,{color:"white",class:"text-tertiary"},{default:s(()=>[a(k,{class:"text-h5",name:"description"}),a(g,null,{default:s(()=>e[10]||(e[10]=[h("Informe seus dados")])),_:1})]),_:1}),n("div",G,[a(q,{dense:"",color:"tertiary",modelValue:t.carrinho.nome,"onUpdate:modelValue":e[1]||(e[1]=r=>t.carrinho.nome=r),label:"Nome *","lazy-rules":"",rules:[r=>!!r||"Informe seu nome"],class:"q-my-none"},null,8,["modelValue","rules"]),a(q,{dense:"",color:"tertiary",modelValue:t.carrinho.telefone,"onUpdate:modelValue":e[2]||(e[2]=r=>t.carrinho.telefone=r),label:"Telefone *","lazy-rules":"",rules:[r=>!!r||"Informe seu telefone"],class:"q-my-none"},null,8,["modelValue","rules"]),a(z,{modelValue:t.carrinho.formaPagamento,"onUpdate:modelValue":e[3]||(e[3]=r=>t.carrinho.formaPagamento=r),options:i.formasPagamento,"option-label":"rotulo","option-value":"valor",label:"Formas de Pagamento *",rules:[r=>!!r||"Escolha uma forma de pagamento"],dense:"",class:"q-my-none"},null,8,["modelValue","options","rules"]),a(q,{dense:"",color:"tertiary",modelValue:t.carrinho.email,"onUpdate:modelValue":e[4]||(e[4]=r=>t.carrinho.email=r),label:"E-mail",class:"q-my-none"},null,8,["modelValue"]),a(q,{dense:"",color:"tertiary",modelValue:t.carrinho.endereco,"onUpdate:modelValue":e[5]||(e[5]=r=>t.carrinho.endereco=r),label:"Endere\xE7o",class:"q-mb-lg q-mt-none"},null,8,["modelValue"])])]),a(_,null,{default:s(()=>[a(g,null,{default:s(()=>[n("div",M,[n("strong",X,[e[11]||(e[11]=n("div",{class:"text-caption"},"Total ",-1)),n("strong",null,"R$ "+y(o.$filters.numero(Object.keys(t.carrinhoItens).reduce((r,f)=>r+t.carrinhoItens[f].quantidade*t.carrinhoItens[f].valorVenda,0),2)),1)])])]),_:1}),a(p,{label:"ENVIAR",color:"white","text-color":"primary",type:"submit",unelevated:""}),Object.keys(t.carrinhoItens).length?(m(),v(p,{key:0,icon:"delete",color:"primary","text-color":"white",class:"q-px-sm",unelevated:"",onClick:c.limparCarrinho},null,8,["onClick"])):P("",!0)]),_:1})]),_:1})]),_:1},8,["onSubmit"])])}var ye=x(j,[["render",Y],["__scopeId","data-v-4db9ae85"]]);const Z={name:"BarraTopoEmpresa",data(){return{contatoTelefone:null}},props:{contatoPrincipal:{required:!0,type:Object}},methods:{async atualizar(){this.contatoTelefone=this.contatoPrincipal.telefone.find(o=>o.tipoTelefone==="WhatsApp")||this.contatoPrincipal.telefone[0]},async abrirTelefone(){const o=this.contatoTelefone.tipoTelefone==="WhatsApp"?"https://api.whatsapp.com/send?phone=":"tel:+";this.abrirURL(o+await $utils.formatarTelefone(this.contatoTelefone))},goToHome(){let o=this.$route.params.banco,e="/page/"+o;this.$router.push(e)},abrirURL:S,formatarTelefone2(){const{telefone:o}=this.contatoTelefone;return o},goToAnchor(o){let e=document.getElementById(o).offsetTop+120;window.scroll({top:e,behavior:"smooth"})}},watch:{contatoPrincipal(){this.atualizar()}},mounted(){this.atualizar()}},ee=["src","alt"];function oe(o,e,i,u,t,c){return m(),v(_,{color:"transparent",class:"q-pa-none cliente",style:{"min-height":"auto !important"}},{default:s(()=>[a(g,{class:"p-0m"},{default:s(()=>[n("img",{src:i.contatoPrincipal.imagem,alt:i.contatoPrincipal.nome,height:"80",class:"imgavatarSite q-mb-xs q-mt-sm"},null,8,ee)]),_:1}),a(F,{outline:"",class:"full-widthM"},{default:s(()=>[t.contatoTelefone?(m(),v(p,{key:0,class:"botaoSite",flat:"",color:"primary",label:c.formatarTelefone2(),icon:t.contatoTelefone.tipoTelefone==="WhatsApp"?"mdi-whatsapp":"call",onClick:c.abrirTelefone},null,8,["label","icon","onClick"])):P("",!0),a(p,{flat:"",color:"primary",label:"Produtos",icon:"mdi-beer",onClick:e[0]||(e[0]=l=>o.$emit("verProdutos")),class:"botaoSite"}),a(p,{flat:"",color:"primary",label:"Endere\xE7o",icon:"mdi-map-marker",onClick:e[1]||(e[1]=l=>o.$emit("verEndereco")),class:"botaoSite"})]),_:1})]),_:1})}var qe=x(Z,[["render",oe]]);const te={name:"FooterSite",data(){return{visible:!0}},props:{contatoPrincipal:{required:!0,type:Object}},methods:{aceito(){this.visible=!1,localStorage.setItem("politica","aceito")}},computed:{enderecoCompleto(){let o="";return this.contatoPrincipal.endereco&&(o=this.contatoPrincipal.endereco[0].logradouro+", ",o+=this.contatoPrincipal.endereco[0].numero+", ",o+=this.contatoPrincipal.endereco[0].bairro+", ",o+=this.contatoPrincipal.endereco[0].municipio+"-",o+=this.contatoPrincipal.endereco[0].uf),o}}},ae=["src"],re={class:"text-white q-py-md"},ne={class:"u-container"},se={class:"row items-center"},ie={class:"col-12"},le={class:"text-h5 q-mx-md q-mb-none text-center"},ce=["href"],de=["src"],me={class:"copy text-tertiary q-caption q-py-md"},he={class:"u-container"},ue={class:"col-12 col-md-8"},pe={class:"q-mb-none q-mx-md"},fe={key:0};function be(o,e,i,u,t,c){const l=I("row");return m(),b(w,null,[n("iframe",{src:"https://www.google.com/maps?q="+c.enderecoCompleto+"&output=embed",width:"600",height:"450",frameborder:"0",style:{border:"0",width:"100%","margin-bottom":"-5px"},allowfullscreen:"","aria-hidden":"false",tabindex:"0"},null,8,ae),n("footer",re,[n("div",ne,[n("div",se,[n("div",ie,[n("div",le,[(m(!0),b(w,null,T(i.contatoPrincipal.redeSocial,d=>(m(),b("a",{key:`botao-rede-social-${d.id}`,target:"_blank",href:d.link},[n("img",{src:`~assets/${d.tipo}.png`,alt:"",height:"28",class:"q-mx-sm",style:{"margin-bottom":"-6px"}},null,8,de)],8,ce))),128))])])])])]),n("div",me,[n("div",he,[a(l,{class:"items-center justify-center"},{default:s(()=>[n("div",ue,[n("p",pe,[h(y(i.contatoPrincipal.numeroDocumentoNacional)+" ",1),c.enderecoCompleto?(m(),b("span",fe,"/")):P("",!0),h(" "+y(c.enderecoCompleto),1)]),e[0]||(e[0]=n("p",{class:"q-mb-none q-mx-md"},[h(" Nosso site usa cookies para melhorar a navega\xE7\xE3o. "),n("a",{href:"https://www.b15.com.br/politica-de-privacidade/",target:"_blank",style:{color:"black"}},"Politica de privacidade")],-1))]),e[1]||(e[1]=n("div",{class:"col-12 col-md-4 assinatura"},[n("p",{class:"q-mb-none items-center"},[h("Ecosistema "),n("img",{class:"q-ml-xs",style:{"margin-bottom":"-7px"},src:"/b15.svg",alt:"",height:"25"})])],-1))]),_:1})])])],64)}var Pe=x(te,[["render",be],["__scopeId","data-v-0362aa32"]]);export{qe as B,ye as C,Pe as F};
