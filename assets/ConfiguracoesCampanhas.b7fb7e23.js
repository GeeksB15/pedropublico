import{_ as F,Z as R,r as A,o as x,n as z,B as E,f as e,w as a,k as u,F as D,s as U,d as q,q as $,j as w,t as N,Q as h,e as V,u as B,J as M,y as Q,h as J,i as L,G as T,M as I,dl as O,C as H}from"./index.129a5639.js";import{g as W,a as G,b as Y}from"./g-label.f3db8701.js";import{s as Z}from"./selecaoContaWhatsapp.ff7b29c1.js";const S="v2024.0902",K={components:{BadgeCopiarUid:R,"g-row":W,"g-col":G,"g-label":Y,selecaoContaWhatsapp:Z},data(){return{campanha:{aniversario:[{ativo:!1,mensagem:"",whatsConexao:null,arquivo:{id:null,nome:""}}],receitaVencida:[{ativo:!1,mensagem:"",whatsConexao:null}],posVenda:[{ativo:!1,mensagem:"",dias:"",whatsConexao:null}],posVendaEnvelope:[{ativo:!1,mensagem:"",dias:"",whatsConexao:null}],cobranca:[{ativo:!1,mensagem:"",dias:"",whatsConexao:null}]},campanhaAnexos:[],sistemaPai:null,visivel:!1,telaVisivel:!1}},methods:{async getConfiguracoes(){await $tryLoading(async()=>{var p;const r={aniversario:[{arquivo:{id:null,nome:""},ativo:!1,mensagem:"",whatsConexao:""}],receitaVencida:[{arquivo:{id:null,nome:""},ativo:!1,mensagem:"",whatsConexao:""}],posVenda:[{arquivo:{id:null,nome:""},ativo:!1,dias:0,mensagem:"",whatsConexao:""}],posVendaEnvelope:[{arquivo:{id:null,nome:""},ativo:!1,mensagem:"",dias:0,whatsConexao:""}],cobranca:[{arquivo:{id:null,nome:""},ativo:!1,mensagem:"",dias:0,whatsConexao:""}]},o=JSON.parse(((p=(await $utils.geeksApi({campanhaConfigLer:{funcao:"731956A6-CAD8-474E-8C88-5BD77F755B33"}})).data.campanhaConfigLer)==null?void 0:p.json)||"{}");let s=o;(o==null?void 0:o.versao)!==S&&(s=this.validarJson(o)),this.campanha={...r,...s},this.telaVisivel=!0},{mensagem:"Carregando configura\xE7\xF5es..."})},async salvarConfiguracoes(){try{this.campanha.versao=S;const r=await this.$utils.geeksApi({upinsert:{funcao:"5E40D7B0-13BB-452A-AF19-58AC49F024CA",...this.campanha}});$q.notifyPositive("Campanhas salvas com sucesso!")}catch(r){console.error(r.message),this.$q.notifyError("N\xE3o foi poss\xEDvel salvar as altera\xE7\xF5es.")}},async anexar(r){const s={arquivo:await this.toBase64(r[0]),nome:r[0].name,id:$utils.uuid(),tipoArquivo:"campanhaAnexo",idTabelaMaster:this.campanha.id,dataCriacao:await this.formatDate(new Date($utils.dataAtual()))};await $db.arquivo.gravaOnline(s),this.campanha[this.propCampanha][this.indiceAnexo].arquivo={id:s.id,nome:s.nome},this.visivel=!1,await this.salvarConfiguracoes()},toBase64(r){return new Promise((o,s)=>{const p=new FileReader;p.readAsDataURL(r),p.onload=()=>o(p.result),p.onerror=f=>s(f)})},async anexoLer(){const o=(await $utils.geeksApi({get:{funcao:"69EF7937-5BBD-4228-A5B3-1CD78310B834"}})).data.get;let s=[];return o&&s.push({id:o.id,json:JSON.parse(o.json)}),s},async anexoDownload(r,o,s){const p=this.campanha[r][s].arquivo.nome.split(".").pop(),f=`${this.bancoDeDados}/campanhaAnexo/${this.campanha.id}/${o}.${p}`,i=await this.toBase64(await $db.arquivo.le({name:f}));let c=document.createElement("a");c.href=i,c.download=this.campanha[r][s].arquivo.nome,c.click()},async anexoRemove(r,o,s){this.$q.dialog({cancel:{label:"Manter",push:!0,color:"tertiary",flat:!0},title:"Tem certeza?",message:"Ao continuar voc\xEA ir\xE1 perder esse anexo.",ok:{label:"Continuar",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{this.$q.loading.show();const p=this.campanha[r][s].arquivo.nome,f=this.campanha[r][s].arquivo.nome.split(".").pop(),c={name:`${this.bancoDeDados}/campanhaAnexo/${this.campanha.id}/${o}.${f}`};await $db.arquivo.removeOnline(c),this.campanha[r][s].arquivo={id:null,nome:""},$q.notifyPositive(`Anexo "${p}" removido com sucesso.`),await this.salvarConfiguracoes(),await this.getConfiguracoes()}catch(p){console.error(`Ocorreu um erro ao excluir a imagem: ${p}`),$q.notifyError(`Ocorreu um erro ao excluir a imagem: ${p.message}`)}finally{this.$q.loading.hide()}})},async anexoSubstituir(r,o,s,p){this.$q.dialog({title:"Tem certeza?",message:"Ao continuar voc\xEA ir\xE1 substituir o anexo atual.",cancel:{label:"Manter",push:!0,color:"tertiary",flat:!0},ok:{label:"Continuar",push:!0,textColor:"primary",flat:!0}}).onOk(async()=>{try{this.$q.loading.show();const f=this.campanha[r][s].arquivo.nome,i=this.campanha[r][s].arquivo.nome.split(".").pop(),l={name:`${this.bancoDeDados}/campanhaAnexo/${this.campanha.id}/${o}.${i}`};await $db.arquivo.removeOnline(l),this.campanha[r][s].arquivo={id:null,nome:""},await this.abrirArquivo(p)}catch(f){console.error(`Ocorreu um erro ao excluir a imagem atual: ${f}`),$q.notifyError(`Ocorreu um erro ao excluir a imagem atual: ${f.message}`)}finally{this.$q.loading.hide()}}).onCancel(()=>{this.$refs.upload.value=""})},uploadClick(r,o){this.propCampanha=r,this.indiceAnexo=o,this.$refs.upload.click()},async abrirArquivo(r){const o=this.campanha[this.propCampanha][this.indiceAnexo].arquivo.id||null;if(o){await this.anexoSubstituir(this.propCampanha,o,this.indiceAnexo,r);return}const s=this.$refs.upload.files;if(FileReader&&s&&s.length){var p=new FileReader;p.onload=()=>{},p.readAsDataURL(s[0]),await this.anexar(s)}},async adicionarCampanha(r){(r==="aniversario"||r==="receitaVencida")&&this.campanha[r].push({arquivo:{id:null,nome:""},ativo:!1,mensagem:"",whatsConexao:this.clienteSistema.bancoDeDados}),r!=="aniversario"&&r!=="receitaVencida"&&this.campanha[r].push({arquivo:{id:null,nome:""},ativo:!1,dias:0,mensagem:"",whatsConexao:this.clienteSistema.bancoDeDados})},async removerCampanha(r,o){$q.dialog({title:"Remover",message:"Ao continuar voc\xEA ir\xE1 remover este item.",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(()=>{try{r.splice(o,1)}catch(s){s.message&&$q.notifyError("Ocorreu um erro ao remover item",s)}})},async whatsAlterarConta(r,o,s){this.campanha[o][s].whatsConexao=r},async formatDate(r){if(!(r instanceof Date))throw new Error('Argumento "data" inv\xE1lido. Voc\xEA deve passar uma inst\xE2ncia de data');const o=r.getFullYear(),s=String(r.getMonth()+1).padStart(2,"0");return`${String(r.getDate()).padStart(2,"0")}/${s}/${o}`},validarJson(r){var p,f,i,c,l,P,k,y,_;if(!r)throw new Error("JSON Inv\xE1lido.");const o={aniversario:["dias"],receitaVencida:["dias"]},s={};for(const d in r){if(Array.isArray(r[d]))r[d].length&&(s[d]=r[d].map(g=>({arquivo:g.arquivo||{id:null,nome:""},ativo:g.ativo||!1,dias:g.dias||0,mensagem:g.mensagem||"",whatsConexao:g.whatsConexao.value||g.whatsConexao||null})));else if(typeof r[d]=="object")s[d]=[{arquivo:{id:((f=(p=r[d])==null?void 0:p.arquivo)==null?void 0:f.id)||null,nome:((c=(i=r[d])==null?void 0:i.arquivo)==null?void 0:c.nome)||""},ativo:((l=r[d])==null?void 0:l.ativo)||!1,dias:((P=r[d])==null?void 0:P.dias)||0,mensagem:((k=r[d])==null?void 0:k.mensagem)||"",whatsConexao:((_=(y=r[d])==null?void 0:y.whatsConexao)==null?void 0:_.value)||null}];else if(typeof r[d]=="string"||typeof r[d]=="number")s[d]=r[d];else throw new Error("Formato de JSON desconhecido.");o[d]&&s[d]&&s[d].forEach(g=>{o[d].forEach(v=>delete g[v])})}return s.versao=S,s}},async created(){this.clienteSistema=JSON.parse(await localStorage.getItem("clienteSistema"))||{},await this.getConfiguracoes(),this.sistemaPai=$utils.sistemaPai(),this.bancoDeDados=localStorage.getItem("bancoDeDados")}},X={key:0,class:"u-container"};function j(r,o,s,p,f,i){const c=A("g-label"),l=A("g-col"),P=A("ajuda"),k=A("campo"),y=A("selecaoContaWhatsapp"),_=A("BadgeCopiarUid"),d=A("g-row"),g=A("badge");return x(),z(D,null,[f.telaVisivel?(x(),z("div",X,[E("input",{ref:"upload",type:"file",onChange:o[0]||(o[0]=(...v)=>i.abrirArquivo&&i.abrirArquivo(...v)),style:{visibility:"hidden"}},null,544),e(d,{gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var v,C;return[e(l,{col:"6"},{default:a(()=>[e(c,{text:"h6"},{default:a(()=>o[8]||(o[8]=[u("Aniversariantes")])),_:1})]),_:1}),e(l,{col:"6",text:"right"},{default:a(()=>[e(P)]),_:1}),e(l,{col:"12"},{default:a(()=>[(x(!0),z(D,null,U(f.campanha.aniversario,(t,m)=>(x(),q(d,{gutter:"md",key:"aniversario"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(l,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(k,{modelValue:t.ativo,"onUpdate:modelValue":n=>t.ativo=n,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(d,null,{default:a(()=>[e(l,{col:"grow"},{default:a(()=>[e(y,{conta:t==null?void 0:t.whatsConexao,onAtualizarConexao:n=>i.whatsAlterarConta(n,"aniversario",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e($,{modelValue:t.mensagem,"onUpdate:modelValue":n=>t.mensagem=n,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e(c,{onClick:n=>i.uploadClick("aniversario",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(w,{name:"image",size:"xs"}),o[9]||(o[9]=u(" Anexos ")),e(w,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),t.arquivo.id?(x(),q(d,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(l,{col:"shrink",text:"center"},{default:a(()=>{var n,b;return[e(_,{id:(n=t.arquivo.id)!=null?n:"",numero:((b=t.arquivo.id)!=null?b:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(l,{col:"xs",onClick:n=>i.anexoDownload("aniversario",t.arquivo.id,m)},{default:a(()=>[e(c,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[u(N(t.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(l,{col:"shrink"},{default:a(()=>[e(h,{onClick:n=>i.anexoRemove("aniversario",t.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(l,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(h,{onClick:n=>i.removerCampanha(this.campanha.aniversario,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(l,{col:"12",class:B([((C=(v=f.campanha)==null?void 0:v.aniversario)==null?void 0:C.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(c,{text:"caption"},{default:a(()=>[o[14]||(o[14]=u(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: ")),e(g,{class:"q-mr-xs"},{default:a(()=>o[10]||(o[10]=[u("[Nome]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[11]||(o[11]=[u("[PrimeiroNome]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[12]||(o[12]=[u("[Apelido]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[13]||(o[13]=[u("[PrimeiroApelido]")])),_:1})]),_:1})]),_:1},8,["class"]),e(l,{col:"12",text:"center"},{default:a(()=>[e(h,{onClick:o[1]||(o[1]=t=>i.adicionarCampanha("aniversario")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1}),e(d,{gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var v,C;return[e(l,{col:"12"},{default:a(()=>[e(c,{text:"h6"},{default:a(()=>o[15]||(o[15]=[u("Cobran\xE7a")])),_:1})]),_:1}),e(l,{col:"12"},{default:a(()=>[(x(!0),z(D,null,U(f.campanha.cobranca,(t,m)=>(x(),q(d,{gutter:"md",key:"cobranca"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(l,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(k,{modelValue:t.ativo,"onUpdate:modelValue":n=>t.ativo=n,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(d,null,{default:a(()=>[e(l,{col:"shrink sm3 md2"},{default:a(()=>[e(k,{modelValue:t.dias,"onUpdate:modelValue":n=>t.dias=n,min:0,tipo:"quantidade",rotulo:"Dias"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"grow"},{default:a(()=>[e(y,{conta:t==null?void 0:t.whatsConexao,onAtualizarConexao:n=>i.whatsAlterarConta(n,"cobranca",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e($,{modelValue:t.mensagem,"onUpdate:modelValue":n=>t.mensagem=n,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e(c,{onClick:n=>i.uploadClick("cobranca",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(w,{name:"image",size:"xs"}),o[16]||(o[16]=u(" Anexos ")),e(w,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),t.arquivo.id?(x(),q(d,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(l,{col:"shrink",text:"center"},{default:a(()=>{var n,b;return[e(_,{id:(n=t.arquivo.id)!=null?n:"",numero:((b=t.arquivo.id)!=null?b:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(l,{col:"xs",onClick:n=>i.anexoDownload("cobranca",t.arquivo.id,m)},{default:a(()=>[e(c,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[u(N(t.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(l,{col:"shrink"},{default:a(()=>[e(h,{onClick:n=>i.anexoRemove("cobranca",t.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(l,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(h,{onClick:n=>i.removerCampanha(this.campanha.cobranca,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(l,{col:"12",class:B([((C=(v=f.campanha)==null?void 0:v.cobranca)==null?void 0:C.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(c,{text:"caption"},{default:a(()=>[o[21]||(o[21]=u(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: ")),e(g,{class:"q-mr-xs"},{default:a(()=>o[17]||(o[17]=[u("[Nome]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[18]||(o[18]=[u("[PrimeiroNome]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[19]||(o[19]=[u("[Apelido]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[20]||(o[20]=[u("[PrimeiroApelido]")])),_:1})]),_:1})]),_:1},8,["class"]),e(l,{col:"12",text:"center"},{default:a(()=>[e(h,{onClick:o[2]||(o[2]=t=>i.adicionarCampanha("cobranca")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1}),e(d,{gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var v,C;return[e(l,{col:"12"},{default:a(()=>[e(c,{text:"h6"},{default:a(()=>o[22]||(o[22]=[u("P\xF3s Venda")])),_:1})]),_:1}),e(l,{col:"12"},{default:a(()=>[(x(!0),z(D,null,U(f.campanha.posVenda,(t,m)=>(x(),q(d,{gutter:"md",key:"posVenda"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(l,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(k,{modelValue:t.ativo,"onUpdate:modelValue":n=>t.ativo=n,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(d,null,{default:a(()=>[e(l,{col:"shrink sm3 md2"},{default:a(()=>[e(k,{modelValue:t.dias,"onUpdate:modelValue":n=>t.dias=n,min:0,tipo:"quantidade",rotulo:"Dias"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"grow"},{default:a(()=>[e(y,{conta:t==null?void 0:t.whatsConexao,onAtualizarConexao:n=>i.whatsAlterarConta(n,"posVenda",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e($,{modelValue:t.mensagem,"onUpdate:modelValue":n=>t.mensagem=n,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e(c,{onClick:n=>i.uploadClick("posVenda",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(w,{name:"image",size:"xs"}),o[23]||(o[23]=u(" Anexos ")),e(w,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),t.arquivo.id?(x(),q(d,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(l,{col:"shrink",text:"center"},{default:a(()=>{var n,b;return[e(_,{id:(n=t.arquivo.id)!=null?n:"",numero:((b=t.arquivo.id)!=null?b:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(l,{col:"xs",onClick:n=>i.anexoDownload("posVenda",t.arquivo.id,m)},{default:a(()=>[e(c,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[u(N(t.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(l,{col:"shrink"},{default:a(()=>[e(h,{onClick:n=>i.anexoRemove("posVenda",t.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(l,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(h,{onClick:n=>i.removerCampanha(this.campanha.posVenda,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(l,{col:"12",class:B([((C=(v=f.campanha)==null?void 0:v.posVenda)==null?void 0:C.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(c,{text:"caption"},{default:a(()=>[o[28]||(o[28]=u(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: ")),e(g,{class:"q-mr-xs"},{default:a(()=>o[24]||(o[24]=[u("[Nome]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[25]||(o[25]=[u("[PrimeiroNome]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[26]||(o[26]=[u("[Apelido]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[27]||(o[27]=[u("[PrimeiroApelido]")])),_:1})]),_:1})]),_:1},8,["class"]),e(l,{col:"12",text:"center"},{default:a(()=>[e(h,{onClick:o[3]||(o[3]=t=>i.adicionarCampanha("posVenda")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1}),f.sistemaPai==="optisoul"?(x(),q(d,{key:0,gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var v,C;return[e(l,{col:"12"},{default:a(()=>[e(c,{text:"h6"},{default:a(()=>o[29]||(o[29]=[u("P\xF3s Venda - Envelope")])),_:1})]),_:1}),e(l,{col:"12"},{default:a(()=>[(x(!0),z(D,null,U(f.campanha.posVendaEnvelope,(t,m)=>(x(),q(d,{gutter:"md",key:"posVendaEnvelope"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(l,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(k,{modelValue:t.ativo,"onUpdate:modelValue":n=>t.ativo=n,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(d,null,{default:a(()=>[e(l,{col:"shrink sm3 md2"},{default:a(()=>[e(k,{modelValue:t.dias,"onUpdate:modelValue":n=>t.dias=n,min:0,tipo:"quantidade",rotulo:"Dias"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"grow"},{default:a(()=>[e(y,{conta:t==null?void 0:t.whatsConexao,onAtualizarConexao:n=>i.whatsAlterarConta(n,"posVendaEnvelope",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e($,{modelValue:t.mensagem,"onUpdate:modelValue":n=>t.mensagem=n,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e(c,{onClick:n=>i.uploadClick("posVendaEnvelope",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(w,{name:"image",size:"xs"}),o[30]||(o[30]=u(" Anexos ")),e(w,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),t.arquivo.id?(x(),q(d,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(l,{col:"shrink",text:"center"},{default:a(()=>{var n,b;return[e(_,{id:(n=t.arquivo.id)!=null?n:"",numero:((b=t.arquivo.id)!=null?b:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(l,{col:"xs",onClick:n=>i.anexoDownload("posVendaEnvelope",t.arquivo.id,m)},{default:a(()=>[e(c,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[u(N(t.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(l,{col:"shrink"},{default:a(()=>[e(h,{onClick:n=>i.anexoRemove("posVendaEnvelope",t.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(l,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(h,{onClick:n=>i.removerCampanha(this.campanha.posVendaEnvelope,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(l,{col:"12",class:B([((C=(v=f.campanha)==null?void 0:v.posVendaEnvelope)==null?void 0:C.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(c,{text:"caption"},{default:a(()=>[o[35]||(o[35]=u(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: ")),e(g,{class:"q-mr-xs"},{default:a(()=>o[31]||(o[31]=[u("[Nome]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[32]||(o[32]=[u("[PrimeiroNome]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[33]||(o[33]=[u("[Apelido]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[34]||(o[34]=[u("[PrimeiroApelido]")])),_:1})]),_:1})]),_:1},8,["class"]),e(l,{col:"12",text:"center"},{default:a(()=>[e(h,{onClick:o[4]||(o[4]=t=>i.adicionarCampanha("posVendaEnvelope")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1})):V("",!0),f.sistemaPai==="optisoul"?(x(),q(d,{key:1,gutter:"md",mg:"md-y",bg:"bg-white",bordered:"","rounded-borders":""},{default:a(()=>{var v,C;return[e(l,{col:"12"},{default:a(()=>[e(c,{text:"h6"},{default:a(()=>o[36]||(o[36]=[u("Receita Vencida")])),_:1})]),_:1}),e(l,{col:"12"},{default:a(()=>[(x(!0),z(D,null,U(f.campanha.receitaVencida,(t,m)=>(x(),q(d,{gutter:"md",key:"receitaVencida"+m,items:"top",mg:"lg-b",bg:"bg-light","rounded-borders":""},{default:a(()=>[e(l,{col:"6 sm-shrink",order:"0 sm0"},{default:a(()=>[e(k,{modelValue:t.ativo,"onUpdate:modelValue":n=>t.ativo=n,tipo:"logico",dense:"",style:{"margin-bottom":"3.7px"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12 sm-grow",order:"2 sm1"},{default:a(()=>[e(d,null,{default:a(()=>[e(l,{col:"grow"},{default:a(()=>[e(y,{conta:t==null?void 0:t.whatsConexao,onAtualizarConexao:n=>i.whatsAlterarConta(n,"receitaVencida",m),standard:""},null,8,["conta","onAtualizarConexao"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e($,{modelValue:t.mensagem,"onUpdate:modelValue":n=>t.mensagem=n,type:"textarea",label:"Mensagem",rows:"3",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(l,{col:"12"},{default:a(()=>[e(c,{onClick:n=>i.uploadClick("receitaVencida",m),text:"medium center",class:"cursor-pointer itemHover",bordered:""},{default:a(()=>[e(w,{name:"image",size:"xs"}),o[37]||(o[37]=u(" Anexos ")),e(w,{name:"add",size:"xs",right:""})]),_:2},1032,["onClick"]),t.arquivo.id?(x(),q(d,{key:0,gutter:"none-x none-y",mg:"sm-t",items:"center","no-wrap":"",bordered:"bottom"},{default:a(()=>[e(l,{col:"shrink",text:"center"},{default:a(()=>{var n,b;return[e(_,{id:(n=t.arquivo.id)!=null?n:"",numero:((b=t.arquivo.id)!=null?b:"").slice(-8),cor:"positive"},null,8,["id","numero"])]}),_:2},1024),e(l,{col:"xs",onClick:n=>i.anexoDownload("receitaVencida",t.arquivo.id,m)},{default:a(()=>[e(c,{text:"bold",lines:"1",class:"q-mx-xs cursor-pointer"},{default:a(()=>[u(N(t.arquivo.nome),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(l,{col:"shrink"},{default:a(()=>[e(h,{onClick:n=>i.anexoRemove("receitaVencida",t.arquivo.id,m),icon:"delete",size:"md",color:"tertiary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):V("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(l,{col:"6 sm-shrink",order:"1 sm2",text:"right"},{default:a(()=>[e(h,{onClick:n=>i.removerCampanha(this.campanha.receitaVencida,m),icon:"remove",round:"",size:"sm",color:"negative",outline:"",dense:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(l,{col:"12",class:B([((C=(v=f.campanha)==null?void 0:v.receitaVencida)==null?void 0:C.length)>0?"lg-t-ng":"","q-mb-md"])},{default:a(()=>[e(c,{text:"caption"},{default:a(()=>[o[42]||(o[42]=u(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizado sua campanha: ")),e(g,{class:"q-mr-xs"},{default:a(()=>o[38]||(o[38]=[u("[Nome]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[39]||(o[39]=[u("[PrimeiroNome]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[40]||(o[40]=[u("[Apelido]")])),_:1}),e(g,{class:"q-mr-xs"},{default:a(()=>o[41]||(o[41]=[u("[PrimeiroApelido]")])),_:1})]),_:1})]),_:1},8,["class"]),e(l,{col:"12",text:"center"},{default:a(()=>[e(h,{onClick:o[5]||(o[5]=t=>i.adicionarCampanha("receitaVencida")),icon:"add",size:"sm",label:"Adicionar",color:"positive",outline:""})]),_:1})]}),_:1})):V("",!0)])):V("",!0),e(M,{class:"bg-light no-shadow q-pa-sm text-right",bordered:""},{default:a(()=>[e(d,{gutter:"sm",class:"u-container"},{default:a(()=>[e(l,null,{default:a(()=>[e(h,{onClick:o[6]||(o[6]=v=>i.salvarConfiguracoes()),label:"Salvar",color:"primary","text-color":"text-white",unelevated:""})]),_:1})]),_:1})]),_:1}),e(H,{modelValue:f.visivel,"onUpdate:modelValue":o[7]||(o[7]=v=>f.visivel=v)},{default:a(()=>[e(Q,null,{default:a(()=>[e(J,null,{default:a(()=>[e(L,null,{default:a(()=>o[43]||(o[43]=[u("Anexar")])),_:1}),T(e(h,{dense:"",flat:"",icon:"close",round:""},null,512),[[I]])]),_:1}),e(O,{"auto-expand":"",color:"none",class:"mobile-only",label:"Foto","hide-upload-btn":"","hide-upload-progress":"","dark-light":"",factory:i.anexar},null,8,["factory"]),e(O,{"auto-expand":"",color:"none",class:"mobile-hide",extensions:".jpg,.mp3,.mp4",label:"Anexo","hide-upload-btn":"","auto-upload":"","dark-light":"",factory:i.anexar},null,8,["factory"])]),_:1})]),_:1},8,["modelValue"])],64)}var te=F(K,[["render",j],["__scopeId","data-v-053ef1b2"]]);export{te as default};
