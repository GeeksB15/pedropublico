import{_ as re,r as _,au as se,o as u,n as L,f as t,w as o,R as y,S as m,j as C,k as c,G as U,d as f,e as p,O as le,bu as ne,F as z,s as P,aV as ie,B as V,T as k,t as h,m as S,Q,az as ue,M as ce,l as de,d2 as me}from"./index.9b156bba.js";import{X as G}from"./xlsx.d5d25b50.js";import{L as fe}from"./Lista.e33ba20c.js";import{m as pe}from"./ContatoModalFicha.1c3f3cbb.js";import{C as he}from"./ContatoCombinar.f93bc127.js";import"./QBtnDropdown.2d29d66b.js";import"./QBtnGroup.4d3a3d67.js";import"./QScrollArea.e1ed3c28.js";import"./ContatoFicha.39a82844.js";import"./Icone.02b0b4d2.js";import"./SeletorPais.74e99580.js";import"./open-url.a4b7ddca.js";const be={components:{Lista:fe,ContatoModalFicha:pe,ContatoCombinar:he},data(){return{usuario:"",mostrarFiltroVendedores:!1,width:0,lista:[],listaLayout:{},mostrar:{header:!0,barraTopo:!0,toolbarTitulo:!0,icone:"group",titulo:"Contatos",buscar:!0,filtroAvancado:!0,btnAjuda:!0,btnAtualizar:!0,btnNovo:!0,toolbarAcoes:!0,checkBox:!0,btnRemover:!0,btnRestaurar:!0,centralizaTabs:!1,btnDetalhes:!0,btnExportaXLS:!0,btnMenuMais:!0,toolbarAdicao:!1,bannerMsg:""},busca:"",filtrosOriginal:{},filtros:{nome:null,numeroDocumentoNacional:null,telefone:null,bairro:null,municipio:null,uf:null,grupo:null,segmento:null,idContatoVendedor:null},opcoesEstados:[{label:"Acre (AC)",value:"AC"},{label:"Alagoas (AL)",value:"AL"},{label:"Amap\xE1 (AP)",value:"AP"},{label:"Amazonas (AM)",value:"AM"},{label:"Bahia (BA)",value:"BA"},{label:"Cear\xE1 (CE)",value:"CE"},{label:"Distrito Federal (DF)",value:"DF"},{label:"Esp\xEDrito Santo (ES)",value:"ES"},{label:"Goi\xE1s (GO)",value:"GO"},{label:"Maranh\xE3o (MA)",value:"MA"},{label:"Mato Grosso (MT)",value:"MT"},{label:"Mato Grosso do Sul (MS)",value:"MS"},{label:"Minas Gerais (MG)",value:"MG"},{label:"Par\xE1 (PA)",value:"PA"},{label:"Para\xEDba (PB)",value:"PB"},{label:"Paran\xE1 (PR)",value:"PR"},{label:"Pernambuco (PE)",value:"PE"},{label:"Piau\xED (PI)",value:"PI"},{label:"Rio de Janeiro (RJ)",value:"RJ"},{label:"Rio Grande do Norte (RN)",value:"RN"},{label:"Rio Grande do Sul (RS)",value:"RS"},{label:"Rond\xF4nia (RO)",value:"RO"},{label:"Roraima (RR)",value:"RR"},{label:"Santa Catarina (SC)",value:"SC"},{label:"S\xE3o Paulo (SP)",value:"SP"},{label:"Sergipe (SE)",value:"SE"},{label:"Tocantins (TO)",value:"TO"}],opcoesGrupos:[],opcoesSegmento:[],opcoesVendedores:[],tabSelecionada:{valor:""},tabs:[{valor:"Ativos",rotulo:"Ativos"},{valor:"Excluidos",rotulo:"Exclu\xEDdos"},{valor:"",rotulo:"Todos"}],detalhes:!1,checkBox:!1,paginacao:{atual:1,maximo:1,total:1,limite:25},tiposEnderecos:[{label:"Principal",value:"Principal",icon:"star",color:"orange"},{label:"Cobran\xE7a",value:"Cobran\xE7a",icon:"attach_money"},{label:"Comercial",value:"Comercial",icon:"business"},{label:"Correspond\xEAncia",value:"Correspond\xEAncia",icon:"mail"},{label:"Entrega",value:"Entrega",icon:"local_shipping"},{label:"Instala\xE7\xE3o",value:"Instala\xE7\xE3o",icon:"build"},{label:"Residencial",value:"Residencial",icon:"store_mall_directory"},{label:"Outros",value:"Outros",icon:"location_city"}],tiposTelefones:[{label:"Principal",value:"Principal",icon:"star",color:"orange"},{label:"WhatsApp",value:"WhatsApp",icon:"mdi-whatsapp"},{label:"Celular",value:"Celular",icon:"phone_iphone"},{label:"Comercial",value:"Comercial",icon:"phone"},{label:"Fixo",value:"Fixo",icon:"phone"}],copiaEmail:"",combinarContatos:!1}},methods:{async atualizar(l){var a,d,x,i,r,g,A,F,v,w,I,O,T,B,D,e,E,s,b,M,X,J,H,W,Y,K,Z,$,ee;try{$q.loading.show(),this.lista=[],this.tabSelecionadaAnt!==this.tabSelecionada.valor&&(this.paginacao.atual=1),this.tabSelecionadaAnt=this.tabSelecionada.valor;let{buscarDadosRecentes:ae}=l!=null?l:{},n={},N={};ae&&(n=await $utils.localIDB.getItem({objectStore:"dadosRecentes",id:"ContatoLista_"+((a=this.usuario)==null?void 0:a.id)}),n!=null&&n._id&&(this.tabSelecionada.valor=n==null?void 0:n.tabSelecionada,this.busca=(n==null?void 0:n.busca)||"",this.filtros={nome:((d=n==null?void 0:n.filtros)==null?void 0:d.nome)||null,numeroDocumentoNacional:((x=n==null?void 0:n.filtros)==null?void 0:x.numeroDocumentoNacional)||null,telefone:((i=n==null?void 0:n.filtros)==null?void 0:i.telefone)||null,bairro:((r=n==null?void 0:n.filtros)==null?void 0:r.bairro)||null,municipio:((g=n==null?void 0:n.filtros)==null?void 0:g.municipio)||null,uf:((A=n==null?void 0:n.filtros)==null?void 0:A.uf)||null,grupo:((F=n==null?void 0:n.filtros)==null?void 0:F.grupo)||null,segmento:((v=n==null?void 0:n.filtros)==null?void 0:v.segmento)||null,idContatoVendedor:((w=n==null?void 0:n.filtros)==null?void 0:w.idContatoVendedor)||null},this.compareObject(this.filtrosOriginal,this.filtros,["ativo"])&&(this.$refs.contatoLista.filtros=!0))),this.busca=((I=this.busca)==null?void 0:I.trim())||"",this.filtros={termoBusca:this.busca,nome:(T=(O=this.filtros)==null?void 0:O.nome)==null?void 0:T.trim(),numeroDocumentoNacional:(D=(B=this.filtros)==null?void 0:B.numeroDocumentoNacional)==null?void 0:D.trim(),telefone:(E=(e=this.filtros)==null?void 0:e.telefone)==null?void 0:E.trim(),bairro:(b=(s=this.filtros)==null?void 0:s.bairro)==null?void 0:b.trim(),municipio:(X=(M=this.filtros)==null?void 0:M.municipio)==null?void 0:X.trim(),uf:(H=(J=this.filtros)==null?void 0:J.uf)==null?void 0:H.trim(),grupo:(Y=(W=this.filtros)==null?void 0:W.grupo)==null?void 0:Y.trim(),segmento:(Z=(K=this.filtros)==null?void 0:K.segmento)==null?void 0:Z.trim(),idContatoVendedor:($=this.filtros)==null?void 0:$.idContatoVendedor},this.filtros=$utils.eliminarVazios(this.filtros),delete this.filtros.ativo,this.tabSelecionada.valor==="Ativos"&&(this.filtros.ativo=!0),this.tabSelecionada.valor==="Excluidos"&&(this.filtros.ativo=!1),N=$utils.clonarV2(this.filtros),/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(this.busca)&&(N={},this.tabSelecionada.valor="",this.paginacao.atual=1,N.id=this.busca),N.somenteCarteira=!0;let R=await $db.contato.ler({filtros:N,limit:this.paginacao.limite,page:this.paginacao.atual,sort:["nome"]}),oe=!0,te=!0;for(const q of R.data){if(!this.listaLayout.hasOwnProperty(q.id)){const j=await $db.contato.leCompletoV3(q.id);j.detalhes=!1,j.remover=!1,this.listaLayout[q.id]=j}this.listaLayout[q.id].remover||(oe=!1),this.listaLayout[q.id].detalhes||(te=!1)}this.$refs.contatoLista.checkbox=oe,this.$refs.contatoLista.detalhes=te,this.lista=$utils.clonar(R.data),this.paginacao.total=R.total,this.paginacao.maximo=R.totalPages,n={_id:"ContatoLista_"+((ee=this.usuario)==null?void 0:ee.id),tabSelecionada:this.tabSelecionada.valor,busca:this.busca,filtros:$utils.clonar(this.filtros)},await $utils.localIDB.setItem({objectStore:"dadosRecentes",data:n})}catch{$q.notify({message:"N\xE3o foi possivel carregar os contatos.",type:"negative"})}finally{$q.loading.hide()}},async limparFiltrosClick(){this.filtros=$utils.clonar(this.filtrosOriginal),await this.atualizar()},async configurarGrupos(){try{const l=await $db.contato.leGruposUnicos();this.opcoesGrupos=l.map(a=>({label:a.descricao,value:a.descricao}))}catch{$q.notify({message:"N\xE3o foi possivel carregar os grupos.",type:"negative"})}},async configurarSegmento(){try{await $db.contato.carregarMemoria();const l=Array.from(new Set($db.contato.contatos.filter(a=>a.segmento).map(a=>a.segmento)));this.opcoesSegmento=l.map(a=>({label:a,value:a}))}catch{$q.notify({message:"N\xE3o foi possivel carregar segmentos.",type:"negative"})}},async configurarVendedores(){(await $db.contato.ler({filtros:{ativo:!0,vendedores:!0}})).data.forEach(a=>{this.opcoesVendedores.push({label:a.nome,value:a.id})})},async criarClick(){this.$refs.contatoFicha.show({id:""})},checkBoxClick(){for(const l of this.lista)this.listaLayout[l.id].remover=this.checkBox},verificarListaLayout(l){{let a=!0;for(const d of this.lista)this.listaLayout[d.id].remover||(a=!1);this.checkbox=a,this.$refs.contatoLista.checkbox=a}{let a=!0;for(const d of this.lista)this.listaLayout[d.id].detalhes||(a=!1);this.detalhes=a,this.$refs.contatoLista.detalhes=a}},async restaurarClick(){$q.dialog({title:"Restaurar itens",message:"Deseja restaurar todos os itens selecionados?",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();for(const l of this.lista)if(this.listaLayout[l.id].remover){const a=$utils.clonar(l);l.ativo=!0,await $db.contato.gravar({original:{contato:a},atual:{contato:l}})}this.checkBox=!1,$q.notify({message:"Os Contatos foram restaurados com sucesso!",type:"positive"})}catch{$q.notify({message:"Houve um erro ao restaurar os contatos. Tente novamente.",type:"negative"})}finally{$q.loading.hide()}setTimeout(async()=>{await this.atualizar()},500)})},async removerClick(){$q.dialog({title:"Remover contatos",message:"Deseja remover todos os contatos selecionados?",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{$q.loading.show();for(const l of this.lista)if(this.listaLayout[l.id].remover){const a=$utils.clonar(l);l.ativo=!1,await $db.contato.gravar({original:{contato:a},atual:{contato:l}})}this.checkBox=!1,$q.notify({message:"Os Contatos foram removidos com sucesso!",type:"positive"})}catch{$q.notify({message:"Houve um erro ao remover os contatos. Tente novamente.",type:"negative"})}finally{$q.loading.hide()}setTimeout(async()=>{await this.atualizar()},500)})},detalhesClick(){this.detalhes=!this.detalhes,this.lista.forEach(async l=>{await this.abrirDetalhes(l,this.detalhes)})},async abrirDetalhes(l,a){this.listaLayout[l.id].detalhes=a||!this.listaLayout[l.id].detalhes,this.listaLayout[l.id].detalhes&&await $db.contato.leCompleto(l.id),this.verificarListaLayout("detalhes")},async exportaXLSClick(){try{$q.loading.show();const l=$utils.eliminarVazios(this.filtros);delete l.ativo,this.tabSelecionada.valor==="Ativos"&&(l.ativo=!0),this.tabSelecionada.valaor==="Excluidos"&&(l.ativo=!1);const a=await $db.contato.leRefatorado({filtros:l,limit:999999,page:1,sort:"descricao"}),d=G.utils.book_new(),x=G.utils.json_to_sheet(a.data,{header:Object.keys(a.data[0])});G.utils.book_append_sheet(d,x,"contatos"),G.writeFile(d,"contatos.xlsx"),$q.notify({message:"Exporta\xE7\xE3o XLS concluida!",type:"positive"})}catch{$q.notify({message:"Erro ao exportar XLS.",type:"negative"})}finally{$q.loading.hide()}},async abrirItem(l){this.$router.replace({params:{id:l}}).finally(()=>{this.$refs.contatoFicha.show({id:l})})},abrirEdicaoCompleta(l){$q.dialog({title:"Contato cadastrado!",message:"Deseja abrir a edi\xE7\xE3o completa?",persistent:"Sim",ok:{label:"Sim",class:"bg-primary",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{await this.abrirItem(l)})},async restaurarContato(l,a=!1){$q.dialog({title:"Restaurar contato",message:"Deseja restaurar este contato?",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();let d=$utils.clonar(l);l.ativo=!0,a>-1&&this.lista.splice(a,1),await $db.contato.gravar({original:{contato:d},atual:{contato:l}}),$q.notify({message:"O contato foi restaurado com sucesso!",type:"positive"})}catch{$q.notify({message:"Ocorreu um erro ao restaurar contato.",type:"negative"})}finally{$q.loading.hide()}})},async removerContato(l,a=!1){$q.dialog({title:"Remover contato",message:"Ao continuar voc\xEA ir\xE1 remover este contato.",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();const d=$utils.clonar(l);l.ativo=!1,a>-1&&this.lista.splice(a,1),await $db.contato.gravar({atual:{contato:l},original:{contato:d}}),$q.notify({message:"O Contato foi removido com sucesso!",type:"positive"})}catch{$q.notify({message:"Ocorreu um erro ao remover contato.",type:"negative"})}finally{$q.loading.hide()}})},copiarEmail(l){this.copiaEmail=l;const a=this.$refs.inputEmail;a.type="text",a.value=l;try{a.select(),document.execCommand("copy"),this.$q.notify({message:"Copiado!",type:"info"})}catch{this.$q.notify("Erro ao copiar.")}a.type="hidden",window.getSelection().removeAllRanges()},abrirTelefone(l,a){let d="";l==="tel"&&(d=`tel:55${a.replace(/[-\s()]/g,"")}`),l==="whatsapp"&&(d=`https://wa.me/55${a.replace(/[-\s()]/g,"")}`),d&&window.open(d,"_blank").focus()},enderecoIcone(l){const a=this.tiposEnderecos.find(d=>d.label===l)||{};return{color:a.color||"dark",name:a.icon||"store_mall_directory",size:"15px"}},telefoneIcone(l){const a=this.tiposTelefones.find(d=>d.label===l)||{};return{color:a.color||"dark",name:a.icon||"store_mall_directory",size:"15px"}},idade(l){let a=l;if(!a)return 0;a=new Date(a);const d=new Date(Date.now()-a.getTime());return Math.abs(d.getUTCFullYear()-1970)},onResize(){this.width=window.innerWidth},compareObject(l,a,d=[]){const x=Object.keys(l);for(const i of x)if(!d.includes(i)){if(typeof l[i]=="object"&&l[i]!==null){if(!this.compareObject(l[i],a[i],d))continue;return!0}else if(l[i]!==a[i])return!0}return!1},cpf_ou_cnpj(l){const a=l==null?void 0:l.replace(/[^\d]/g,"");return/^\d{11}$/.test(a)?"CPF":/^\d{14}$/.test(a)?"CNPJ":"Documento inv\xE1lido"}},async created(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.filtrosOriginal=$utils.clonar(this.filtros),this.mostrarFiltroVendedores=await $db.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos"),this.mostrarFiltroVendedores&&await this.configurarVendedores(),await this.configurarSegmento(),await this.configurarGrupos(),await this.atualizar({buscarDadosRecentes:!0}),this.$route.params.id&&this.$route.params.id.length&&(this.abrirItem(this.$route.params.id),this.busca=this.$route.params.id,await this.atualizar())}},ge={id:"ContatoLista"},ve={class:"mw80 text-center"};function ye(l,a,d,x,i,r){const g=_("campo"),A=_("BadgeCopiarUid"),F=_("avatar"),v=_("g-label"),w=_("g-col"),I=_("g-row"),O=_("Lista"),T=_("ContatoModalFicha"),B=_("ContatoCombinar"),D=se("mask");return u(),L("div",ge,[t(O,{ref:"contatoLista",busca:i.busca,"onUpdate:busca":a[13]||(a[13]=e=>i.busca=e),checkBox:i.checkBox,"onUpdate:checkBox":a[14]||(a[14]=e=>i.checkBox=e),onAtualizar:r.atualizar,onCheckBoxClick:r.checkBoxClick,onCriarClick:r.criarClick,onDetalhesClick:r.detalhesClick,onExportaXLSClick:r.exportaXLSClick,onLimparFiltrosClick:r.limparFiltrosClick,onRemoverClick:r.removerClick,onRestaurarClick:r.restaurarClick,lista:i.lista,tabSelecionada:i.tabSelecionada,tabs:i.tabs,paginacao:i.paginacao,mostrar:i.mostrar},{menuExtras:o(()=>[t(y,{onClick:a[0]||(a[0]=()=>{this.combinarContatos=!0}),clickable:""},{default:o(()=>[t(m,{avatar:""},{default:o(()=>[t(C,{name:"compare_arrows"})]),_:1}),t(m,null,{default:o(()=>[c("Combinar Contato")]),_:1})]),_:1})]),filtroCampos:o(()=>[t(g,{modelValue:i.filtros.nome,"onUpdate:modelValue":a[1]||(a[1]=e=>i.filtros.nome=e),rotulo:"Nome ou Raz\xE3o Social",clearable:"",dense:"",class:"q-mt-sm"},null,8,["modelValue"]),U(t(g,{modelValue:i.filtros.numeroDocumentoNacional,"onUpdate:modelValue":a[2]||(a[2]=e=>i.filtros.numeroDocumentoNacional=e),rotulo:"CPF/CNPJ",clearable:"",dense:"",class:"q-mt-lg"},null,8,["modelValue"]),[[D,["###.###.###-##","##.###.###/####-##"]]]),U(t(g,{modelValue:i.filtros.telefone,"onUpdate:modelValue":a[3]||(a[3]=e=>i.filtros.telefone=e),rotulo:"Telefone",clearable:"",dense:"",class:"q-mt-lg"},null,8,["modelValue"]),[[D,["(##) # ####-####"]]]),t(g,{modelValue:i.filtros.bairro,"onUpdate:modelValue":a[4]||(a[4]=e=>i.filtros.bairro=e),rotulo:"Bairro",clearable:"",dense:"",class:"q-mt-lg"},null,8,["modelValue"]),t(g,{modelValue:i.filtros.municipio,"onUpdate:modelValue":a[5]||(a[5]=e=>i.filtros.municipio=e),rotulo:"Munic\xEDpio",clearable:"",dense:"",class:"q-mt-lg"},null,8,["modelValue"]),t(g,{modelValue:i.filtros.uf,"onUpdate:modelValue":a[6]||(a[6]=e=>i.filtros.uf=e),options:i.opcoesEstados,clearable:"",dense:"",tipo:"seletor",rotulo:"Estado",class:"q-mt-lg"},null,8,["modelValue","options"]),t(g,{modelValue:i.filtros.segmento,"onUpdate:modelValue":a[7]||(a[7]=e=>i.filtros.segmento=e),options:i.opcoesSegmento,clearable:"",dense:"",tipo:"seletor",rotulo:"Segmento ou Profiss\xE3o",class:"q-mt-lg"},null,8,["modelValue","options"]),t(g,{modelValue:i.filtros.grupo,"onUpdate:modelValue":a[8]||(a[8]=e=>i.filtros.grupo=e),options:i.opcoesGrupos,clearable:"",dense:"",tipo:"seletor",rotulo:"Grupo",class:"q-mt-lg"},null,8,["modelValue","options"]),i.mostrarFiltroVendedores?(u(),f(g,{key:0,modelValue:i.filtros.idContatoVendedor,"onUpdate:modelValue":a[9]||(a[9]=e=>i.filtros.idContatoVendedor=e),options:i.opcoesVendedores,clearable:"",dense:"",tipo:"seletor",rotulo:"Vendedor ou Assistente",class:"q-mt-lg"},null,8,["modelValue","options"])):p("",!0),t(g,{modelValue:i.paginacao.limite,"onUpdate:modelValue":a[10]||(a[10]=e=>i.paginacao.limite=e),tipo:"quantidade",dense:"",rotulo:"Quantidade por p\xE1gina",min:"1",class:"q-mt-xl"},null,8,["modelValue"])]),itemLista:o(()=>[t(le,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:o(()=>[t(ne,{onResize:r.onResize},null,8,["onResize"]),(u(!0),L(z,null,P(i.lista,(e,E)=>(u(),L("div",{key:e.id,class:"itemHover"},[i.listaLayout[e.id]?(u(),f(y,{key:0,"manual-focus":"",clickable:"",class:"q-py-sm q-px-xs items-center"},{default:o(()=>[t(m,{class:"hideonmobile col-auto no-margin"},{default:o(()=>[t(y,{class:"q-pa-none"},{default:o(()=>[t(m,{side:"",class:"col-auto q-pa-none"},{default:o(()=>[t(ie,{modelValue:i.listaLayout[e.id].remover,"onUpdate:modelValue":s=>i.listaLayout[e.id].remover=s,onClick:a[11]||(a[11]=s=>r.verificarListaLayout("checkbox"))},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(m,{side:"",class:"col-auto q-pa-none"},{default:o(()=>[V("div",ve,[t(A,{id:e.id,numero:e.codigoContato,cor:e.ativo?"positive":"tertiary",dica:"C\xF3digo Contato"},null,8,["id","numero","cor"])])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(m,{class:"col-md col-lg col-xl no-margin"},{default:o(()=>[t(y,{class:"q-pa-none"},{default:o(()=>[t(m,{onClick:s=>r.abrirItem(e.id),class:"col-auto items-center"},{default:o(()=>[t(F,{imagem:e.photo,rotulo:e.nome,tamanho:"40",style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"]),t(ie,{modelValue:i.listaLayout[e.id].remover,"onUpdate:modelValue":s=>i.listaLayout[e.id].remover=s,onClick:a[12]||(a[12]=s=>r.verificarListaLayout("checkbox")),class:"hideondesktop q-mt-md"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["onClick"]),t(m,{onClick:s=>r.abrirItem(e.id),class:"col"},{default:o(()=>[t(k,{lines:"2",class:"text-weight-bold"},{default:o(()=>[V("span",null,[c(h(e.apelido||e.nome)+" ",1),t(S,{anchor:"bottom middle",self:"center middle"},{default:o(()=>[c("Apelido/Fantasia")]),_:1})])]),_:2},1024),e.apelido&&e.apelido!==e.nome?(u(),f(k,{key:0,caption:"",lines:"2"},{default:o(()=>[V("span",null,[c(h(e.nome)+" ",1),t(S,{anchor:"bottom middle",self:"center middle"},{default:o(()=>[c("Nome/Raz\xE3o")]),_:1})])]),_:2},1024)):p("",!0),t(m,{top:"",class:"hideondesktop q-mt-xs"},{default:o(()=>[t(k,null,{default:o(()=>[t(A,{id:e.id,numero:e.codigoContato,cor:e.ativo?"positive":"tertiary"},null,8,["id","numero","cor"])]),_:2},1024),e.numeroDocumentoNacional||e.numeroDocumentoEstadual||e.dataAbertura?(u(),f(y,{key:0,class:"q-pa-none q-mt-xs"},{default:o(()=>[e.dataAbertura?(u(),f(m,{key:0,top:"",class:"no-margin col-shrink q-pr-sm"},{default:o(()=>[t(k,{caption:"",class:"text-weight-medium"},{default:o(()=>[t(C,{name:"mdi-calendar"}),c(" "+h(l.$filters.data(e.dataAbertura)),1)]),_:2},1024),r.cpf_ou_cnpj(e.numeroDocumentoNacional)==="CPF"?(u(),f(k,{key:0,caption:""},{default:o(()=>[c(h(r.idade(e.dataAbertura)>0?"Idade: "+r.idade(e.dataAbertura):""),1)]),_:2},1024)):p("",!0)]),_:2},1024)):p("",!0),e.numeroDocumentoNacional||e.numeroDocumentoEstadual?(u(),f(m,{key:1,top:"",class:"no-margin"},{default:o(()=>[e.numeroDocumentoNacional?(u(),f(k,{key:0,caption:"",lines:"2",class:"text-weight-medium"},{default:o(()=>[c(h(e.numeroDocumentoNacional),1)]),_:2},1024)):p("",!0),e.numeroDocumentoEstadual?(u(),f(k,{key:1,caption:"",lines:"2"},{default:o(()=>[c(h(e.numeroDocumentoEstadual),1)]),_:2},1024)):p("",!0)]),_:2},1024)):p("",!0)]),_:2},1024)):p("",!0)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),t(m,{onClick:s=>r.abrirItem(e.id),class:"hideonmobile maxw100 no-margin"},{default:o(()=>[e.dataAbertura?(u(),f(k,{key:0,caption:"",class:"text-weight-medium"},{default:o(()=>[V("span",null,[t(C,{name:"mdi-calendar"}),c(" "+h(l.$filters.data(e.dataAbertura))+" ",1),r.cpf_ou_cnpj(e.numeroDocumentoNacional)==="CPF"?(u(),f(S,{key:0,anchor:"bottom middle",self:"center middle"},{default:o(()=>[c(" Data Nascimento ")]),_:1})):p("",!0),r.cpf_ou_cnpj(e.numeroDocumentoNacional)==="CNPJ"?(u(),f(S,{key:1,anchor:"bottom middle",self:"center middle"},{default:o(()=>[c(" Data Funda\xE7\xE3o ")]),_:1})):p("",!0)])]),_:2},1024)):p("",!0),r.cpf_ou_cnpj(e.numeroDocumentoNacional)==="CPF"?(u(),f(k,{key:1,caption:""},{default:o(()=>[c(h(r.idade(e.dataAbertura)>0?"Idade: "+r.idade(e.dataAbertura):""),1)]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),t(m,{onClick:s=>r.abrirItem(e.id),class:"hideonmobile maxw130 no-margin"},{default:o(()=>[e.numeroDocumentoNacional?(u(),f(k,{key:0,caption:"",lines:"2",class:"text-weight-bold"},{default:o(()=>[V("span",null,[c(h(e.numeroDocumentoNacional)+" ",1),r.cpf_ou_cnpj(e.numeroDocumentoNacional)==="CPF"?(u(),f(S,{key:0,anchor:"bottom middle",self:"center middle"},{default:o(()=>[c(" CPF ")]),_:1})):p("",!0),r.cpf_ou_cnpj(e.numeroDocumentoNacional)==="CNPJ"?(u(),f(S,{key:1,anchor:"bottom middle",self:"center middle"},{default:o(()=>[c(" CNPJ ")]),_:1})):p("",!0)])]),_:2},1024)):p("",!0),e.numeroDocumentoEstadual?(u(),f(k,{key:1,caption:"",lines:"2"},{default:o(()=>[V("span",null,[c(h(e.numeroDocumentoEstadual)+" ",1),t(S,{anchor:"bottom middle",self:"center middle"},{default:o(()=>[c("RG/IE")]),_:1})])]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),t(m,{class:"col-auto q-pl-sm no-margin"},{default:o(()=>[t(y,{class:"q-pa-none"},{default:o(()=>[t(m,{class:"hideonmobile no-margin"},{default:o(()=>[i.listaLayout[e.id]?(u(),f(Q,{key:0,onClick:s=>r.abrirDetalhes(e),flat:"",dense:"",round:"",size:"md",icon:i.listaLayout[e.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])):p("",!0)]),_:2},1024),t(m,{class:"hideonmobile no-margin"},{default:o(()=>[t(Q,{onClick:s=>r.abrirItem(e.id),class:"hideonmobile",icon:"edit",size:"md",color:"primary",flat:"",dense:"",round:""},null,8,["onClick"])]),_:2},1024),t(m,{class:"no-margin"},{default:o(()=>[t(Q,{icon:"more_vert",size:"md",round:"",flat:"",dense:""},{default:o(()=>[t(ue,null,{default:o(()=>[U((u(),f(le,{link:"","no-border":"",separator:""},{default:o(()=>{var s;return[t(y,{onClick:b=>r.abrirDetalhes(e),clickable:"",class:"hideondesktop"},{default:o(()=>[t(m,{avatar:""},{default:o(()=>[t(C,{name:i.listaLayout[e.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down",size:"sm"},null,8,["name"])]),_:2},1024),t(m,null,{default:o(()=>[c("Detalhes")]),_:1})]),_:2},1032,["onClick"]),t(y,{onClick:b=>r.abrirItem(e.id),clickable:"",class:"hideondesktop"},{default:o(()=>[t(m,{avatar:""},{default:o(()=>[t(C,{name:"edit",size:"sm"})]),_:1}),t(m,null,{default:o(()=>[c("Editar")]),_:1})]),_:2},1032,["onClick"]),i.listaLayout[e.id].telefone.length?(u(!0),L(z,{key:0},P(i.listaLayout[e.id].telefone,b=>(u(),f(y,{key:b,clickable:"",class:"q-pa-none"},{default:o(()=>[t(m,{onClick:M=>r.abrirTelefone("tel",b.telefone),class:"no-padding itemHover"},{default:o(()=>[t(y,null,{default:o(()=>[t(m,{avatar:"",class:"no-padding"},{default:o(()=>[t(C,{name:"phone",size:"sm"})]),_:1}),t(m,{class:"no-padding"},{default:o(()=>[t(k,null,{default:o(()=>[c(h(b.telefone),1)]),_:2},1024),t(k,{caption:""},{default:o(()=>[c(h(b.tipoTelefone),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]),b.tipoTelefone==="Celular"||b.tipoTelefone==="WhatsApp"?(u(),f(m,{key:0,onClick:M=>r.abrirTelefone("whatsapp",b.telefone),side:"",class:"no-padding itemHover"},{default:o(()=>[t(C,{name:"mdi-whatsapp",size:"sm",class:"q-px-sm"})]),_:2},1032,["onClick"])):p("",!0)]),_:2},1024))),128)):p("",!0),(s=e==null?void 0:e.email)!=null&&s.length?(u(),f(y,{key:1,onClick:b=>r.copiarEmail(e.email),clickable:""},{default:o(()=>[t(m,{avatar:""},{default:o(()=>[t(C,{name:"email",size:"sm"})]),_:1}),t(m,null,{default:o(()=>[c(" Enviar por E-mail ")]),_:1})]),_:2},1032,["onClick"])):p("",!0),e.ativo?(u(),f(y,{key:2,clickable:"",onClick:b=>r.removerContato(e,E)},{default:o(()=>[t(m,{avatar:""},{default:o(()=>[t(C,{name:"delete",size:"sm"})]),_:1}),t(m,null,{default:o(()=>[c("Remover")]),_:1})]),_:2},1032,["onClick"])):p("",!0),e.ativo?p("",!0):(u(),f(y,{key:3,clickable:"",onClick:b=>r.restaurarContato(e,E)},{default:o(()=>[t(m,{avatar:""},{default:o(()=>[t(C,{name:"restore_from_trash",size:"sm"})]),_:1}),t(m,null,{default:o(()=>[c("Restaurar")]),_:1})]),_:2},1032,["onClick"]))]}),_:2},1024)),[[ce]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):p("",!0),i.listaLayout[e.id]&&i.listaLayout[e.id].detalhes?(u(),f(I,{key:1,gutter:"md-x lg-y"},{default:o(()=>[t(w,{col:"xs12 sm6 md",bordered:""},{default:o(()=>[t(v,{caption:"",icon:"location_on 14px tertiary"},{default:o(()=>[c(" Local ")]),_:1}),(u(!0),L(z,null,P(i.listaLayout[e.id].endereco.filter(s=>s.logradouro),s=>(u(),f(v,{key:s.id,text:"medium",lines:"3",caption:i.width<=992,icon:`
                    ${r.enderecoIcone(s.grupo).name}
                    ${r.enderecoIcone(s.grupo).size}
                    ${r.enderecoIcone(s.grupo).color}
                  `,class:"q-pl-md"},{default:o(()=>[c(h(s.logradouro)+" "+h(s.numero?", "+s.numero:"")+" "+h(s.complemento?", "+s.complemento:"")+" "+h(s.bairro?", "+s.bairro:"")+" "+h(s.municipio)+" "+h(s.uf?"-"+s.uf:"")+" "+h(s.cep?", CEP: "+s.cep:""),1)]),_:2},1032,["caption","icon"]))),128))]),_:2},1024),t(w,{col:"xs12 sm6 md",bordered:""},{default:o(()=>[t(v,{caption:"",icon:"phone 14px tertiary"},{default:o(()=>[c(" Telefones ")]),_:1}),(u(!0),L(z,null,P(i.listaLayout[e.id].telefone,s=>(u(),f(v,{key:s.id,text:"medium",lines:"2",caption:i.width<=992,icon:`
                    ${r.telefoneIcone(s.tipoTelefone).name}
                    ${r.telefoneIcone(s.tipoTelefone).size}
                    ${r.telefoneIcone(s.tipoTelefone).color}
                  `,class:"q-pl-md"},{default:o(()=>[c(h(s.telefone),1)]),_:2},1032,["caption","icon"]))),128)),t(v,{caption:"",icon:"email 14px tertiary"},{default:o(()=>[c(" E-mail ")]),_:1}),t(v,{caption:i.width<=992,text:"medium",class:"q-pl-md"},{default:o(()=>[c(h(e.email),1)]),_:2},1032,["caption"])]),_:2},1024),t(w,{col:"xs12 sm4 md",bordered:""},{default:o(()=>[t(v,{caption:"",icon:"local_offer 14px tertiary"},{default:o(()=>[c(" Segmento ")]),_:1}),e.segmento?(u(),f(v,{key:0,caption:i.width<=992,icon:"remove 14px tertiary left",text:"medium",class:"q-pl-md"},{default:o(()=>[c(h(e.segmento),1)]),_:2},1032,["caption"])):p("",!0)]),_:2},1024),t(w,{col:"xs12 sm4 md",bordered:""},{default:o(()=>[t(v,{caption:"",icon:"local_offer 14px tertiary"},{default:o(()=>[c(" Grupos ")]),_:1}),i.listaLayout[e.id].grupo?(u(!0),L(z,{key:0},P(i.listaLayout[e.id].grupo,s=>(u(),f(v,{key:s.id,caption:i.width<=992,icon:"remove 14px tertiary left",text:"medium",class:"q-pl-md"},{default:o(()=>[c(h(s.descricao),1)]),_:2},1032,["caption"]))),128)):p("",!0)]),_:2},1024)]),_:2},1024)):p("",!0),i.listaLayout[e.id]?(u(),f(de,{key:2})):p("",!0)]))),128))]),_:1})]),_:1},8,["busca","checkBox","onAtualizar","onCheckBoxClick","onCriarClick","onDetalhesClick","onExportaXLSClick","onLimparFiltrosClick","onRemoverClick","onRestaurarClick","lista","tabSelecionada","tabs","paginacao","mostrar"]),t(T,{ref:"contatoFicha",onAtualizar:r.atualizar},null,8,["onAtualizar"]),t(B,{modelValue:i.combinarContatos,"onUpdate:modelValue":a[15]||(a[15]=e=>i.combinarContatos=e),onAtualizar:r.atualizar},null,8,["modelValue","onAtualizar"]),U(V("input",{type:"hidden","onUpdate:modelValue":a[16]||(a[16]=e=>i.copiaEmail=e),ref:"inputEmail"},null,512),[[me,i.copiaEmail]])])}var ze=re(be,[["render",ye]]);export{ze as default};
