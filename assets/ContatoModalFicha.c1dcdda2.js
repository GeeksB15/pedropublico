import{_ as h,r as _,o as r,d as n,w as t,f as a,M as v,I as Q,G as y,h as C,H as u,Q as d,N as c,i as g,k as f,t as z,aP as b,P as k,S as w,T as m,j as q,U as I,J as P,D as x}from"./index.a1a1867c.js";import D from"./ContatoFicha.bbeb2131.js";const F={components:{ContatoFicha:D},data(){return{id:"",contato:{},visivel:!1}},emits:["atualizar"],methods:{fechar(){this.visivel=!1,this.$router.replace({params:{id:null}}).finally(()=>{this.$emit("atualizar")}),this.atualizarLista&&this.atualizarLista()},async duplicarItem(e){try{let o=await $db.item.duplica(e);await this.atualizar(o),$q.notifyPositive("O produto foi duplicado com sucesso.")}catch(o){$q.notifyError("Ocorreu erro ao duplicar Produto",o)}},async atualizar({id:e}){this.id=e;try{this.$q.loading.show()}finally{this.$q.loading.hide()}},async show({id:e}){return this.visivel=!0,this.id=e,this.atualizar({id:e})}},props:{atualizarLista:{required:!1,type:Function}}};function L(e,o,$,T,i,l){const p=_("contatoFicha");return r(),n(x,{modelValue:i.visivel,"onUpdate:modelValue":o[1]||(o[1]=s=>i.visivel=s),maximized:""},{default:t(()=>[a(v,{class:"bg-light",container:""},{default:t(()=>[a(Q,{class:"u-container"},{default:t(()=>[a(y,{class:"bg-gradiente"},{default:t(()=>[a(C,{class:"no-shadow q-px-none q-py-sm",color:"transparent"},{default:t(()=>[u(a(d,{dense:"",flat:"",icon:"arrow_back",round:"",onClick:l.fechar},null,8,["onClick"]),[[c]]),a(g,null,{default:t(()=>[f(z(i.contato.nome||"Contato"),1)]),_:1}),a(d,{dense:"",flat:"",icon:"more_vert",round:"",size:"md"},{default:t(()=>[a(b,null,{default:t(()=>[a(k,{link:"","no-border":"",separator:""},{default:t(()=>[u((r(),n(w,{clickable:"",onClick:o[0]||(o[0]=s=>l.duplicarItem(e.item.id))},{default:t(()=>[a(m,{avatar:""},{default:t(()=>[a(q,{name:"control_point_duplicate"})]),_:1}),a(m,null,{default:t(()=>[a(I,null,{default:t(()=>[f("Duplicar Contato")]),_:1})]),_:1})]),_:1})),[[c]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(P,null,{default:t(()=>[a(p,{ref:"modalContatoFicha",id:i.id},null,8,["id"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}var N=h(F,[["render",L]]);export{N as m};
