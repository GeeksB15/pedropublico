import{_ as re,r as _,as as se,o as u,n as L,f as t,w as a,R as y,S as m,j as C,k as c,G as U,d as f,e as p,O as le,bs as ne,F as z,s as P,aT as ie,B as S,T as k,t as b,m as V,Q,ax as ue,M as ce,l as de,d0 as me}from"./index.129a5639.js";import{X as G}from"./xlsx.38714f5b.js";import{L as fe}from"./Lista.0485e31d.js";import{m as pe}from"./ContatoModalFicha.6b3741f7.js";import{C as be}from"./ContatoCombinar.bd236b22.js";import"./QBtnDropdown.549d789e.js";import"./QBtnGroup.dde1c940.js";import"./QScrollArea.93b95b42.js";import"./ContatoFicha.4b7703c8.js";import"./Icone.d7011941.js";import"./SeletorPais.a99f74f6.js";import"./open-url.c0a12cc1.js";const he={components:{Lista:fe,ContatoModalFicha:pe,ContatoCombinar:be},data(){return{usuario:"",mostrarFiltroVendedores:!1,width:0,lista:[],listaLayout:{},mostrar:{header:!0,barraTopo:!0,toolbarTitulo:!0,icone:"group",titulo:"Contatos",buscar:!0,filtroAvancado:!0,btnAjuda:!0,btnAtualizar:!0,btnNovo:!0,toolbarAcoes:!0,checkBox:!0,btnRemover:!0,btnRestaurar:!0,centralizaTabs:!1,btnDetalhes:!0,btnExportaXLS:!0,btnMenuMais:!0,toolbarAdicao:!1,bannerMsg:""},busca:"",filtrosOriginal:{},filtros:{nome:null,numeroDocumentoNacional:null,telefone:null,bairro:null,municipio:null,uf:null,grupo:null,segmento:null,idContatoVendedor:null},opcoesEstados:[{label:"Acre (AC)",value:"AC"},{label:"Alagoas (AL)",value:"AL"},{label:"Amap\xE1 (AP)",value:"AP"},{label:"Amazonas (AM)",value:"AM"},{label:"Bahia (BA)",value:"BA"},{label:"Cear\xE1 (CE)",value:"CE"},{label:"Distrito Federal (DF)",value:"DF"},{label:"Esp\xEDrito Santo (ES)",value:"ES"},{label:"Goi\xE1s (GO)",value:"GO"},{label:"Maranh\xE3o (MA)",value:"MA"},{label:"Mato Grosso (MT)",value:"MT"},{label:"Mato Grosso do Sul (MS)",value:"MS"},{label:"Minas Gerais (MG)",value:"MG"},{label:"Par\xE1 (PA)",value:"PA"},{label:"Para\xEDba (PB)",value:"PB"},{label:"Paran\xE1 (PR)",value:"PR"},{label:"Pernambuco (PE)",value:"PE"},{label:"Piau\xED (PI)",value:"PI"},{label:"Rio de Janeiro (RJ)",value:"RJ"},{label:"Rio Grande do Norte (RN)",value:"RN"},{label:"Rio Grande do Sul (RS)",value:"RS"},{label:"Rond\xF4nia (RO)",value:"RO"},{label:"Roraima (RR)",value:"RR"},{label:"Santa Catarina (SC)",value:"SC"},{label:"S\xE3o Paulo (SP)",value:"SP"},{label:"Sergipe (SE)",value:"SE"},{label:"Tocantins (TO)",value:"TO"}],opcoesGrupos:[],opcoesSegmento:[],opcoesVendedores:[],tabSelecionada:{valor:""},tabs:[{valor:"Ativos",rotulo:"Ativos"},{valor:"Excluidos",rotulo:"Exclu\xEDdos"},{valor:"",rotulo:"Todos"}],detalhes:!1,checkBox:!1,paginacao:{atual:1,maximo:1,total:1,limite:25},tiposEnderecos:[{label:"Principal",value:"Principal",icon:"star",color:"orange"},{label:"Cobran\xE7a",value:"Cobran\xE7a",icon:"attach_money"},{label:"Comercial",value:"Comercial",icon:"business"},{label:"Correspond\xEAncia",value:"Correspond\xEAncia",icon:"mail"},{label:"Entrega",value:"Entrega",icon:"local_shipping"},{label:"Instala\xE7\xE3o",value:"Instala\xE7\xE3o",icon:"build"},{label:"Residencial",value:"Residencial",icon:"store_mall_directory"},{label:"Outros",value:"Outros",icon:"location_city"}],tiposTelefones:[{label:"Principal",value:"Principal",icon:"star",color:"orange"},{label:"WhatsApp",value:"WhatsApp",icon:"mdi-whatsapp"},{label:"Celular",value:"Celular",icon:"phone_iphone"},{label:"Comercial",value:"Comercial",icon:"phone"},{label:"Fixo",value:"Fixo",icon:"phone"}],copiaEmail:"",combinarContatos:!1}},methods:{async atualizar(l){var e,d,x,i,r,g,A,F,v,w,I,T,O,B,D,o,E,s,h,M,X,J,H,W,Y,K,Z,$,ee;try{$q.loading.show(),this.lista=[],this.tabSelecionadaAnt!==this.tabSelecionada.valor&&(this.paginacao.atual=1),this.tabSelecionadaAnt=this.tabSelecionada.valor;let{buscarDadosRecentes:oe}=l!=null?l:{},n={},N={};oe&&(n=await $utils.localIDB.getItem({objectStore:"dadosRecentes",id:"ContatoLista_"+((e=this.usuario)==null?void 0:e.id)}),n!=null&&n._id&&(this.tabSelecionada.valor=n==null?void 0:n.tabSelecionada,this.busca=(n==null?void 0:n.busca)||"",this.filtros={nome:((d=n==null?void 0:n.filtros)==null?void 0:d.nome)||null,numeroDocumentoNacional:((x=n==null?void 0:n.filtros)==null?void 0:x.numeroDocumentoNacional)||null,telefone:((i=n==null?void 0:n.filtros)==null?void 0:i.telefone)||null,bairro:((r=n==null?void 0:n.filtros)==null?void 0:r.bairro)||null,municipio:((g=n==null?void 0:n.filtros)==null?void 0:g.municipio)||null,uf:((A=n==null?void 0:n.filtros)==null?void 0:A.uf)||null,grupo:((F=n==null?void 0:n.filtros)==null?void 0:F.grupo)||null,segmento:((v=n==null?void 0:n.filtros)==null?void 0:v.segmento)||null,idContatoVendedor:((w=n==null?void 0:n.filtros)==null?void 0:w.idContatoVendedor)||null},this.compareObject(this.filtrosOriginal,this.filtros,["ativo"])&&(this.$refs.contatoLista.filtros=!0))),this.busca=((I=this.busca)==null?void 0:I.trim())||"",this.filtros={termoBusca:this.busca,nome:(O=(T=this.filtros)==null?void 0:T.nome)==null?void 0:O.trim(),numeroDocumentoNacional:(D=(B=this.filtros)==null?void 0:B.numeroDocumentoNacional)==null?void 0:D.trim(),telefone:(E=(o=this.filtros)==null?void 0:o.telefone)==null?void 0:E.trim(),bairro:(h=(s=this.filtros)==null?void 0:s.bairro)==null?void 0:h.trim(),municipio:(X=(M=this.filtros)==null?void 0:M.municipio)==null?void 0:X.trim(),uf:(H=(J=this.filtros)==null?void 0:J.uf)==null?void 0:H.trim(),grupo:(Y=(W=this.filtros)==null?void 0:W.grupo)==null?void 0:Y.trim(),segmento:(Z=(K=this.filtros)==null?void 0:K.segmento)==null?void 0:Z.trim(),idContatoVendedor:($=this.filtros)==null?void 0:$.idContatoVendedor},this.filtros=$utils.eliminarVazios(this.filtros),delete this.filtros.ativo,this.tabSelecionada.valor==="Ativos"&&(this.filtros.ativo=!0),this.tabSelecionada.valor==="Excluidos"&&(this.filtros.ativo=!1),N=$utils.clonarV2(this.filtros),/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(this.busca)&&(N={},this.tabSelecionada.valor="",this.paginacao.atual=1,N.id=this.busca),N.somenteCarteira=!0;let R=await $db.contato.ler({filtros:N,limit:this.paginacao.limite,page:this.paginacao.atual,sort:["nome"]}),ae=!0,te=!0;for(const q of R.data){if(!this.listaLayout.hasOwnProperty(q.id)){const j=await $db.contato.leCompletoV3(q.id);j.detalhes=!1,j.remover=!1,this.listaLayout[q.id]=j}this.listaLayout[q.id].remover||(ae=!1),this.listaLayout[q.id].detalhes||(te=!1)}this.$refs.contatoLista.checkbox=ae,this.$refs.contatoLista.detalhes=te,this.lista=$utils.clonar(R.data),this.paginacao.total=R.total,this.paginacao.maximo=R.totalPages,n={_id:"ContatoLista_"+((ee=this.usuario)==null?void 0:ee.id),tabSelecionada:this.tabSelecionada.valor,busca:this.busca,filtros:$utils.clonar(this.filtros)},await $utils.localIDB.setItem({objectStore:"dadosRecentes",data:n})}catch{$q.notify({message:"N\xE3o foi possivel carregar os contatos.",type:"negative"})}finally{$q.loading.hide()}},async limparFiltrosClick(){this.filtros=$utils.clonar(this.filtrosOriginal),await this.atualizar()},async configurarGrupos(){try{const l=await $db.contato.leGruposUnicos();this.opcoesGrupos=l.map(e=>({label:e.descricao,value:e.descricao}))}catch{$q.notify({message:"N\xE3o foi possivel carregar os grupos.",type:"negative"})}},async configurarSegmento(){try{await $db.contato.carregarMemoria();const l=Array.from(new Set($db.contato.contatos.filter(e=>e.segmento).map(e=>e.segmento)));this.opcoesSegmento=l.map(e=>({label:e,value:e}))}catch{$q.notify({message:"N\xE3o foi possivel carregar segmentos.",type:"negative"})}},async configurarVendedores(){(await $db.contato.ler({filtros:{ativo:!0,vendedores:!0}})).data.forEach(e=>{this.opcoesVendedores.push({label:e.nome,value:e.id})})},async criarClick(){this.$refs.contatoFicha.show({id:""})},checkBoxClick(){for(const l of this.lista)this.listaLayout[l.id].remover=this.checkBox},verificarListaLayout(l){{let e=!0;for(const d of this.lista)this.listaLayout[d.id].remover||(e=!1);this.checkbox=e,this.$refs.contatoLista.checkbox=e}{let e=!0;for(const d of this.lista)this.listaLayout[d.id].detalhes||(e=!1);this.detalhes=e,this.$refs.contatoLista.detalhes=e}},async restaurarClick(){$q.dialog({title:"Restaurar itens",message:"Deseja restaurar todos os itens selecionados?",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();for(const l of this.lista)if(this.listaLayout[l.id].remover){const e=$utils.clonar(l);l.ativo=!0,await $db.contato.gravar({original:{contato:e},atual:{contato:l}})}this.checkBox=!1,$q.notify({message:"Os Contatos foram restaurados com sucesso!",type:"positive"})}catch{$q.notify({message:"Houve um erro ao restaurar os contatos. Tente novamente.",type:"negative"})}finally{$q.loading.hide()}setTimeout(async()=>{await this.atualizar()},500)})},async removerClick(){$q.dialog({title:"Remover contatos",message:"Deseja remover todos os contatos selecionados?",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{$q.loading.show();for(const l of this.lista)if(this.listaLayout[l.id].remover){const e=$utils.clonar(l);l.ativo=!1,await $db.contato.gravar({original:{contato:e},atual:{contato:l}})}this.checkBox=!1,$q.notify({message:"Os Contatos foram removidos com sucesso!",type:"positive"})}catch{$q.notify({message:"Houve um erro ao remover os contatos. Tente novamente.",type:"negative"})}finally{$q.loading.hide()}setTimeout(async()=>{await this.atualizar()},500)})},detalhesClick(){this.detalhes=!this.detalhes,this.lista.forEach(async l=>{await this.abrirDetalhes(l,this.detalhes)})},async abrirDetalhes(l,e){this.listaLayout[l.id].detalhes=e||!this.listaLayout[l.id].detalhes,this.listaLayout[l.id].detalhes&&await $db.contato.leCompleto(l.id),this.verificarListaLayout("detalhes")},async exportaXLSClick(){try{$q.loading.show();const l=$utils.eliminarVazios(this.filtros);delete l.ativo,this.tabSelecionada.valor==="Ativos"&&(l.ativo=!0),this.tabSelecionada.valaor==="Excluidos"&&(l.ativo=!1);const e=await $db.contato.leRefatorado({filtros:l,limit:999999,page:1,sort:"descricao"}),d=G.utils.book_new(),x=G.utils.json_to_sheet(e.data,{header:Object.keys(e.data[0])});G.utils.book_append_sheet(d,x,"contatos"),G.writeFile(d,"contatos.xlsx"),$q.notify({message:"Exporta\xE7\xE3o XLS concluida!",type:"positive"})}catch{$q.notify({message:"Erro ao exportar XLS.",type:"negative"})}finally{$q.loading.hide()}},async abrirItem(l){this.$router.replace({params:{id:l}}).finally(()=>{this.$refs.contatoFicha.show({id:l})})},abrirEdicaoCompleta(l){$q.dialog({title:"Contato cadastrado!",message:"Deseja abrir a edi\xE7\xE3o completa?",persistent:"Sim",ok:{label:"Sim",class:"bg-primary",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{await this.abrirItem(l)})},async restaurarContato(l,e=!1){$q.dialog({title:"Restaurar contato",message:"Deseja restaurar este contato?",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();let d=$utils.clonar(l);l.ativo=!0,e>-1&&this.lista.splice(e,1),await $db.contato.gravar({original:{contato:d},atual:{contato:l}}),$q.notify({message:"O contato foi restaurado com sucesso!",type:"positive"})}catch{$q.notify({message:"Ocorreu um erro ao restaurar contato.",type:"negative"})}finally{$q.loading.hide()}})},async removerContato(l,e=!1){$q.dialog({title:"Remover contato",message:"Ao continuar voc\xEA ir\xE1 remover este contato.",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();const d=$utils.clonar(l);l.ativo=!1,e>-1&&this.lista.splice(e,1),await $db.contato.gravar({atual:{contato:l},original:{contato:d}}),$q.notify({message:"O Contato foi removido com sucesso!",type:"positive"})}catch{$q.notify({message:"Ocorreu um erro ao remover contato.",type:"negative"})}finally{$q.loading.hide()}})},copiarEmail(l){this.copiaEmail=l;const e=this.$refs.inputEmail;e.type="text",e.value=l;try{e.select(),document.execCommand("copy"),this.$q.notify({message:"Copiado!",type:"info"})}catch{this.$q.notify("Erro ao copiar.")}e.type="hidden",window.getSelection().removeAllRanges()},abrirTelefone(l,e){let d="";l==="tel"&&(d=`tel:55${e.replace(/[-\s()]/g,"")}`),l==="whatsapp"&&(d=`https://wa.me/55${e.replace(/[-\s()]/g,"")}`),d&&window.open(d,"_blank").focus()},enderecoIcone(l){const e=this.tiposEnderecos.find(d=>d.label===l)||{};return{color:e.color||"dark",name:e.icon||"store_mall_directory",size:"15px"}},telefoneIcone(l){const e=this.tiposTelefones.find(d=>d.label===l)||{};return{color:e.color||"dark",name:e.icon||"store_mall_directory",size:"15px"}},idade(l){let e=l;if(!e)return 0;e=new Date(e);const d=new Date(Date.now()-e.getTime());return Math.abs(d.getUTCFullYear()-1970)},onResize(){this.width=window.innerWidth},compareObject(l,e,d=[]){const x=Object.keys(l);for(const i of x)if(!d.includes(i)){if(typeof l[i]=="object"&&l[i]!==null){if(!this.compareObject(l[i],e[i],d))continue;return!0}else if(l[i]!==e[i])return!0}return!1},cpf_ou_cnpj(l){const e=l==null?void 0:l.replace(/[^\d]/g,"");return/^\d{11}$/.test(e)?"CPF":/^\d{14}$/.test(e)?"CNPJ":"Documento inv\xE1lido"}},async created(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.filtrosOriginal=$utils.clonar(this.filtros),this.mostrarFiltroVendedores=await $db.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos"),this.mostrarFiltroVendedores&&await this.configurarVendedores(),await this.configurarSegmento(),await this.configurarGrupos(),await this.atualizar({buscarDadosRecentes:!0}),this.$route.params.id&&this.$route.params.id.length&&(this.abrirItem(this.$route.params.id),this.busca=this.$route.params.id,await this.atualizar())}},ge={id:"ContatoLista"},ve={class:"mw80 text-center"};function ye(l,e,d,x,i,r){const g=_("campo"),A=_("BadgeCopiarUid"),F=_("avatar"),v=_("g-label"),w=_("g-col"),I=_("g-row"),T=_("Lista"),O=_("ContatoModalFicha"),B=_("ContatoCombinar"),D=se("mask");return u(),L("div",ge,[t(T,{ref:"contatoLista",busca:i.busca,"onUpdate:busca":e[13]||(e[13]=o=>i.busca=o),checkBox:i.checkBox,"onUpdate:checkBox":e[14]||(e[14]=o=>i.checkBox=o),onAtualizar:r.atualizar,onCheckBoxClick:r.checkBoxClick,onCriarClick:r.criarClick,onDetalhesClick:r.detalhesClick,onExportaXLSClick:r.exportaXLSClick,onLimparFiltrosClick:r.limparFiltrosClick,onRemoverClick:r.removerClick,onRestaurarClick:r.restaurarClick,lista:i.lista,tabSelecionada:i.tabSelecionada,tabs:i.tabs,paginacao:i.paginacao,mostrar:i.mostrar},{menuExtras:a(()=>[t(y,{onClick:e[0]||(e[0]=()=>{this.combinarContatos=!0}),clickable:""},{default:a(()=>[t(m,{avatar:""},{default:a(()=>[t(C,{name:"compare_arrows"})]),_:1}),t(m,null,{default:a(()=>e[17]||(e[17]=[c("Combinar Contato")])),_:1})]),_:1})]),filtroCampos:a(()=>[t(g,{modelValue:i.filtros.nome,"onUpdate:modelValue":e[1]||(e[1]=o=>i.filtros.nome=o),rotulo:"Nome ou Raz\xE3o Social",clearable:"",dense:"",class:"q-mt-sm"},null,8,["modelValue"]),U(t(g,{modelValue:i.filtros.numeroDocumentoNacional,"onUpdate:modelValue":e[2]||(e[2]=o=>i.filtros.numeroDocumentoNacional=o),rotulo:"CPF/CNPJ",clearable:"",dense:"",class:"q-mt-lg"},null,8,["modelValue"]),[[D,["###.###.###-##","##.###.###/####-##"]]]),U(t(g,{modelValue:i.filtros.telefone,"onUpdate:modelValue":e[3]||(e[3]=o=>i.filtros.telefone=o),rotulo:"Telefone",clearable:"",dense:"",class:"q-mt-lg"},null,8,["modelValue"]),[[D,["(##) # ####-####"]]]),t(g,{modelValue:i.filtros.bairro,"onUpdate:modelValue":e[4]||(e[4]=o=>i.filtros.bairro=o),rotulo:"Bairro",clearable:"",dense:"",class:"q-mt-lg"},null,8,["modelValue"]),t(g,{modelValue:i.filtros.municipio,"onUpdate:modelValue":e[5]||(e[5]=o=>i.filtros.municipio=o),rotulo:"Munic\xEDpio",clearable:"",dense:"",class:"q-mt-lg"},null,8,["modelValue"]),t(g,{modelValue:i.filtros.uf,"onUpdate:modelValue":e[6]||(e[6]=o=>i.filtros.uf=o),options:i.opcoesEstados,clearable:"",dense:"",tipo:"seletor",rotulo:"Estado",class:"q-mt-lg"},null,8,["modelValue","options"]),t(g,{modelValue:i.filtros.segmento,"onUpdate:modelValue":e[7]||(e[7]=o=>i.filtros.segmento=o),options:i.opcoesSegmento,clearable:"",dense:"",tipo:"seletor",rotulo:"Segmento ou Profiss\xE3o",class:"q-mt-lg"},null,8,["modelValue","options"]),t(g,{modelValue:i.filtros.grupo,"onUpdate:modelValue":e[8]||(e[8]=o=>i.filtros.grupo=o),options:i.opcoesGrupos,clearable:"",dense:"",tipo:"seletor",rotulo:"Grupo",class:"q-mt-lg"},null,8,["modelValue","options"]),i.mostrarFiltroVendedores?(u(),f(g,{key:0,modelValue:i.filtros.idContatoVendedor,"onUpdate:modelValue":e[9]||(e[9]=o=>i.filtros.idContatoVendedor=o),options:i.opcoesVendedores,clearable:"",dense:"",tipo:"seletor",rotulo:"Vendedor ou Assistente",class:"q-mt-lg"},null,8,["modelValue","options"])):p("",!0),t(g,{modelValue:i.paginacao.limite,"onUpdate:modelValue":e[10]||(e[10]=o=>i.paginacao.limite=o),tipo:"quantidade",dense:"",rotulo:"Quantidade por p\xE1gina",min:"1",class:"q-mt-xl"},null,8,["modelValue"])]),itemLista:a(()=>[t(le,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:a(()=>[t(ne,{onResize:r.onResize},null,8,["onResize"]),(u(!0),L(z,null,P(i.lista,(o,E)=>(u(),L("div",{key:o.id,class:"itemHover"},[i.listaLayout[o.id]?(u(),f(y,{key:0,"manual-focus":"",clickable:"",class:"q-py-sm q-px-xs items-center"},{default:a(()=>[t(m,{class:"hideonmobile col-auto no-margin"},{default:a(()=>[t(y,{class:"q-pa-none"},{default:a(()=>[t(m,{side:"",class:"col-auto q-pa-none"},{default:a(()=>[t(ie,{modelValue:i.listaLayout[o.id].remover,"onUpdate:modelValue":s=>i.listaLayout[o.id].remover=s,onClick:e[11]||(e[11]=s=>r.verificarListaLayout("checkbox"))},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(m,{side:"",class:"col-auto q-pa-none"},{default:a(()=>[S("div",ve,[t(A,{id:o.id,numero:o.codigoContato,cor:o.ativo?"positive":"tertiary",dica:"C\xF3digo Contato"},null,8,["id","numero","cor"])])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(m,{class:"col-md col-lg col-xl no-margin"},{default:a(()=>[t(y,{class:"q-pa-none"},{default:a(()=>[t(m,{onClick:s=>r.abrirItem(o.id),class:"col-auto items-center"},{default:a(()=>[t(F,{imagem:o.photo,rotulo:o.nome,tamanho:"40",style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"]),t(ie,{modelValue:i.listaLayout[o.id].remover,"onUpdate:modelValue":s=>i.listaLayout[o.id].remover=s,onClick:e[12]||(e[12]=s=>r.verificarListaLayout("checkbox")),class:"hideondesktop q-mt-md"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["onClick"]),t(m,{onClick:s=>r.abrirItem(o.id),class:"col"},{default:a(()=>[t(k,{lines:"2",class:"text-weight-bold"},{default:a(()=>[S("span",null,[c(b(o.apelido||o.nome)+" ",1),t(V,{anchor:"bottom middle",self:"center middle"},{default:a(()=>e[18]||(e[18]=[c("Apelido/Fantasia")])),_:1})])]),_:2},1024),o.apelido&&o.apelido!==o.nome?(u(),f(k,{key:0,caption:"",lines:"2"},{default:a(()=>[S("span",null,[c(b(o.nome)+" ",1),t(V,{anchor:"bottom middle",self:"center middle"},{default:a(()=>e[19]||(e[19]=[c("Nome/Raz\xE3o")])),_:1})])]),_:2},1024)):p("",!0),t(m,{top:"",class:"hideondesktop q-mt-xs"},{default:a(()=>[t(k,null,{default:a(()=>[t(A,{id:o.id,numero:o.codigoContato,cor:o.ativo?"positive":"tertiary"},null,8,["id","numero","cor"])]),_:2},1024),o.numeroDocumentoNacional||o.numeroDocumentoEstadual||o.dataAbertura?(u(),f(y,{key:0,class:"q-pa-none q-mt-xs"},{default:a(()=>[o.dataAbertura?(u(),f(m,{key:0,top:"",class:"no-margin col-shrink q-pr-sm"},{default:a(()=>[t(k,{caption:"",class:"text-weight-medium"},{default:a(()=>[t(C,{name:"mdi-calendar"}),c(" "+b(l.$filters.data(o.dataAbertura)),1)]),_:2},1024),r.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CPF"?(u(),f(k,{key:0,caption:""},{default:a(()=>[c(b(r.idade(o.dataAbertura)>0?"Idade: "+r.idade(o.dataAbertura):""),1)]),_:2},1024)):p("",!0)]),_:2},1024)):p("",!0),o.numeroDocumentoNacional||o.numeroDocumentoEstadual?(u(),f(m,{key:1,top:"",class:"no-margin"},{default:a(()=>[o.numeroDocumentoNacional?(u(),f(k,{key:0,caption:"",lines:"2",class:"text-weight-medium"},{default:a(()=>[c(b(o.numeroDocumentoNacional),1)]),_:2},1024)):p("",!0),o.numeroDocumentoEstadual?(u(),f(k,{key:1,caption:"",lines:"2"},{default:a(()=>[c(b(o.numeroDocumentoEstadual),1)]),_:2},1024)):p("",!0)]),_:2},1024)):p("",!0)]),_:2},1024)):p("",!0)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),t(m,{onClick:s=>r.abrirItem(o.id),class:"hideonmobile maxw100 no-margin"},{default:a(()=>[o.dataAbertura?(u(),f(k,{key:0,caption:"",class:"text-weight-medium"},{default:a(()=>[S("span",null,[t(C,{name:"mdi-calendar"}),c(" "+b(l.$filters.data(o.dataAbertura))+" ",1),r.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CPF"?(u(),f(V,{key:0,anchor:"bottom middle",self:"center middle"},{default:a(()=>e[20]||(e[20]=[c(" Data Nascimento ")])),_:1})):p("",!0),r.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CNPJ"?(u(),f(V,{key:1,anchor:"bottom middle",self:"center middle"},{default:a(()=>e[21]||(e[21]=[c(" Data Funda\xE7\xE3o ")])),_:1})):p("",!0)])]),_:2},1024)):p("",!0),r.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CPF"?(u(),f(k,{key:1,caption:""},{default:a(()=>[c(b(r.idade(o.dataAbertura)>0?"Idade: "+r.idade(o.dataAbertura):""),1)]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),t(m,{onClick:s=>r.abrirItem(o.id),class:"hideonmobile maxw130 no-margin"},{default:a(()=>[o.numeroDocumentoNacional?(u(),f(k,{key:0,caption:"",lines:"2",class:"text-weight-bold"},{default:a(()=>[S("span",null,[c(b(o.numeroDocumentoNacional)+" ",1),r.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CPF"?(u(),f(V,{key:0,anchor:"bottom middle",self:"center middle"},{default:a(()=>e[22]||(e[22]=[c(" CPF ")])),_:1})):p("",!0),r.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CNPJ"?(u(),f(V,{key:1,anchor:"bottom middle",self:"center middle"},{default:a(()=>e[23]||(e[23]=[c(" CNPJ ")])),_:1})):p("",!0)])]),_:2},1024)):p("",!0),o.numeroDocumentoEstadual?(u(),f(k,{key:1,caption:"",lines:"2"},{default:a(()=>[S("span",null,[c(b(o.numeroDocumentoEstadual)+" ",1),t(V,{anchor:"bottom middle",self:"center middle"},{default:a(()=>e[24]||(e[24]=[c("RG/IE")])),_:1})])]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),t(m,{class:"col-auto q-pl-sm no-margin"},{default:a(()=>[t(y,{class:"q-pa-none"},{default:a(()=>[t(m,{class:"hideonmobile no-margin"},{default:a(()=>[i.listaLayout[o.id]?(u(),f(Q,{key:0,onClick:s=>r.abrirDetalhes(o),flat:"",dense:"",round:"",size:"md",icon:i.listaLayout[o.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])):p("",!0)]),_:2},1024),t(m,{class:"hideonmobile no-margin"},{default:a(()=>[t(Q,{onClick:s=>r.abrirItem(o.id),class:"hideonmobile",icon:"edit",size:"md",color:"primary",flat:"",dense:"",round:""},null,8,["onClick"])]),_:2},1024),t(m,{class:"no-margin"},{default:a(()=>[t(Q,{icon:"more_vert",size:"md",round:"",flat:"",dense:""},{default:a(()=>[t(ue,null,{default:a(()=>[U((u(),f(le,{link:"","no-border":"",separator:""},{default:a(()=>{var s;return[t(y,{onClick:h=>r.abrirDetalhes(o),clickable:"",class:"hideondesktop"},{default:a(()=>[t(m,{avatar:""},{default:a(()=>[t(C,{name:i.listaLayout[o.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down",size:"sm"},null,8,["name"])]),_:2},1024),t(m,null,{default:a(()=>e[25]||(e[25]=[c("Detalhes")])),_:1})]),_:2},1032,["onClick"]),t(y,{onClick:h=>r.abrirItem(o.id),clickable:"",class:"hideondesktop"},{default:a(()=>[t(m,{avatar:""},{default:a(()=>[t(C,{name:"edit",size:"sm"})]),_:1}),t(m,null,{default:a(()=>e[26]||(e[26]=[c("Editar")])),_:1})]),_:2},1032,["onClick"]),i.listaLayout[o.id].telefone.length?(u(!0),L(z,{key:0},P(i.listaLayout[o.id].telefone,h=>(u(),f(y,{key:h,clickable:"",class:"q-pa-none"},{default:a(()=>[t(m,{onClick:M=>r.abrirTelefone("tel",h.telefone),class:"no-padding itemHover"},{default:a(()=>[t(y,null,{default:a(()=>[t(m,{avatar:"",class:"no-padding"},{default:a(()=>[t(C,{name:"phone",size:"sm"})]),_:1}),t(m,{class:"no-padding"},{default:a(()=>[t(k,null,{default:a(()=>[c(b(h.telefone),1)]),_:2},1024),t(k,{caption:""},{default:a(()=>[c(b(h.tipoTelefone),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]),h.tipoTelefone==="Celular"||h.tipoTelefone==="WhatsApp"?(u(),f(m,{key:0,onClick:M=>r.abrirTelefone("whatsapp",h.telefone),side:"",class:"no-padding itemHover"},{default:a(()=>[t(C,{name:"mdi-whatsapp",size:"sm",class:"q-px-sm"})]),_:2},1032,["onClick"])):p("",!0)]),_:2},1024))),128)):p("",!0),(s=o==null?void 0:o.email)!=null&&s.length?(u(),f(y,{key:1,onClick:h=>r.copiarEmail(o.email),clickable:""},{default:a(()=>[t(m,{avatar:""},{default:a(()=>[t(C,{name:"email",size:"sm"})]),_:1}),t(m,null,{default:a(()=>e[27]||(e[27]=[c(" Enviar por E-mail ")])),_:1})]),_:2},1032,["onClick"])):p("",!0),o.ativo?(u(),f(y,{key:2,clickable:"",onClick:h=>r.removerContato(o,E)},{default:a(()=>[t(m,{avatar:""},{default:a(()=>[t(C,{name:"delete",size:"sm"})]),_:1}),t(m,null,{default:a(()=>e[28]||(e[28]=[c("Remover")])),_:1})]),_:2},1032,["onClick"])):p("",!0),o.ativo?p("",!0):(u(),f(y,{key:3,clickable:"",onClick:h=>r.restaurarContato(o,E)},{default:a(()=>[t(m,{avatar:""},{default:a(()=>[t(C,{name:"restore_from_trash",size:"sm"})]),_:1}),t(m,null,{default:a(()=>e[29]||(e[29]=[c("Restaurar")])),_:1})]),_:2},1032,["onClick"]))]}),_:2},1024)),[[ce]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):p("",!0),i.listaLayout[o.id]&&i.listaLayout[o.id].detalhes?(u(),f(I,{key:1,gutter:"md-x lg-y"},{default:a(()=>[t(w,{col:"xs12 sm6 md",bordered:""},{default:a(()=>[t(v,{caption:"",icon:"location_on 14px tertiary"},{default:a(()=>e[30]||(e[30]=[c(" Local ")])),_:1}),(u(!0),L(z,null,P(i.listaLayout[o.id].endereco.filter(s=>s.logradouro),s=>(u(),f(v,{key:s.id,text:"medium",lines:"3",caption:i.width<=992,icon:`
                    ${r.enderecoIcone(s.grupo).name}
                    ${r.enderecoIcone(s.grupo).size}
                    ${r.enderecoIcone(s.grupo).color}
                  `,class:"q-pl-md"},{default:a(()=>[c(b(s.logradouro)+" "+b(s.numero?", "+s.numero:"")+" "+b(s.complemento?", "+s.complemento:"")+" "+b(s.bairro?", "+s.bairro:"")+" "+b(s.municipio)+" "+b(s.uf?"-"+s.uf:"")+" "+b(s.cep?", CEP: "+s.cep:""),1)]),_:2},1032,["caption","icon"]))),128))]),_:2},1024),t(w,{col:"xs12 sm6 md",bordered:""},{default:a(()=>[t(v,{caption:"",icon:"phone 14px tertiary"},{default:a(()=>e[31]||(e[31]=[c(" Telefones ")])),_:1}),(u(!0),L(z,null,P(i.listaLayout[o.id].telefone,s=>(u(),f(v,{key:s.id,text:"medium",lines:"2",caption:i.width<=992,icon:`
                    ${r.telefoneIcone(s.tipoTelefone).name}
                    ${r.telefoneIcone(s.tipoTelefone).size}
                    ${r.telefoneIcone(s.tipoTelefone).color}
                  `,class:"q-pl-md"},{default:a(()=>[c(b(s.telefone),1)]),_:2},1032,["caption","icon"]))),128)),t(v,{caption:"",icon:"email 14px tertiary"},{default:a(()=>e[32]||(e[32]=[c(" E-mail ")])),_:1}),t(v,{caption:i.width<=992,text:"medium",class:"q-pl-md"},{default:a(()=>[c(b(o.email),1)]),_:2},1032,["caption"])]),_:2},1024),t(w,{col:"xs12 sm4 md",bordered:""},{default:a(()=>[t(v,{caption:"",icon:"local_offer 14px tertiary"},{default:a(()=>e[33]||(e[33]=[c(" Segmento ")])),_:1}),o.segmento?(u(),f(v,{key:0,caption:i.width<=992,icon:"remove 14px tertiary left",text:"medium",class:"q-pl-md"},{default:a(()=>[c(b(o.segmento),1)]),_:2},1032,["caption"])):p("",!0)]),_:2},1024),t(w,{col:"xs12 sm4 md",bordered:""},{default:a(()=>[t(v,{caption:"",icon:"local_offer 14px tertiary"},{default:a(()=>e[34]||(e[34]=[c(" Grupos ")])),_:1}),i.listaLayout[o.id].grupo?(u(!0),L(z,{key:0},P(i.listaLayout[o.id].grupo,s=>(u(),f(v,{key:s.id,caption:i.width<=992,icon:"remove 14px tertiary left",text:"medium",class:"q-pl-md"},{default:a(()=>[c(b(s.descricao),1)]),_:2},1032,["caption"]))),128)):p("",!0)]),_:2},1024)]),_:2},1024)):p("",!0),i.listaLayout[o.id]?(u(),f(de,{key:2})):p("",!0)]))),128))]),_:1})]),_:1},8,["busca","checkBox","onAtualizar","onCheckBoxClick","onCriarClick","onDetalhesClick","onExportaXLSClick","onLimparFiltrosClick","onRemoverClick","onRestaurarClick","lista","tabSelecionada","tabs","paginacao","mostrar"]),t(O,{ref:"contatoFicha",onAtualizar:r.atualizar},null,8,["onAtualizar"]),t(B,{modelValue:i.combinarContatos,"onUpdate:modelValue":e[15]||(e[15]=o=>i.combinarContatos=o),onAtualizar:r.atualizar},null,8,["modelValue","onAtualizar"]),U(S("input",{type:"hidden","onUpdate:modelValue":e[16]||(e[16]=o=>i.copiaEmail=o),ref:"inputEmail"},null,512),[[me,i.copiaEmail]])])}var ze=re(he,[["render",ye]]);export{ze as default};
